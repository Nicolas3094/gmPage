var VA=Object.defineProperty,jA=Object.defineProperties;var UA=Object.getOwnPropertyDescriptors;var yI=Object.getOwnPropertySymbols;var BA=Object.prototype.hasOwnProperty,$A=Object.prototype.propertyIsEnumerable;var vI=(n,e,t)=>e in n?VA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})BA.call(e,t)&&vI(n,t,e[t]);if(yI)for(var t of yI(e))$A.call(e,t)&&vI(n,t,e[t]);return n},De=(n,e)=>jA(n,UA(e));var D=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});function _I(n,e){return Object.is(n,e)}var Ze=null,xc=!1,nf=1,Bi=Symbol("SIGNAL");function ge(n){let e=Ze;return Ze=n,e}function rf(){return Ze}var Nc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function of(n){if(xc)throw new Error("");if(Ze===null)return;Ze.consumerOnSignalRead(n);let e=Ze.nextProducerIndex++;if(kc(Ze),e<Ze.producerNode.length&&Ze.producerNode[e]!==n&&Fs(Ze)){let t=Ze.producerNode[e];Oc(t,Ze.producerIndexOfThis[e])}Ze.producerNode[e]!==n&&(Ze.producerNode[e]=n,Ze.producerIndexOfThis[e]=Fs(Ze)?TI(n,Ze,e):0),Ze.producerLastReadVersion[e]=n.version}function II(){nf++}function wI(n){if(!(Fs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===nf)){if(!n.producerMustRecompute(n)&&!cf(n)){tf(n);return}n.producerRecomputeValue(n),tf(n)}}function sf(n){if(n.liveConsumerNode===void 0)return;let e=xc;xc=!0;try{for(let t of n.liveConsumerNode)t.dirty||HA(t)}finally{xc=e}}function EI(){return Ze?.consumerAllowSignalWrites!==!1}function HA(n){n.dirty=!0,sf(n),n.consumerMarkedDirty?.(n)}function tf(n){n.dirty=!1,n.lastCleanEpoch=nf}function af(n){return n&&(n.nextProducerIndex=0),ge(n)}function CI(n,e){if(ge(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Fs(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Oc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function cf(n){kc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(wI(t),r!==t.version))return!0}return!1}function uf(n){if(kc(n),Fs(n))for(let e=0;e<n.producerNode.length;e++)Oc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function TI(n,e,t){if(bI(n),n.liveConsumerNode.length===0&&DI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=TI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Oc(n,e){if(bI(n),n.liveConsumerNode.length===1&&DI(n))for(let r=0;r<n.producerNode.length;r++)Oc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];kc(i),i.producerIndexOfThis[r]=e}}function Fs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function kc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function bI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function DI(n){return n.producerNode!==void 0}function zA(){throw new Error}var SI=zA;function qA(n){SI(n)}function lf(n){SI=n}var WA=null;function df(n,e){EI()||qA(n),n.equal(n.value,e)||(n.value=e,GA(n))}var hf=De(j({},Nc),{equal:_I,value:void 0,kind:"signal"});function GA(n){n.version++,II(),sf(n),WA?.()}var ff;function Ls(){return ff}function Bn(n){let e=ff;return ff=n,e}var Fc=Symbol("NotFound");function J(n){return typeof n=="function"}function $i(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Lc=$i(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function zr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof Lc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{AI(o)}catch(s){e=e??[],s instanceof Lc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Lc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)AI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&zr(t,e)}remove(e){let{_finalizers:t}=this;t&&zr(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();var pf=je.EMPTY;function Vc(n){return n instanceof je||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function AI(n){J(n)?n():n.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hi={setTimeout(n,e,...t){let{delegate:r}=Hi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Hi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function jc(n){Hi.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(n);else throw n})}function Vs(){}var RI=gf("C",void 0,void 0);function MI(n){return gf("E",void 0,n)}function PI(n){return gf("N",n,void 0)}function gf(n,e,t){return{kind:n,value:e,error:t}}var qr=null;function zi(n){if(rn.useDeprecatedSynchronousErrorHandling){let e=!qr;if(e&&(qr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=qr;if(qr=null,t)throw r}}else n()}function xI(n){rn.useDeprecatedSynchronousErrorHandling&&qr&&(qr.errorThrown=!0,qr.error=n)}var Wr=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vc(e)&&e.add(this)):this.destination=rR}static create(e,t,r){return new qi(e,t,r)}next(e){this.isStopped?yf(PI(e),this):this._next(e)}error(e){this.isStopped?yf(MI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yf(RI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tR=Function.prototype.bind;function mf(n,e){return tR.call(n,e)}var vf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Uc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Uc(r)}else Uc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Uc(t)}}},qi=class extends Wr{constructor(e,t,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mf(e.next,o),error:e.error&&mf(e.error,o),complete:e.complete&&mf(e.complete,o)}):i=e}this.destination=new vf(i)}};function Uc(n){rn.useDeprecatedSynchronousErrorHandling?xI(n):jc(n)}function nR(n){throw n}function yf(n,e){let{onStoppedNotification:t}=rn;t&&Hi.setTimeout(()=>t(n,e))}var rR={closed:!0,next:Vs,error:nR,complete:Vs};var Wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(n){return n}function Bc(...n){return _f(n)}function _f(n){return n.length===0?Nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=oR(t)?t:new qi(t,r,i);return zi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=NI(r),new r((i,o)=>{let s=new qi({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Wi](){return this}pipe(...t){return _f(t)(this)}toPromise(t){return t=NI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function NI(n){var e;return(e=n??rn.Promise)!==null&&e!==void 0?e:Promise}function iR(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function oR(n){return n&&n instanceof Wr||iR(n)&&Vc(n)}function If(n){return J(n?.lift)}function he(n){return e=>{if(If(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(n,e,t,r,i){return new wf(n,e,t,r,i)}var wf=class extends Wr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Gi(){return he((n,e)=>{let t=null;n._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ki=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,If(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(le(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return Gi()(this)}};var OI=$i(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new $c(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new OI}next(t){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pf:(this.currentObservers=null,o.push(t),new je(()=>{this.currentObservers=null,zr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new $c(e,t),n})(),$c=class extends ze{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:pf}};var Ue=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ef={now(){return(Ef.delegate||Date).now()},delegate:void 0};var Hc=class extends je{constructor(e,t){super()}schedule(e,t=0){return this}};var js={setInterval(n,e,...t){let{delegate:r}=js;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=js;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Qi=class extends Hc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return js.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&js.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,zr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Yi=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Yi.now=Ef.now;var Zi=class extends Yi{constructor(e,t=Yi.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Cf=new Zi(Qi);var zc=class extends Qi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var qc=class extends Zi{};var Tf=new qc(zc);var Dt=new ie(n=>n.complete());function kI(n){return n&&J(n.schedule)}function FI(n){return n[n.length-1]}function Wc(n){return J(FI(n))?n.pop():void 0}function pr(n){return kI(FI(n))?n.pop():void 0}function bf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function VI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(g){s(g)}}function u(f){try{l(r.throw(f))}catch(g){s(g)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function LI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gr(n){return this instanceof Gr?(this.v=n,this):new Gr(n)}function jI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(A){return Promise.resolve(A).then(m,g)}}function c(m,A){r[m]&&(i[m]=function(N){return new Promise(function(O,W){o.push([m,N,O,W])>1||u(m,N)})},A&&(i[m]=A(i[m])))}function u(m,A){try{l(r[m](A))}catch(N){v(o[0][3],N)}}function l(m){m.value instanceof Gr?Promise.resolve(m.value.v).then(f,g):v(o[0][2],m)}function f(m){u("next",m)}function g(m){u("throw",m)}function v(m,A){m(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function UI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof LI=="function"?LI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Gc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Kc(n){return J(n?.then)}function Qc(n){return J(n[Wi])}function Yc(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function Zc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jc=sR();function Xc(n){return J(n?.[Jc])}function eu(n){return jI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Gr(t.read());if(i)return yield Gr(void 0);yield yield Gr(r)}}finally{t.releaseLock()}})}function tu(n){return J(n?.getReader)}function qe(n){if(n instanceof ie)return n;if(n!=null){if(Qc(n))return aR(n);if(Gc(n))return cR(n);if(Kc(n))return uR(n);if(Yc(n))return BI(n);if(Xc(n))return lR(n);if(tu(n))return dR(n)}throw Zc(n)}function aR(n){return new ie(e=>{let t=n[Wi]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cR(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function uR(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jc)})}function lR(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function BI(n){return new ie(e=>{hR(n,e).catch(t=>e.error(t))})}function dR(n){return BI(eu(n))}function hR(n,e){var t,r,i,o;return VI(this,void 0,void 0,function*(){try{for(t=UI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function St(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function gr(n,e=0){return he((t,r)=>{t.subscribe(le(r,i=>St(r,n,()=>r.next(i),e),()=>St(r,n,()=>r.complete(),e),i=>St(r,n,()=>r.error(i),e)))})}function mr(n,e=0){return he((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function $I(n,e){return qe(n).pipe(mr(e),gr(e))}function HI(n,e){return qe(n).pipe(mr(e),gr(e))}function zI(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function qI(n,e){return new ie(t=>{let r;return St(t,e,()=>{r=n[Jc](),St(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function nu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{St(t,e,()=>{let r=n[Symbol.asyncIterator]();St(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function WI(n,e){return nu(eu(n),e)}function GI(n,e){if(n!=null){if(Qc(n))return $I(n,e);if(Gc(n))return zI(n,e);if(Kc(n))return HI(n,e);if(Yc(n))return nu(n,e);if(Xc(n))return qI(n,e);if(tu(n))return WI(n,e)}throw Zc(n)}function de(n,e){return e?GI(n,e):qe(n)}function K(...n){let e=pr(n);return de(n,e)}function Ji(n,e){let t=J(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function Df(n){return!!n&&(n instanceof ie||J(n.lift)&&J(n.subscribe))}var $n=$i(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function H(n,e){return he((t,r)=>{let i=0;t.subscribe(le(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:fR}=Array;function pR(n,e){return fR(e)?n(...e):n(e)}function ru(n){return H(e=>pR(n,e))}var{isArray:gR}=Array,{getPrototypeOf:mR,prototype:yR,keys:vR}=Object;function iu(n){if(n.length===1){let e=n[0];if(gR(e))return{args:e,keys:null};if(_R(e)){let t=vR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function _R(n){return n&&typeof n=="object"&&mR(n)===yR}function ou(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Kr(...n){let e=pr(n),t=Wc(n),{args:r,keys:i}=iu(n);if(r.length===0)return de([],e);let o=new ie(IR(r,e,i?s=>ou(i,s):Nt));return t?o.pipe(ru(t)):o}function IR(n,e,t=Nt){return r=>{KI(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)KI(e,()=>{let l=de(n[u],e),f=!1;l.subscribe(le(r,g=>{o[u]=g,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function KI(n,e,t){n?St(t,n,e):e()}function QI(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,g=!1,v=()=>{g&&!u.length&&!l&&e.complete()},m=N=>l<r?A(N):u.push(N),A=N=>{o&&e.next(N),l++;let O=!1;qe(t(N,f++)).subscribe(le(e,W=>{i?.(W),o?m(W):e.next(W)},()=>{O=!0},void 0,()=>{if(O)try{for(l--;u.length&&l<r;){let W=u.shift();s?St(e,s,()=>A(W)):A(W)}v()}catch(W){e.error(W)}}))};return n.subscribe(le(e,m,()=>{g=!0,v()})),()=>{c?.()}}function Be(n,e,t=1/0){return J(e)?Be((r,i)=>H((o,s)=>e(r,o,i,s))(qe(n(r,i))),t):(typeof e=="number"&&(t=e),he((r,i)=>QI(r,i,n,t)))}function Xi(n=1/0){return Be(Nt,n)}function YI(){return Xi(1)}function eo(...n){return YI()(de(n,pr(n)))}function su(n){return new ie(e=>{qe(n()).subscribe(e)})}function on(...n){let e=Wc(n),{args:t,keys:r}=iu(n),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let g=!1;qe(t[f]).subscribe(le(o,v=>{g||(g=!0,l--),c[f]=v},()=>u--,void 0,()=>{(!u||!g)&&(l||o.next(r?ou(r,c):c),o.complete())}))}});return e?i.pipe(ru(e)):i}function At(n,e){return he((t,r)=>{let i=0;t.subscribe(le(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Hn(n){return he((e,t)=>{let r=null,i=!1,o;r=e.subscribe(le(t,void 0,void 0,s=>{o=qe(n(s,Hn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ZI(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(le(s,f=>{let g=l++;u=c?n(u,f,g):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function yr(n,e){return J(e)?Be(n,e,1):Be(n,1)}function vr(n){return he((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ut(n){return n<=0?()=>Dt:he((e,t)=>{let r=0;e.subscribe(le(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function au(n=wR){return he((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wR(){return new $n}function Us(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function zn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):Nt,Ut(1),t?vr(e):au(()=>new $n))}function to(n){return n<=0?()=>Dt:he((e,t)=>{let r=[];e.subscribe(le(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Sf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):Nt,to(1),t?vr(e):au(()=>new $n))}function cu(n,e){return he(ZI(n,e,arguments.length>=2,!0))}function uu(...n){let e=pr(n);return he((t,r)=>{(e?eo(n,t,e):eo(n,t)).subscribe(r)})}function ke(n,e){return he((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(le(r,u=>{i?.unsubscribe();let l=0,f=o++;qe(n(u,f)).subscribe(i=le(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Af(n){return he((e,t)=>{qe(n).subscribe(le(t,()=>t.complete(),Vs)),!t.closed&&e.subscribe(t)})}function We(n,e,t){let r=J(n)||e||t?{next:n,error:e,complete:t}:n;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(le(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}var Lw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",z=class extends Error{code;constructor(e,t){super(Vw(e,t)),this.code=e}};function ER(n){return`NG0${Math.abs(n)}`}function Vw(n,e){return`${ER(n)}${e?": "+e:""}`}var jw=Symbol("InputSignalNode#UNSET"),CR=De(j({},hf),{transformFn:void 0,applyValueToInputSignal(n,e){df(n,e)}});function Uw(n,e){let t=Object.create(CR);t.value=n,t.transformFn=e?.transform;function r(){if(of(t),t.value===jw){let i=null;throw new z(-950,i)}return t.value}return r[Bi]=t,r}function Zs(n){return{toString:n}.toString()}var lu="__parameters__";function TR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Bw(n,e,t){return Zs(()=>{let r=TR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let g=u.hasOwnProperty(lu)?u[lu]:Object.defineProperty(u,lu,{value:[]})[lu];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Se(n){for(let e in n)if(n[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function Ot(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ot).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function JI(n,e){return n?e?`${n} ${e}`:n:e||""}var bR=Se({__forward_ref__:Se});function $w(n){return n.__forward_ref__=$w,n.toString=function(){return Ot(this())},n}function $t(n){return Hw(n)?n():n}function Hw(n){return typeof n=="function"&&n.hasOwnProperty(bR)&&n.__forward_ref__===$w}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Js(n){return{providers:n.providers||[],imports:n.imports||[]}}function ju(n){return XI(n,qw)||XI(n,Ww)}function zw(n){return ju(n)!==null}function XI(n,e){return n.hasOwnProperty(e)?n[e]:null}function DR(n){let e=n&&(n[qw]||n[Ww]);return e||null}function ew(n){return n&&(n.hasOwnProperty(tw)||n.hasOwnProperty(SR))?n[tw]:null}var qw=Se({\u0275prov:Se}),tw=Se({\u0275inj:Se}),Ww=Se({ngInjectableDef:Se}),SR=Se({ngInjectorDef:Se}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gw(n){return n&&!!n.\u0275providers}var AR=Se({\u0275cmp:Se}),RR=Se({\u0275dir:Se}),MR=Se({\u0275pipe:Se}),PR=Se({\u0275mod:Se}),yu=Se({\u0275fac:Se}),zs=Se({__NG_ELEMENT_ID__:Se}),nw=Se({__NG_ENV_ID__:Se});function Sp(n){return typeof n=="string"?n:n==null?"":String(n)}function xR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Sp(n)}function Kw(n,e){throw new z(-200,n)}function Ap(n,e){throw new z(-201,!1)}var ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ne||{}),Ff;function Qw(){return Ff}function Bt(n){let e=Ff;return Ff=n,e}function Yw(n,e,t){let r=ju(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ne.Optional)return null;if(e!==void 0)return e;Ap(n,"Injector")}var NR={},Qr=NR,Lf="__NG_DI_FLAG__",vu=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Fc:Qr,r)}},_u="ngTempTokenPath",OR="ngTokenPath",kR=/\n/gm,FR="\u0275",rw="__source";function LR(n,e=ne.Default){if(Ls()===void 0)throw new z(-203,!1);if(Ls()===null)return Yw(n,void 0,e);{let t=Ls(),r;return t instanceof vu?r=t.injector:r=t,r.get(n,e&ne.Optional?null:void 0,e)}}function Q(n,e=ne.Default){return(Qw()||LR)($t(n),e)}function R(n,e=ne.Default){return Q(n,Uu(e))}function Uu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vf(n){let e=[];for(let t=0;t<n.length;t++){let r=$t(n[t]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let c=r[s],u=VR(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Q(i,o))}else e.push(Q(r))}return e}function Zw(n,e){return n[Lf]=e,n.prototype[Lf]=e,n}function VR(n){return n[Lf]}function jR(n,e,t,r){let i=n[_u];throw e[rw]&&i.unshift(e[rw]),n.message=UR(`
`+n.message,i,t,r),n[OR]=i,n[_u]=null,n}function UR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==FR?n.slice(2):n;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Ot(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(kR,`
  `)}`}var Gn=Zw(Bw("Optional"),8);var BR=Zw(Bw("SkipSelf"),4);function co(n,e){let t=n.hasOwnProperty(yu);return t?n[yu]:null}function $R(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function HR(n){return n.flat(Number.POSITIVE_INFINITY)}function Rp(n,e){n.forEach(t=>Array.isArray(t)?Rp(t,e):e(t))}function Jw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Iu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var uo={},In=[],qs=new q(""),Xw=new q("",-1),eE=new q(""),wu=class{get(e,t=Qr){if(t===Qr){let r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return t}};function tE(n,e){let t=n[PR]||null;if(!t&&e===!0)throw new Error(`Type ${Ot(n)} does not have '\u0275mod' property.`);return t}function Zr(n){return n[AR]||null}function zR(n){return n[RR]||null}function qR(n){return n[MR]||null}function oi(n){return{\u0275providers:n}}function WR(...n){return{\u0275providers:nE(!0,n),\u0275fromNgModule:!0}}function nE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Rp(e,s=>{let c=s;jf(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&rE(i,o),t}function rE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Mp(i,o=>{e(o,r)})}}function jf(n,e,t,r){if(n=$t(n),!n)return!1;let i=null,o=ew(n),s=!o&&Zr(n);if(!o&&!s){let u=n.ngModule;if(o=ew(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)jf(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Rp(o.imports,f=>{jf(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&rE(l,e)}if(!c){let l=co(i)||(()=>new i);e({provide:i,useFactory:l,deps:In},i),e({provide:eE,useValue:i,multi:!0},i),e({provide:qs,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;Mp(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Mp(n,e){for(let t of n)Gw(t)&&(t=t.\u0275providers),Array.isArray(t)?Mp(t,e):e(t)}var GR=Se({provide:String,useValue:Se});function iE(n){return n!==null&&typeof n=="object"&&GR in n}function KR(n){return!!(n&&n.useExisting)}function QR(n){return!!(n&&n.useFactory)}function Uf(n){return typeof n=="function"}var Bu=new q(""),du={},iw={},Rf;function Pp(){return Rf===void 0&&(Rf=new wu),Rf}var pt=class{},Ws=class extends pt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,$f(e,s=>this.processProvider(s)),this.records.set(Xw,no(void 0,this)),i.has("environment")&&this.records.set(pt,no(void 0,this));let o=this.records.get(Bu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eE,In,ne.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Fc:Qr,r)}destroy(){$s(this),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return $s(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){$s(this);let t=Bn(this),r=Bt(void 0),i;try{return e()}finally{Bn(t),Bt(r)}}get(e,t=Qr,r=ne.Default){if($s(this),e.hasOwnProperty(nw))return e[nw](this);r=Uu(r);let i,o=Bn(this),s=Bt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=tM(e)&&ju(e);l&&this.injectableDefInScope(l)?u=no(Bf(e),du):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ne.Self?Pp():this.parent;return t=r&ne.Optional&&t===Qr?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[_u]=c[_u]||[]).unshift(Ot(e)),o)throw c;return jR(c,e,"R3InjectorError",this.source)}else throw c}finally{Bt(s),Bn(o)}}resolveInjectorInitializers(){let e=ge(null),t=Bn(this),r=Bt(void 0),i;try{let o=this.get(qs,In,ne.Self);for(let s of o)s()}finally{Bn(t),Bt(r),ge(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$t(e);let t=Uf(e)?e:$t(e&&e.provide),r=ZR(e);if(!Uf(e)&&e.multi===!0){let i=this.records.get(t);i||(i=no(void 0,du,!0),i.factory=()=>Vf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ge(null);try{return t.value===iw?Kw(Ot(e)):t.value===du&&(t.value=iw,t.value=t.factory()),typeof t.value=="object"&&t.value&&eM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=$t(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Bf(n){let e=ju(n),t=e!==null?e.factory:co(n);if(t!==null)return t;if(n instanceof q)throw new z(204,!1);if(n instanceof Function)return YR(n);throw new z(204,!1)}function YR(n){if(n.length>0)throw new z(204,!1);let t=DR(n);return t!==null?()=>t.factory(n):()=>new n}function ZR(n){if(iE(n))return no(void 0,n.useValue);{let e=JR(n);return no(e,du)}}function JR(n,e,t){let r;if(Uf(n)){let i=$t(n);return co(i)||Bf(i)}else if(iE(n))r=()=>$t(n.useValue);else if(QR(n))r=()=>n.useFactory(...Vf(n.deps||[]));else if(KR(n))r=()=>Q($t(n.useExisting));else{let i=$t(n&&(n.useClass||n.provide));if(XR(n))r=()=>new i(...Vf(n.deps));else return co(i)||Bf(i)}return r}function $s(n){if(n.destroyed)throw new z(205,!1)}function no(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function XR(n){return!!n.deps}function eM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function tM(n){return typeof n=="function"||typeof n=="object"&&n instanceof q}function $f(n,e){for(let t of n)Array.isArray(t)?$f(t,e):t&&Gw(t)?$f(t.\u0275providers,e):e(t)}function mt(n,e){let t;n instanceof Ws?($s(n),t=n):t=new vu(n);let r,i=Bn(t),o=Bt(void 0);try{return e()}finally{Bn(i),Bt(o)}}function oE(){return Qw()!==void 0||Ls()!=null}function xp(n){if(!oE())throw new z(-203,!1)}function nM(n){return typeof n=="function"}var Kn=0,ae=1,Y=2,gt=3,an=4,un=5,Eu=6,Cu=7,Rt=8,lo=9,qn=10,ot=11,Gs=12,ow=13,vo=14,En=15,Jr=16,ro=17,Wn=18,$u=19,sE=20,_r=21,Mf=22,Tu=23,Ht=24,so=25,cn=26,aE=1;var Xr=7,bu=8,ho=9,kt=10;function Ir(n){return Array.isArray(n)&&typeof n[aE]=="object"}function Qn(n){return Array.isArray(n)&&n[aE]===!0}function Np(n){return(n.flags&4)!==0}function _o(n){return n.componentOffset>-1}function Hu(n){return(n.flags&1)===1}function si(n){return!!n.template}function Du(n){return(n[Y]&512)!==0}function Xs(n){return(n[Y]&256)===256}var Hf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function cE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var zu=(()=>{let n=()=>uE;return n.ngInherit=!0,n})();function uE(n){return n.type.prototype.ngOnChanges&&(n.setInput=iM),rM}function rM(){let n=dE(this),e=n?.current;if(e){let t=n.previous;if(t===uo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function iM(n,e,t,r,i){let o=this.declaredInputs[r],s=dE(n)||oM(n,{previous:uo,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Hf(l&&l.currentValue,t,u===uo),cE(n,e,i,t)}var lE="__ngSimpleChanges__";function dE(n){return n[lE]||null}function oM(n,e){return n[lE]=e}var sw=null;var Te=function(n,e=null,t){sw?.(n,e,t)},sM="svg",aM="math";function Cn(n){for(;Array.isArray(n);)n=n[Kn];return n}function cM(n,e){return Cn(e[n])}function Yn(n,e){return Cn(e[n.index])}function hE(n,e){return n.data[e]}function uM(n,e){return n[e]}function Tn(n,e){let t=e[n];return Ir(t)?t:t[Kn]}function lM(n){return(n[Y]&4)===4}function Op(n){return(n[Y]&128)===128}function dM(n){return Qn(n[gt])}function fo(n,e){return e==null?null:n[e]}function fE(n){n[ro]=0}function pE(n){n[Y]&1024||(n[Y]|=1024,Op(n)&&ea(n))}function hM(n,e){for(;n>0;)e=e[vo],n--;return e}function qu(n){return!!(n[Y]&9216||n[Ht]?.dirty)}function zf(n){n[qn].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),qu(n)&&ea(n)}function ea(n){n[qn].changeDetectionScheduler?.notify(0);let e=ei(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Op(e)));)e=ei(e)}function gE(n,e){if(Xs(n))throw new z(911,!1);n[_r]===null&&(n[_r]=[]),n[_r].push(e)}function fM(n,e){if(n[_r]===null)return;let t=n[_r].indexOf(e);t!==-1&&n[_r].splice(t,1)}function ei(n){let e=n[gt];return Qn(e)?e[gt]:e}function kp(n){return n[Cu]??=[]}function Fp(n){return n.cleanup??=[]}function pM(n,e,t,r){let i=kp(e);i.push(t),n.firstCreatePass&&Fp(n).push(r,i.length-1)}var ce={lFrame:TE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qf=!1;function gM(){return ce.lFrame.elementDepthCount}function mM(){ce.lFrame.elementDepthCount++}function yM(){ce.lFrame.elementDepthCount--}function Lp(){return ce.bindingsEnabled}function vM(){return ce.skipHydrationRootTNode!==null}function _M(n){return ce.skipHydrationRootTNode===n}function IM(){ce.skipHydrationRootTNode=null}function Ae(){return ce.lFrame.lView}function zt(){return ce.lFrame.tView}function at(n){return ce.lFrame.contextLView=n,n[Rt]}function ct(n){return ce.lFrame.contextLView=null,n}function qt(){let n=mE();for(;n!==null&&n.type===64;)n=n.parent;return n}function mE(){return ce.lFrame.currentTNode}function wM(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ai(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function Vp(){return ce.lFrame.isParent}function yE(){ce.lFrame.isParent=!1}function EM(){return ce.lFrame.contextLView}function vE(){return qf}function aw(n){let e=qf;return qf=n,e}function _E(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function CM(n){return ce.lFrame.bindingIndex=n}function IE(){return ce.lFrame.bindingIndex++}function TM(){return ce.lFrame.inI18n}function bM(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wf(e)}function DM(){return ce.lFrame.currentDirectiveIndex}function Wf(n){ce.lFrame.currentDirectiveIndex=n}function wE(){return ce.lFrame.currentQueryIndex}function jp(n){ce.lFrame.currentQueryIndex=n}function SM(n){let e=n[ae];return e.type===2?e.declTNode:e.type===1?n[un]:null}function EE(n,e,t){if(t&ne.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ne.Host);)if(i=SM(o),i===null||(o=o[vo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=CE();return r.currentTNode=e,r.lView=n,!0}function Up(n){let e=CE(),t=n[ae];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function CE(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?TE(n):e}function TE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function bE(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var DE=bE;function Bp(){let n=bE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function AM(n){return(ce.lFrame.contextLView=hM(n,ce.lFrame.contextLView))[Rt]}function $p(){return ce.lFrame.selectedIndex}function ti(n){ce.lFrame.selectedIndex=n}function SE(){let n=ce.lFrame;return hE(n.tView,n.selectedIndex)}function RM(){return ce.lFrame.currentNamespace}var AE=!0;function Wu(){return AE}function Gu(n){AE=n}function MM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=uE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Hp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function hu(n,e,t){RE(n,e,3,t)}function fu(n,e,t,r){(n[Y]&3)===t&&RE(n,e,t,r)}function Pf(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function RE(n,e,t,r){let i=r!==void 0?n[ro]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[ro]+=65536),(c<o||o==-1)&&(PM(n,t,e,u),n[ro]=(n[ro]&4294901760)+u+2),u++}function cw(n,e){Te(4,n,e);let t=ge(null);try{e.call(n)}finally{ge(t),Te(5,n,e)}}function PM(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[Y]>>14<n[ro]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,cw(c,o)):cw(c,o)}var ao=-1,Ks=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function xM(n){return(n.flags&8)!==0}function NM(n){return(n.flags&16)!==0}function OM(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];FM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function kM(n){return n===3||n===4||n===6}function FM(n){return n.charCodeAt(0)===64}function Ku(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?uw(n,t,i,null,e[++r]):uw(n,t,i,null,null))}}return n}function uw(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function ME(n){return n!==ao}function Su(n){return n&32767}function LM(n){return n>>16}function Au(n,e){let t=LM(n),r=e;for(;t>0;)r=r[vo],t--;return r}var Gf=!0;function lw(n){let e=Gf;return Gf=n,e}var VM=256,PE=VM-1,xE=5,jM=0,wn={};function UM(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(zs)&&(r=t[zs]),r==null&&(r=t[zs]=jM++);let i=r&PE,o=1<<i;e.data[n+(i>>xE)]|=o}function NE(n,e){let t=OE(n,e);if(t!==-1)return t;let r=e[ae];r.firstCreatePass&&(n.injectorIndex=e.length,xf(r.data,n),xf(e,null),xf(r.blueprint,null));let i=zp(n,e),o=n.injectorIndex;if(ME(i)){let s=Su(i),c=Au(i,e),u=c[ae].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function xf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function OE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function zp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=jE(i),r===null)return ao;if(t++,i=i[vo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ao}function BM(n,e,t){UM(n,e,t)}function kE(n,e,t){if(t&ne.Optional||n!==void 0)return n;Ap(e,"NodeInjector")}function FE(n,e,t,r){if(t&ne.Optional&&r===void 0&&(r=null),(t&(ne.Self|ne.Host))===0){let i=n[lo],o=Bt(void 0);try{return i?i.get(e,r,t&ne.Optional):Yw(e,r,t&ne.Optional)}finally{Bt(o)}}return kE(r,e,t)}function LE(n,e,t,r=ne.Default,i){if(n!==null){if(e[Y]&2048&&!(r&ne.Self)){let s=qM(n,e,t,r,wn);if(s!==wn)return s}let o=VE(n,e,t,r,wn);if(o!==wn)return o}return FE(e,t,r,i)}function VE(n,e,t,r,i){let o=HM(t);if(typeof o=="function"){if(!EE(e,n,r))return r&ne.Host?kE(i,t,r):FE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))Ap(t);else return s}finally{DE()}}else if(typeof o=="number"){let s=null,c=OE(n,e),u=ao,l=r&ne.Host?e[En][un]:null;for((c===-1||r&ne.SkipSelf)&&(u=c===-1?zp(n,e):e[c+8],u===ao||!hw(r,!1)?c=-1:(s=e[ae],c=Su(u),e=Au(u,e)));c!==-1;){let f=e[ae];if(dw(o,c,f.data)){let g=$M(c,e,t,s,r,l);if(g!==wn)return g}u=e[c+8],u!==ao&&hw(r,e[ae].data[c+8]===l)&&dw(o,c,e)?(s=f,c=Su(u),e=Au(u,e)):c=-1}}return i}function $M(n,e,t,r,i,o){let s=e[ae],c=s.data[n+8],u=r==null?_o(c)&&Gf:r!=s&&(c.type&3)!==0,l=i&ne.Host&&o===c,f=pu(c,s,t,u,l);return f!==null?Ru(e,s,f,c):wn}function pu(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,g=r?c:c+f,v=i?c+f:l;for(let m=g;m<v;m++){let A=s[m];if(m<u&&t===A||m>=u&&A.type===t)return m}if(i){let m=s[u];if(m&&si(m)&&m.type===t)return u}return null}function Ru(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Ks){let s=i;s.resolving&&Kw(xR(o[t]));let c=lw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Bt(s.injectImpl):null,f=EE(n,r,ne.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&MM(t,o[t],e)}finally{l!==null&&Bt(l),lw(c),s.resolving=!1,DE()}}return i}function HM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(zs)?n[zs]:void 0;return typeof e=="number"?e>=0?e&PE:zM:e}function dw(n,e,t){let r=1<<n;return!!(t[e+(n>>xE)]&r)}function hw(n,e){return!(n&ne.Self)&&!(n&ne.Host&&e)}var Yr=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return LE(this._tNode,this._lView,e,Uu(r),t)}};function zM(){return new Yr(qt(),Ae())}function qp(n){return Zs(()=>{let e=n.prototype.constructor,t=e[yu]||Kf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[yu]||Kf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Kf(n){return Hw(n)?()=>{let e=Kf($t(n));return e&&e()}:co(n)}function qM(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!Du(s);){let c=VE(o,s,t,r|ne.Self,wn);if(c!==wn)return c;let u=o.parent;if(!u){let l=s[sE];if(l){let f=l.get(t,wn,r);if(f!==wn)return f}u=jE(s),s=s[vo]}o=u}return i}function jE(n){let e=n[ae],t=e.type;return t===2?e.declTNode:t===1?n[un]:null}function fw(n,e=null,t=null,r){let i=UE(n,e,t,r);return i.resolveInjectorInitializers(),i}function UE(n,e=null,t=null,r,i=new Set){let o=[t||In,WR(n)];return r=r||(typeof n=="object"?void 0:Ot(n)),new Ws(o,e||Pp(),r||null,i)}var st=class n{static THROW_IF_NOT_FOUND=Qr;static NULL=new wu;static create(e,t){if(Array.isArray(e))return fw({name:""},t,e,"");{let r=e.name??"";return fw({name:r},e.parent,e.providers,r)}}static \u0275prov=L({token:n,providedIn:"any",factory:()=>Q(Xw)});static __NG_ELEMENT_ID__=-1};var WM=new q("");WM.__NG_ELEMENT_ID__=n=>{let e=qt();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&ne.Optional)return null;throw new z(204,!1)};var BE=!1,Io=(()=>{class n{static __NG_ELEMENT_ID__=GM;static __NG_ENV_ID__=t=>t}return n})(),Qf=class extends Io{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return gE(this._lView,e),()=>fM(this._lView,e)}};function GM(){return new Qf(Ae())}var ni=class{},Wp=new q("",{providedIn:"root",factory:()=>!1});var $E=new q(""),HE=new q(""),ci=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ue(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Qu=(()=>{class n{internalPendingTasks=R(ci);scheduler=R(ni);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return D(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Yf=class extends ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,oE()&&(this.destroyRef=R(Io,{optional:!0})??void 0,this.pendingTasks=R(ci,{optional:!0})??void 0)}emit(e){let t=ge(null);try{super.next(e)}finally{ge(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},ft=Yf;function Mu(...n){}function zE(n){let e,t;function r(){n=Mu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function pw(n){return queueMicrotask(()=>n()),()=>{n=Mu}}var Gp="isAngularZone",Pu=Gp+"_ID",KM=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ft(!1);onMicrotaskEmpty=new ft(!1);onStable=new ft(!1);onError=new ft(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BE}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ZM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,QM,Mu,Mu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},QM={};function Kp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function YM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){zE(()=>{n.callbackScheduled=!1,Zf(n),n.isCheckStableRunning=!0,Kp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Zf(n)}function ZM(n){let e=()=>{YM(n)},t=KM++;n._inner=n._inner.fork({name:"angular",properties:{[Gp]:!0,[Pu]:t,[Pu+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(JM(u))return r.invokeTask(o,s,c,u);try{return gw(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),mw(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return gw(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!XM(u)&&e(),mw(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Zf(n),Kp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Zf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function gw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mw(n){n._nesting--,Kp(n)}var Jf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ft;onMicrotaskEmpty=new ft;onStable=new ft;onError=new ft;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function JM(n){return qE(n,"__ignore_ng_zone__")}function XM(n){return qE(n,"__scheduler_tick__")}function qE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var bn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},eP=new q("",{providedIn:"root",factory:()=>{let n=R(Ee),e=R(bn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function yw(n,e){return Uw(n,e)}function tP(n){return Uw(jw,n)}var WE=(yw.required=tP,yw);function nP(){return wo(qt(),Ae())}function wo(n,e){return new wr(Yn(n,e))}var wr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=nP}return n})();function rP(n){return n instanceof wr?n.nativeElement:n}function iP(){return this._results[Symbol.iterator]()}var Xf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ze}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=HR(e);(this._changesDetected=!$R(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=iP};function GE(n){return(n.flags&128)===128}var KE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(KE||{}),QE=new Map,oP=0;function sP(){return oP++}function aP(n){QE.set(n[$u],n)}function ep(n){QE.delete(n[$u])}var vw="__ngContext__";function Eo(n,e){Ir(e)?(n[vw]=e[$u],aP(e)):n[vw]=e}function YE(n){return JE(n[Gs])}function ZE(n){return JE(n[an])}function JE(n){for(;n!==null&&!Qn(n);)n=n[an];return n}var tp;function XE(n){tp=n}function cP(){if(tp!==void 0)return tp;if(typeof document<"u")return document;throw new z(210,!1)}var Qp=new q("",{providedIn:"root",factory:()=>uP}),uP="ng",Yp=new q(""),Er=new q("",{providedIn:"platform",factory:()=>"unknown"});var Zp=new q("",{providedIn:"root",factory:()=>cP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lP="h",dP="b";var eC=!1,hP=new q("",{providedIn:"root",factory:()=>eC});var Jp=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Jp||{}),Co=new q(""),_w=new Set;function Yu(n){_w.has(n)||(_w.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var tC=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=fP}return n})();function fP(){return new tC(Ae(),qt())}var io=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(io||{}),nC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),pP=[io.EarlyRead,io.Write,io.MixedReadWrite,io.Read],gP=(()=>{class n{ngZone=R(Ee);scheduler=R(ni);errorHandler=R(bn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){R(Co,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Te(16),this.executing=!0;for(let r of pP)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Te(17)}register(t){let{view:r}=t;r!==void 0?((r[so]??=[]).push(t),ea(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Jp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),np=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[so];e&&(this.view[so]=e.filter(t=>t!==this))}};function Xp(n,e){!e?.injector&&xp(Xp);let t=e?.injector??R(st);return Yu("NgAfterNextRender"),yP(n,t,e,!0)}function mP(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function yP(n,e,t,r){let i=e.get(nC);i.impl??=e.get(gP);let o=e.get(Co,null,{optional:!0}),s=t?.phase??io.MixedReadWrite,c=t?.manualCleanup!==!0?e.get(Io):null,u=e.get(tC,null,{optional:!0}),l=new np(i.impl,mP(n,s),u?.view,r,c,o?.snapshot(null));return i.impl.register(l),l}var vP=()=>null;function rC(n,e,t=!1){return vP(n,e,t)}function iC(n,e){let t=n.contentQueries;if(t!==null){let r=ge(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];jp(o),c.contentQueries(2,e[s],s)}}}finally{ge(r)}}}function rp(n,e,t){jp(0);let r=ge(null);try{e(n,t)}finally{ge(r)}}function eg(n,e,t){if(Np(e)){let r=ge(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{ge(r)}}}var Dn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Dn||{});var xu=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lw})`}};function oC(n){return n instanceof xu?n.changingThisBreaksApplicationSecurity:n}function _P(n,e){let t=IP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Lw})`)}return t===e}function IP(n){return n instanceof xu&&n.getTypeName()||null}var wP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function EP(n){return n=String(n),n.match(wP)?n:"unsafe:"+n}var sC=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(sC||{});function ui(n){let e=CP();return e?e.sanitize(sC.URL,n)||"":_P(n,"URL")?oC(n):EP(Sp(n))}function CP(){let n=Ae();return n&&n[qn].sanitizer}var TP=/^>|^->|<!--|-->|--!>|<!-$/g,bP=/(<|>)/g,DP="\u200B$1\u200B";function SP(n){return n.replace(TP,e=>e.replace(bP,DP))}function aC(n){return n instanceof Function?n():n}function AP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var cC="ng-template";function RP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(tg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function tg(n){return n.type===4&&n.value!==cC}function MP(n,e,t){let r=n.type===4&&!t?cC:n.value;return e===r}function PP(n,e,t){let r=4,i=n.attrs,o=i!==null?OP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!sn(r)&&!sn(u))return!1;if(s&&sn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!MP(n,u,t)||u===""&&e.length===1){if(sn(r))return!1;s=!0}}else if(r&8){if(i===null||!RP(n,i,u,t)){if(sn(r))return!1;s=!0}}else{let l=e[++c],f=xP(u,i,tg(n),t);if(f===-1){if(sn(r))return!1;s=!0;continue}if(l!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(sn(r))return!1;s=!0}}}}return sn(r)||s}function sn(n){return(n&1)===0}function xP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kP(e,n)}function NP(n,e,t=!1){for(let r=0;r<e.length;r++)if(PP(n,e[r],t))return!0;return!1}function OP(n){for(let e=0;e<n.length;e++){let t=n[e];if(kM(t))return e}return n.length}function kP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Iw(n,e){return n?":not("+e.trim()+")":e}function FP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!sn(s)&&(e+=Iw(o,i),i=""),r=s,o=o||!sn(r);t++}return i!==""&&(e+=Iw(o,i)),e}function LP(n){return n.map(FP).join(",")}function VP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!sn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var To={};function jP(n,e){return n.createText(e)}function UP(n,e,t){n.setValue(e,t)}function BP(n,e){return n.createComment(SP(e))}function uC(n,e,t){return n.createElement(e,t)}function Nu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lC(n,e,t){n.appendChild(e,t)}function ww(n,e,t,r,i){r!==null?Nu(n,e,t,r,i):lC(n,e,t)}function $P(n,e,t){n.removeChild(null,e,t)}function HP(n,e,t){n.setAttribute(e,"style",t)}function zP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function dC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&OM(n,e,r),i!==null&&zP(n,e,i),o!==null&&HP(n,e,o)}function ng(n,e,t,r,i,o,s,c,u,l,f){let g=cn+r,v=g+i,m=qP(g,v),A=typeof l=="function"?l():l;return m[ae]={type:n,blueprint:m,template:t,queries:null,viewQuery:c,declTNode:e,data:m.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function qP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:To);return t}function WP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ng(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function rg(n,e,t,r,i,o,s,c,u,l,f){let g=e.blueprint.slice();return g[Kn]=i,g[Y]=r|4|128|8|64|1024,(l!==null||n&&n[Y]&2048)&&(g[Y]|=2048),fE(g),g[gt]=g[vo]=n,g[Rt]=t,g[qn]=s||n&&n[qn],g[ot]=c||n&&n[ot],g[lo]=u||n&&n[lo]||null,g[un]=o,g[$u]=sP(),g[Eu]=f,g[sE]=l,g[En]=e.type==2?n[En]:g,g}function GP(n,e,t){let r=Yn(e,n),i=WP(t),o=n[qn].rendererFactory,s=ig(n,rg(n,i,null,hC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function hC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function fC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ig(n,e){return n[Gs]?n[ow][an]=e:n[Gs]=e,n[ow]=e,e}function $(n=1){pC(zt(),Ae(),$p()+n,!1)}function pC(n,e,t,r){if(!r)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&hu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&fu(e,o,0,t)}ti(t)}var Zu=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Zu||{});function ip(n,e,t,r){let i=ge(null);try{let[o,s,c]=n.inputs[t],u=null;(s&Zu.SignalBased)!==0&&(u=e[o][Bi]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):cE(e,u,o,r)}finally{ge(i)}}function gC(n,e,t,r,i){let o=$p(),s=r&2;try{ti(-1),s&&e.length>cn&&pC(n,e,cn,!1),Te(s?2:0,i),t(r,i)}finally{ti(o),Te(s?3:1,i)}}function Ju(n,e,t){XP(n,e,t),(t.flags&64)===64&&ex(n,e,t)}function og(n,e,t=Yn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function KP(n,e,t,r){let o=r.get(hP,eC)||t===Dn.ShadowDom,s=n.selectRootElement(e,o);return QP(s),s}function QP(n){YP(n)}var YP=()=>null;function ZP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function mC(n,e,t,r,i,o,s,c){if(!c&&ag(e,n,t,r,i)){_o(e)&&JP(t,e.index);return}if(e.type&3){let u=Yn(e,t);r=ZP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function JP(n,e){let t=Tn(e,n);t[Y]&16||(t[Y]|=64)}function XP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;_o(t)&&GP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||NE(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Ru(e,n,s,t);if(Eo(u,e),o!==null&&nx(e,s-r,u,c,t,o),si(c)){let l=Tn(t.index,e);l[Rt]=Ru(e,n,s,t)}}}function ex(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=DM();try{ti(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Wf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&tx(u,l)}}finally{ti(-1),Wf(s)}}function tx(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function sg(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];NP(e,o.selectors,!1)&&(r??=[],si(o)?r.unshift(o):r.push(o))}return r}function nx(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];ip(r,t,u,l)}}function rx(n,e){let t=n[lo],r=t?t.get(bn,null):null;r&&r.handleError(e)}function ag(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],g=e.data[l];ip(g,t[l],f,i),c=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];ip(f,l,r,i),c=!0}return c}function ix(n,e){let t=Tn(e,n),r=t[ae];ox(r,t);let i=t[Kn];i!==null&&t[Eu]===null&&(t[Eu]=rC(i,t[lo])),Te(18),cg(r,t,t[Rt]),Te(19,t[Rt])}function ox(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function cg(n,e,t){Up(e);try{let r=n.viewQuery;r!==null&&rp(1,r,t);let i=n.template;i!==null&&gC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Wn]?.finishViewCreation(n),n.staticContentQueries&&iC(n,e),n.staticViewQueries&&rp(2,n.viewQuery,t);let o=n.components;o!==null&&sx(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,Bp()}}function sx(n,e){for(let t=0;t<e.length;t++)ix(n,e[t])}function ax(n,e,t,r){let i=ge(null);try{let o=e.tView,c=n[Y]&4096?4096:16,u=rg(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Jr]=l;let f=n[Wn];return f!==null&&(u[Wn]=f.createEmbeddedView(o)),cg(o,u,t),u}finally{ge(i)}}function Ew(n,e){return!e||e.firstChild===null||GE(n)}var cx;function ug(n,e){return cx(n,e)}var li=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(li||{});function yC(n){return(n.flags&32)===32}function oo(n,e,t,r,i){if(r!=null){let o,s=!1;Qn(r)?o=r:Ir(r)&&(s=!0,r=r[Kn]);let c=Cn(r);n===0&&t!==null?i==null?lC(e,t,c):Nu(e,t,c,i||null,!0):n===1&&t!==null?Nu(e,t,c,i||null,!0):n===2?$P(e,c,s):n===3&&e.destroyNode(c),o!=null&&Ix(e,n,o,t,i)}}function ux(n,e){vC(n,e),e[Kn]=null,e[un]=null}function lx(n,e,t,r,i,o){r[Kn]=i,r[un]=e,el(n,r,t,1,i,o)}function vC(n,e){e[qn].changeDetectionScheduler?.notify(9),el(n,e,e[ot],2,null,null)}function dx(n){let e=n[Gs];if(!e)return Nf(n[ae],n);for(;e;){let t=null;if(Ir(e))t=e[Gs];else{let r=e[kt];r&&(t=r)}if(!t){for(;e&&!e[an]&&e!==n;)Ir(e)&&Nf(e[ae],e),e=e[gt];e===null&&(e=n),Ir(e)&&Nf(e[ae],e),t=e&&e[an]}e=t}}function lg(n,e){let t=n[ho],r=t.indexOf(e);t.splice(r,1)}function _C(n,e){if(Xs(e))return;let t=e[ot];t.destroyNode&&el(n,e,t,3,null,null),dx(e)}function Nf(n,e){if(Xs(e))return;let t=ge(null);try{e[Y]&=-129,e[Y]|=256,e[Ht]&&uf(e[Ht]),fx(n,e),hx(n,e),e[ae].type===1&&e[ot].destroy();let r=e[Jr];if(r!==null&&Qn(e[gt])){r!==e[gt]&&lg(r,e);let i=e[Wn];i!==null&&i.detachView(n)}ep(e)}finally{ge(t)}}function hx(n,e){let t=n.cleanup,r=e[Cu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[Cu]=null);let i=e[_r];if(i!==null){e[_r]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Tu];if(o!==null){e[Tu]=null;for(let s of o)s.destroy()}}function fx(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ks)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Te(4,c,u);try{u.call(c)}finally{Te(5,c,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function px(n,e,t){return gx(n,e.parent,t)}function gx(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Kn];if(_o(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Dn.None||i===Dn.Emulated)return null}return Yn(r,t)}function mx(n,e,t){return vx(n,e,t)}function yx(n,e,t){return n.type&40?Yn(n,t):null}var vx=yx,Cw;function Xu(n,e,t,r){let i=px(n,r,e),o=e[ot],s=r.parent||e[un],c=mx(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)ww(o,i,t[u],c,!1);else ww(o,i,t,c,!1);Cw!==void 0&&Cw(o,r,e,t,i)}function Hs(n,e){if(e!==null){let t=e.type;if(t&3)return Yn(e,n);if(t&4)return op(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Hs(n,r);{let i=n[e.index];return Qn(i)?op(-1,i):Cn(i)}}else{if(t&128)return Hs(n,e.next);if(t&32)return ug(e,n)()||Cn(n[e.index]);{let r=IC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ei(n[En]);return Hs(i,r)}else return Hs(n,e.next)}}}return null}function IC(n,e){if(e!==null){let r=n[En][un],i=e.projection;return r.projection[i]}return null}function op(n,e){let t=kt+n+1;if(t<e.length){let r=e[t],i=r[ae].firstChild;if(i!==null)return Hs(r,i)}return e[Xr]}function dg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&Eo(Cn(c),r),t.flags|=2),!yC(t))if(u&8)dg(n,e,t.child,r,i,o,!1),oo(e,n,i,c,o);else if(u&32){let l=ug(t,r),f;for(;f=l();)oo(e,n,i,f,o);oo(e,n,i,c,o)}else u&16?_x(n,e,r,t,i,o):oo(e,n,i,c,o);t=s?t.projectionNext:t.next}}function el(n,e,t,r,i,o){dg(t,r,n.firstChild,e,i,o,!1)}function _x(n,e,t,r,i,o){let s=t[En],u=s[un].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];oo(e,n,i,f,o)}else{let l=u,f=s[gt];GE(r)&&(l.flags|=128),dg(n,e,l,f,i,o,!0)}}function Ix(n,e,t,r,i){let o=t[Xr],s=Cn(t);o!==s&&oo(e,n,r,o,i);for(let c=kt;c<t.length;c++){let u=t[c];el(u[ae],u,n,e,r,o)}}function Ou(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Cn(o)),Qn(o)&&wx(o,r);let s=t.type;if(s&8)Ou(n,e,t.child,r);else if(s&32){let c=ug(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=IC(e,t);if(Array.isArray(c))r.push(...c);else{let u=ei(e[En]);Ou(u[ae],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function wx(n,e){for(let t=kt;t<n.length;t++){let r=n[t],i=r[ae].firstChild;i!==null&&Ou(r[ae],r,i,e)}n[Xr]!==n[Kn]&&e.push(n[Xr])}function wC(n){if(n[so]!==null){for(let e of n[so])e.impl.addSequence(e);n[so].length=0}}var EC=[];function Ex(n){return n[Ht]??Cx(n)}function Cx(n){let e=EC.pop()??Object.create(bx);return e.lView=n,e}function Tx(n){n.lView[Ht]!==n&&(n.lView=null,EC.push(n))}var bx=De(j({},Nc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ea(n.lView)},consumerOnSignalRead(){this.lView[Ht]=this}});function Dx(n){let e=n[Ht]??Object.create(Sx);return e.lView=n,e}var Sx=De(j({},Nc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ei(n.lView);for(;e&&!CC(e[ae]);)e=ei(e);e&&pE(e)},consumerOnSignalRead(){this.lView[Ht]=this}});function CC(n){return n.type!==2}function TC(n){if(n[Tu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Tu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Y]&8192)}}var Ax=100;function bC(n,e=!0,t=0){let i=n[qn].rendererFactory,o=!1;o||i.begin?.();try{Rx(n,t)}catch(s){throw e&&rx(n,s),s}finally{o||i.end?.()}}function Rx(n,e){let t=vE();try{aw(!0),sp(n,e);let r=0;for(;qu(n);){if(r===Ax)throw new z(103,!1);r++,sp(n,1)}}finally{aw(t)}}function Mx(n,e,t,r){if(Xs(e))return;let i=e[Y],o=!1,s=!1;Up(e);let c=!0,u=null,l=null;o||(CC(n)?(l=Ex(e),u=af(l)):rf()===null?(c=!1,l=Dx(e),u=af(l)):e[Ht]&&(uf(e[Ht]),e[Ht]=null));try{fE(e),CM(n.bindingStartIndex),t!==null&&gC(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let m=n.preOrderCheckHooks;m!==null&&hu(e,m,null)}else{let m=n.preOrderHooks;m!==null&&fu(e,m,0,null),Pf(e,0)}if(s||Px(e),TC(e),DC(e,0),n.contentQueries!==null&&iC(n,e),!o)if(f){let m=n.contentCheckHooks;m!==null&&hu(e,m)}else{let m=n.contentHooks;m!==null&&fu(e,m,1),Pf(e,1)}Nx(n,e);let g=n.components;g!==null&&AC(e,g,0);let v=n.viewQuery;if(v!==null&&rp(2,v,r),!o)if(f){let m=n.viewCheckHooks;m!==null&&hu(e,m)}else{let m=n.viewHooks;m!==null&&fu(e,m,2),Pf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Mf]){for(let m of e[Mf])m();e[Mf]=null}o||(wC(e),e[Y]&=-73)}catch(f){throw o||ea(e),f}finally{l!==null&&(CI(l,u),c&&Tx(l)),Bp()}}function DC(n,e){for(let t=YE(n);t!==null;t=ZE(t))for(let r=kt;r<t.length;r++){let i=t[r];SC(i,e)}}function Px(n){for(let e=YE(n);e!==null;e=ZE(e)){if(!(e[Y]&2))continue;let t=e[ho];for(let r=0;r<t.length;r++){let i=t[r];pE(i)}}}function xx(n,e,t){Te(18);let r=Tn(e,n);SC(r,t),Te(19,r[Rt])}function SC(n,e){Op(n)&&sp(n,e)}function sp(n,e){let r=n[ae],i=n[Y],o=n[Ht],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cf(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)Mx(r,n,r.template,n[Rt]);else if(i&8192){TC(n),DC(n,1);let c=r.components;c!==null&&AC(n,c,1),wC(n)}}function AC(n,e,t){for(let r=0;r<e.length;r++)xx(n,e[r],t)}function Nx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ti(~i);else{let o=i,s=t[++r],c=t[++r];bM(s,o);let u=e[o];Te(24,u),c(2,u),Te(25,u)}}}finally{ti(-1)}}function hg(n,e){let t=vE()?64:1088;for(n[qn].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=ei(n);if(Du(n)&&!r)return n;n=r}return null}function RC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Ox(n,e,t,r=!0){let i=e[ae];if(kx(i,e,n,t),r){let s=op(t,n),c=e[ot],u=c.parentNode(n[Xr]);u!==null&&lx(i,n[un],c,e,u,s)}let o=e[Eu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ap(n,e){if(n.length<=kt)return;let t=kt+e,r=n[t];if(r){let i=r[Jr];i!==null&&i!==n&&lg(i,r),e>0&&(n[t-1][an]=r[an]);let o=Iu(n,kt+e);ux(r[ae],r);let s=o[Wn];s!==null&&s.detachView(o[ae]),r[gt]=null,r[an]=null,r[Y]&=-129}return r}function kx(n,e,t,r){let i=kt+r,o=t.length;r>0&&(t[i-1][an]=e),r<o-kt?(e[an]=t[i],Jw(t,kt+r,e)):(t.push(e),e[an]=null),e[gt]=t;let s=e[Jr];s!==null&&t!==s&&MC(s,e);let c=e[Wn];c!==null&&c.insertView(n),zf(e),e[Y]|=128}function MC(n,e){let t=n[ho],r=e[gt];if(Ir(r))n[Y]|=2;else{let i=r[gt][En];e[En]!==i&&(n[Y]|=2)}t===null?n[ho]=[e]:t.push(e)}var Qs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ae];return Ou(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return Xs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(Qn(e)){let t=e[bu],r=t?t.indexOf(this):-1;r>-1&&(ap(e,r),Iu(t,r))}this._attachedToViewContainer=!1}_C(this._lView[ae],this._lView)}onDestroy(e){gE(this._lView,e)}markForCheck(){hg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){zf(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,bC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Du(this._lView),t=this._lView[Jr];t!==null&&!e&&lg(t,this._lView),vC(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=Du(this._lView),r=this._lView[Jr];r!==null&&!t&&MC(r,this._lView),zf(this._lView)}};var ri=(()=>{class n{static __NG_ELEMENT_ID__=Vx}return n})(),Fx=ri,Lx=class extends Fx{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=ax(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Qs(i)}};function Vx(){return tl(qt(),Ae())}function tl(n,e){return n.type&4?new Lx(e,n,wo(n,e)):null}function nl(n,e,t,r,i){let o=n.data[e];if(o===null)o=jx(n,e,t,r,i),TM()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=wM();o.injectorIndex=s===null?-1:s.injectorIndex}return ai(o,!0),o}function jx(n,e,t,r,i){let o=mE(),s=Vp(),c=s?o:o&&o.parent,u=n.data[e]=Bx(n,c,t,e,r,i);return Ux(n,u,o,s),u}function Ux(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Bx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return vM()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var J4=new RegExp(`^(\\d+)*(${dP}|${lP})*(.*)`);var $x=()=>null;function Tw(n,e){return $x(n,e)}var Hx=class{},PC=class{},cp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ot(e)}.`)}},rl=class{static NULL=new cp},po=class{},il=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>zx()}return n})();function zx(){let n=Ae(),e=qt(),t=Tn(e.index,n);return(Ir(t)?t:n)[ot]}var qx=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>null})}return n})();var Of={},up=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Uu(r);let i=this.injector.get(e,Of,r);return i!==Of||t===Of?i:this.parentInjector.get(e,t,r)}};function lp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=JI(i,c);else if(o==2){let u=c,l=e[++s];r=JI(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Wt(n,e=ne.Default){let t=Ae();if(t===null)return Q(n,e);let r=qt();return LE(r,t,$t(n),e)}function xC(){let n="invalid";throw new Error(n)}function fg(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c,u=null,l=null,f=Gx(s);f===null?c=s:[c,u,l]=f,Yx(n,e,t,c,o,u,l)}o!==null&&r!==null&&Wx(t,r,o)}function Wx(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}function Gx(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let c=n[s];if(s===0&&si(c)&&(e=c),c.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,Kx(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function Kx(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function Qx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Yx(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let v=0;v<c;v++){let m=r[v];!u&&si(m)&&(u=!0,Qx(n,t,v)),BM(NE(t,e),n,m.type)}nN(t,n.data.length,c);for(let v=0;v<c;v++){let m=r[v];m.providersResolver&&m.providersResolver(m)}let l=!1,f=!1,g=fC(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let v=0;v<c;v++){let m=r[v];if(t.mergedAttrs=Ku(t.mergedAttrs,m.hostAttrs),Jx(n,t,e,g,m),tN(g,m,i),s!==null&&s.has(m)){let[N,O]=s.get(m);t.directiveToIndex.set(m.type,[g,N+t.directiveStart,O+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,g);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let A=m.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),g++}Zx(n,t,o)}function Zx(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))bw(0,e,i,r),bw(1,e,i,r),Sw(e,r,!1);else{let o=t.get(i);Dw(0,e,o,r),Dw(1,e,o,r),Sw(e,r,!0)}}}function bw(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),NC(e,o)}}function Dw(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),NC(e,s)}}function NC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Sw(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||tg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Jx(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=co(i.type,!0)),s=new Ks(o,si(i),Wt);n.blueprint[r]=s,t[r]=s,Xx(n,e,r,fC(n,t,i.hostVars,To),i)}function Xx(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;eN(s)!=c&&s.push(c),s.push(t,r,o)}}function eN(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function tN(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;si(e)&&(t[""]=n)}}function nN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function OC(n,e,t,r,i,o,s,c){let u=e.consts,l=fo(u,s),f=nl(e,n,2,r,l);return o&&fg(e,t,f,fo(u,c),i),f.mergedAttrs=Ku(f.mergedAttrs,f.attrs),f.attrs!==null&&lp(f,f.attrs,!1),f.mergedAttrs!==null&&lp(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function kC(n,e){Hp(n,e),Np(e)&&n.queries.elementEnd(e)}var ku=class extends rl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Zr(e);return new go(t,this.ngModule)}};function rN(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Zu.SignalBased)!==0};return i&&(o.transform=i),o})}function iN(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function oN(n,e,t){let r=e instanceof pt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new up(t,r):t}function sN(n){let e=n.get(po,null);if(e===null)throw new z(407,!1);let t=n.get(qx,null),r=n.get(ni,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function aN(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return uC(e,t,t==="svg"?sM:t==="math"?aM:null)}var go=class extends PC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=rN(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=iN(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Te(22);let o=ge(null);try{let s=this.componentDef,c=r?["ng-version","19.2.5"]:VP(this.componentDef.selectors[0]),u=ng(0,null,null,1,0,null,null,null,null,[c],null),l=oN(s,i||this.ngModule,e),f=sN(l),g=f.rendererFactory.createRenderer(null,s),v=r?KP(g,r,s.encapsulation,l):aN(s,g),m=rg(null,u,null,512|hC(s),null,null,f,g,l,null,rC(v,l,!0));m[cn]=v,Up(m);let A=null;try{let N=OC(cn,u,m,"#host",()=>[this.componentDef],!0,0);v&&(dC(g,v,N),Eo(v,m)),Ju(u,m,N),eg(u,N,m),kC(u,N),t!==void 0&&cN(N,this.ngContentSelectors,t),A=Tn(N.index,m),m[Rt]=A[Rt],cg(u,m,null)}catch(N){throw A!==null&&ep(A),ep(m),N}finally{Te(23),Bp()}return new dp(this.componentType,m)}finally{ge(o)}}},dp=class extends Hx{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=hE(t[ae],cn),this.location=wo(this._tNode,t),this.instance=Tn(this._tNode.index,t)[Rt],this.hostView=this.changeDetectorRef=new Qs(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=ag(r,i[ae],i,e,t);this.previousInputValues.set(e,t);let s=Tn(r.index,i);hg(s,1)}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Cr=(()=>{class n{static __NG_ELEMENT_ID__=uN}return n})();function uN(){let n=qt();return LC(n,Ae())}var lN=Cr,FC=class extends lN{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wo(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){let e=zp(this._hostTNode,this._hostLView);if(ME(e)){let t=Au(e,this._hostLView),r=Su(e),i=t[ae].data[r+8];return new Yr(i,t)}else return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Aw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Tw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,Ew(this._hostTNode,s)),c}createComponent(e,t,r,i,o){let s=e&&!nM(e),c;if(s)c=t;else{let A=t||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new go(Zr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(pt,null);N&&(o=N)}let f=Zr(u.componentType??{}),g=Tw(this._lContainer,f?.id??null),v=g?.firstChild??null,m=u.create(l,i,v,o);return this.insertImpl(m.hostView,c,Ew(this._hostTNode,g)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(dM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[gt],l=new FC(u,u[un],u[gt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Ox(s,i,o,r),e.attachToViewContainerRef(),Jw(kf(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Aw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ap(this._lContainer,t);r&&(Iu(kf(this._lContainer),t),_C(r[ae],r))}detach(e){let t=this._adjustIndex(e,-1),r=ap(this._lContainer,t);return r&&Iu(kf(this._lContainer),t)!=null?new Qs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Aw(n){return n[bu]}function kf(n){return n[bu]||(n[bu]=[])}function LC(n,e){let t,r=e[n.index];return Qn(r)?t=r:(t=RC(r,e,null,n),e[n.index]=t,ig(e,t)),hN(t,e,n,r),new FC(t,n,e)}function dN(n,e){let t=n[ot],r=t.createComment(""),i=Yn(e,n),o=t.parentNode(i);return Nu(t,o,r,t.nextSibling(i),!1),r}var hN=gN,fN=()=>!1;function pN(n,e,t){return fN(n,e,t)}function gN(n,e,t,r){if(n[Xr])return;let i;t.type&8?i=Cn(r):i=dN(e,t),n[Xr]=i}var hp=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},fp=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)pg(e,t).matches!==null&&this.queries[t].setDirty()}},pp=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=CN(e):this.predicate=e}},gp=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},mp=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,mN(t,o)),this.matchTNodeWithReadOption(e,t,pu(t,e,o,!1,!1))}else r===ri?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,pu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===wr||i===Cr||i===ri&&t.type&4)this.addMatch(t.index,-2);else{let o=pu(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function mN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function yN(n,e){return n.type&11?wo(n,e):n.type&4?tl(n,e):null}function vN(n,e,t,r){return t===-1?yN(e,n):t===-2?_N(n,e,r):Ru(n,n[ae],t,e)}function _N(n,e,t){if(t===wr)return wo(e,n);if(t===ri)return tl(e,n);if(t===Cr)return LC(e,n)}function VC(n,e,t,r){let i=e[Wn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let f=o[l];c.push(vN(e,f,s[u+1],t.metadata.read))}}i.matches=c}return i.matches}function yp(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=VC(n,e,i,t);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],f=e[-u];for(let g=kt;g<f.length;g++){let v=f[g];v[Jr]===v[gt]&&yp(v[ae],v,l,r)}if(f[ho]!==null){let g=f[ho];for(let v=0;v<g.length;v++){let m=g[v];yp(m[ae],m,l,r)}}}}}return r}function IN(n,e){return n[Wn].queries[e].queryList}function wN(n,e,t){let r=new Xf((t&4)===4);return pM(n,e,r,r.destroy),(e[Wn]??=new fp).queries.push(new hp(r))-1}function EN(n,e,t){let r=zt();return r.firstCreatePass&&(TN(r,new pp(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),wN(r,Ae(),e)}function CN(n){return n.split(",").map(e=>e.trim())}function TN(n,e,t){n.queries===null&&(n.queries=new gp),n.queries.track(new mp(e,t))}function pg(n,e){return n.queries.getByIndex(e)}function bN(n,e){let t=n[ae],r=pg(t,e);return r.crossesNgTemplate?yp(t,n,e,[]):VC(t,n,r,e)}var mo=class{},gg=class{};var vp=class extends mo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ku(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=tE(e);this._bootstrapComponents=aC(o.bootstrap),this._r3Injector=UE(e,t,[{provide:mo,useValue:this},{provide:rl,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_p=class extends gg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new vp(this.moduleType,e,[])}};var Fu=class extends mo{injector;componentFactoryResolver=new ku(this);instance=null;constructor(e){super();let t=new Ws([...e.providers,{provide:mo,useValue:this},{provide:rl,useValue:this.componentFactoryResolver}],e.parent||Pp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ta(n,e,t=null){return new Fu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var DN=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=nE(!1,t.type),i=r.length>0?ta([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n(Q(pt))})}return n})();function Ge(n){return Zs(()=>{let e=jC(n),t=De(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===KE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(DN).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Dn.Emulated,styles:n.styles||In,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Yu("NgStandalone"),UC(t);let r=n.dependencies;return t.directiveDefs=Rw(r,!1),t.pipeDefs=Rw(r,!0),t.id=PN(t),t})}function SN(n){return Zr(n)||zR(n)}function AN(n){return n!==null}function na(n){return Zs(()=>({type:n.type,bootstrap:n.bootstrap||In,declarations:n.declarations||In,imports:n.imports||In,exports:n.exports||In,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function RN(n,e){if(n==null)return uo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Zu.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function MN(n){if(n==null)return uo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function di(n){return Zs(()=>{let e=jC(n);return UC(e),e})}function jC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||uo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||In,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RN(n.inputs,e),outputs:MN(n.outputs),debugInfo:null}}function UC(n){n.features?.forEach(e=>e(n))}function Rw(n,e){if(!n)return null;let t=e?qR:SN;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(AN)}function PN(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function BC(n){return NN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function xN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function NN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function $C(n,e,t){return n[e]=t}function Ys(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function HC(n,e,t,r){let i=Ys(n,e,t);return Ys(n,e+1,r)||i}function ON(n,e,t,r,i){let o=HC(n,e,t,r);return Ys(n,e+2,i)||o}function kN(n,e,t,r,i,o,s,c,u){let l=e.consts,f=nl(e,n,4,s||null,c||null);Lp()&&fg(e,t,f,fo(l,u),sg),f.mergedAttrs=Ku(f.mergedAttrs,f.attrs),Hp(e,f);let g=f.tView=ng(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function FN(n,e,t,r,i,o,s,c,u,l){let f=t+cn,g=e.firstCreatePass?kN(f,e,n,r,i,o,s,c,u):e.data[f];ai(g,!1);let v=LN(e,n,g,t);Wu()&&Xu(e,n,v,g),Eo(v,n);let m=RC(v,n,v,g);return n[f]=m,ig(n,m),pN(m,g,n),Hu(g)&&Ju(e,n,g),u!=null&&og(n,g,l),g}function Me(n,e,t,r,i,o,s,c){let u=Ae(),l=zt(),f=fo(l.consts,o);return FN(u,l,n,e,t,r,i,f,s,c),Me}var LN=VN;function VN(n,e,t,r){return Gu(!0),e[ot].createComment("")}var zC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var qC=new q("");var jN=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Ip})}return n})(),Ip=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function ra(n){return!!n&&typeof n.then=="function"}function WC(n){return!!n&&typeof n.subscribe=="function"}var ol=new q("");var GC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=R(ol,{optional:!0})??[];injector=R(st);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=mt(this.injector,i);if(ra(o))t.push(o);else if(WC(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sl=new q("");function UN(){lf(()=>{throw new z(600,!1)})}function BN(n){return n.isBoundToModule}var $N=10;var ii=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(eP);afterRenderManager=R(nC);zonelessEnabled=R(Wp);rootEffectScheduler=R(jN);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ze;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=R(ci).hasPendingTasks.pipe(H(t=>!t));constructor(){R(Co,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=R(pt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){Te(10);let i=t instanceof PC;if(!this._injector.get(GC).done){let v="";throw new z(405,v)}let s;i?s=t:s=this._injector.get(rl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let c=BN(s)?void 0:this._injector.get(mo),u=r||s.selector,l=s.create(st.NULL,[],u,c),f=l.location.nativeElement,g=l.injector.get(qC,null);return g?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),gu(this.components,l),g?.unregisterApplication(f)}),this._loadComponent(l),Te(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Jp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new z(101,!1);let t=ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ge(t),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(po,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<$N;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)HN(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>qu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;gu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(sl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>gu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function HN(n,e,t,r){if(!t&&!qu(n))return;bC(n,e,t&&!r?0:1)}function KC(n,e,t,r){return Ys(n,IE(),t)?e+Sp(t)+r:To}function X(n,e,t){let r=Ae(),i=IE();if(Ys(r,i,e)){let o=zt(),s=SE();mC(o,s,r,n,e,r[ot],t,!1)}return X}function Mw(n,e,t,r,i){ag(e,n,t,i?"class":"style",r)}function P(n,e,t,r){let i=Ae(),o=zt(),s=cn+n,c=i[ot],u=o.firstCreatePass?OC(s,o,i,e,sg,Lp(),t,r):o.data[s],l=zN(o,i,u,c,e,n);i[s]=l;let f=Hu(u);return ai(u,!0),dC(c,l,u),!yC(u)&&Wu()&&Xu(o,i,l,u),(gM()===0||f)&&Eo(l,i),mM(),f&&(Ju(o,i,u),eg(o,u,i)),r!==null&&og(i,u),P}function x(){let n=qt();Vp()?yE():(n=n.parent,ai(n,!1));let e=n;_M(e)&&IM(),yM();let t=zt();return t.firstCreatePass&&kC(t,e),e.classesWithoutHost!=null&&xM(e)&&Mw(t,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&NM(e)&&Mw(t,e,Ae(),e.stylesWithoutHost,!1),x}function re(n,e,t,r){return P(n,e,t,r),x(),re}var zN=(n,e,t,r,i,o)=>(Gu(!0),uC(r,i,RM()));function qN(n,e,t,r,i){let o=e.consts,s=fo(o,r),c=nl(e,n,8,"ng-container",s);s!==null&&lp(c,s,!0);let u=fo(o,i);return Lp()&&fg(e,t,c,u,sg),c.mergedAttrs=Ku(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function Sn(n,e,t){let r=Ae(),i=zt(),o=n+cn,s=i.firstCreatePass?qN(o,i,r,e,t):i.data[o];ai(s,!0);let c=WN(i,r,s,n);return r[o]=c,Wu()&&Xu(i,r,c,s),Eo(c,r),Hu(s)&&(Ju(i,r,s),eg(i,s,r)),t!=null&&og(r,s),Sn}function An(){let n=qt(),e=zt();return Vp()?yE():(n=n.parent,ai(n,!1)),e.firstCreatePass&&(Hp(e,n),Np(n)&&e.queries.elementEnd(n)),An}var WN=(n,e,t,r)=>(Gu(!0),BP(e[ot],""));function ln(){return Ae()}var Lu="en-US";var GN=Lu;function KN(n){typeof n=="string"&&(GN=n.toLowerCase().replace(/_/g,"-"))}function Pw(n,e,t){return function r(i){if(i===Function)return t;let o=_o(n)?Tn(n.index,e):e;hg(o,5);let s=e[Rt],c=xw(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=xw(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function xw(n,e,t,r){let i=ge(null);try{return Te(6,e,t),t(r)!==!1}catch(o){return QN(n,o),!1}finally{Te(7,e,t),ge(i)}}function QN(n,e){let t=n[lo],r=t?t.get(bn,null):null;r&&r.handleError(e)}function Nw(n,e,t,r,i,o){let s=e[t],c=e[ae],l=c.data[t].outputs[r],f=s[l],g=c.firstCreatePass?Fp(c):null,v=kp(e),m=f.subscribe(o),A=v.length;v.push(o,m),g&&g.push(i,n.index,A,-(A+1))}var YN=(n,e,t)=>{};function Je(n,e,t,r){let i=Ae(),o=zt(),s=qt();return JN(o,i,i[ot],s,n,e,r),Je}function ZN(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[Cu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function JN(n,e,t,r,i,o,s){let c=Hu(r),l=n.firstCreatePass?Fp(n):null,f=kp(e),g=!0;if(r.type&3||s){let v=Yn(r,e),m=s?s(v):v,A=f.length,N=s?W=>s(Cn(W[r.index])):r.index,O=null;if(!s&&c&&(O=ZN(n,e,i,r.index)),O!==null){let W=O.__ngLastListenerFn__||O;W.__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,g=!1}else{o=Pw(r,e,o),YN(m,i,o);let W=t.listen(m,i,o);f.push(o,W),l&&l.push(i,N,A,A+1)}}else o=Pw(r,e,o);if(g){let v=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let A=0;A<m.length;A+=2){let N=m[A],O=m[A+1];Nw(r,e,N,O,i,o)}if(v&&v.length)for(let A of v)Nw(r,e,A,i,i,o)}}function Ce(n=1){return AM(n)}function mg(n,e,t){return QC(n,"",e,"",t),mg}function QC(n,e,t,r,i){let o=Ae(),s=KC(o,e,t,r);if(s!==To){let c=zt(),u=SE();mC(c,u,o,n,s,o[ot],i,!1)}return QC}function al(n,e,t){EN(n,e,t)}function ia(n){let e=Ae(),t=zt(),r=wE();jp(r+1);let i=pg(t,r);if(n.dirty&&lM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=bN(e,r);n.reset(o,rP),n.notifyOnChanges()}return!0}return!1}function oa(){return IN(Ae(),wE())}function cl(n){let e=EM();return uM(e,cn+n)}function V(n,e=""){let t=Ae(),r=zt(),i=n+cn,o=r.firstCreatePass?nl(r,i,1,e,null):r.data[i],s=XN(r,t,o,e,n);t[i]=s,Wu()&&Xu(r,t,s,o),ai(o,!1)}var XN=(n,e,t,r,i)=>(Gu(!0),jP(e[ot],r));function Re(n){return Ct("",n,""),Re}function Ct(n,e,t){let r=Ae(),i=KC(r,n,e,t);return i!==To&&eO(r,$p(),i),Ct}function eO(n,e,t){let r=cM(e,n);UP(n[ot],r,t)}function YC(n,e,t,r,i){return tO(Ae(),_E(),n,e,t,r,i)}function ZC(n,e,t,r,i,o){return nO(Ae(),_E(),n,e,t,r,i,o)}function JC(n,e){let t=n[e];return t===To?void 0:t}function tO(n,e,t,r,i,o,s){let c=e+t;return HC(n,c,i,o)?$C(n,c+2,s?r.call(s,i,o):r(i,o)):JC(n,c+2)}function nO(n,e,t,r,i,o,s,c){let u=e+t;return ON(n,u,i,o,s)?$C(n,u+3,c?r.call(c,i,o,s):r(i,o,s)):JC(n,u+3)}function ul(n,e){return tl(n,e)}var yo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},XC=new yo("19.2.5"),wp=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ll=(()=>{class n{compileModuleSync(t){return new _p(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=tE(t),o=aC(i.declarations).reduce((s,c)=>{let u=Zr(c);return u&&s.push(new go(u)),s},[]);return new wp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rO=(()=>{class n{zone=R(Ee);changeDetectionScheduler=R(ni);applicationRef=R(ii);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iO=new q("",{factory:()=>!1});function eT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(De(j({},nT()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:qs,multi:!0,useFactory:()=>{let r=R(rO,{optional:!0});return()=>r.initialize()}},{provide:qs,multi:!0,useFactory:()=>{let r=R(oO);return()=>{r.initialize()}}},e===!0?{provide:$E,useValue:!0}:[],{provide:HE,useValue:t??BE}]}function tT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=eT({ngZoneFactory:()=>{let i=nT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Yu("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return oi([{provide:iO,useValue:!0},{provide:Wp,useValue:!1},r])}function nT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var oO=(()=>{class n{subscription=new je;initialized=!1;zone=R(Ee);pendingTasks=R(ci);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sO=(()=>{class n{appRef=R(ii);taskService=R(ci);ngZone=R(Ee);zonelessEnabled=R(Wp);tracing=R(Co,{optional:!0});disableScheduling=R($E,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(HE,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?pw:zE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,pw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aO(){return typeof $localize<"u"&&$localize.locale||Lu}var yg=new q("",{providedIn:"root",factory:()=>R(yg,ne.Optional|ne.SkipSelf)||aO()});var Ep=new q(""),cO=new q("");function Bs(n){return!n.moduleRef}function uO(n){let e=Bs(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Bs(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(bn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Bs(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ep);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ep);s.add(o),n.moduleRef.onDestroy(()=>{gu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return dO(r,t,()=>{let o=e.get(GC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(yg,Lu);if(KN(s||Lu),!e.get(cO,!0))return Bs(n)?e.get(ii):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Bs(n)){let u=e.get(ii);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return lO(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function lO(n,e){let t=n.injector.get(ii);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new z(-403,!1);e.push(n)}function dO(n,e,t){try{let r=t();return ra(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var mu=null;function hO(n=[],e){return st.create({name:e,providers:[{provide:Bu,useValue:"platform"},{provide:Ep,useValue:new Set([()=>mu=null])},...n]})}function fO(n=[]){if(mu)return mu;let e=hO(n);return mu=e,UN(),pO(e),e}function pO(n){let e=n.get(Yp,null);mt(n,()=>{e?.forEach(t=>t())})}function vg(){return!1}var sa=(()=>{class n{static __NG_ELEMENT_ID__=gO}return n})();function gO(n){return mO(qt(),Ae(),(n&16)===16)}function mO(n,e,t){if(_o(n)&&!t){let r=Tn(n.index,e);return new Qs(r,r)}else if(n.type&175){let r=e[En];return new Qs(r,e)}return null}var Cp=class{constructor(){}supports(e){return BC(e)}create(e){return new Tp(e)}},yO=(n,e)=>e,Tp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||yO}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Ow(r,i,o)?t:r,c=Ow(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let v=0;v<l;v++){let m=v<o.length?o[v]:o[v]=0,A=m+v;f<=A&&A<l&&(o[v]=m+1)}let g=s.previousIndex;o[g]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!BC(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,xN(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new bp(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Vu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},bp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Dp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Vu=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Dp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ow(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function kw(){return new _g([new Cp])}var _g=(()=>{class n{factories;static \u0275prov=L({token:n,providedIn:"root",factory:kw});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||kw()),deps:[[n,new BR,new Gn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new z(901,!1)}}return n})();function rT(n){Te(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=fO(r),o=[eT({}),{provide:ni,useExisting:sO},...t||[]],s=new Fu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return uO({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Te(9)}}var Fw=class{[Bi];constructor(e){this[Bi]=e}destroy(){this[Bi].destroy()}};function iT(n){let e=Zr(n);if(!e)return null;let t=new go(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var tt=new q("");var aT=null;function Zn(){return aT}function Ig(n){aT??=n}var aa=class{},ca=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>R(cT),providedIn:"platform"})}return n})(),wg=new q(""),cT=(()=>{class n extends ca{_location;_history;_doc=R(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(t){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function dl(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function oT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function dn(n){return n&&n[0]!=="?"?`?${n}`:n}var Jn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>R(fl),providedIn:"root"})}return n})(),hl=new q(""),fl=(()=>{class n extends Jn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return dl(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+dn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+dn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+dn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(ca),Q(hl,8))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tr=(()=>{class n{_subject=new ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=IO(oT(sT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+dn(r))}normalize(t){return n.stripTrailingSlash(_O(this._basePath,sT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=dn;static joinWithSlash=dl;static stripTrailingSlash=oT;static \u0275fac=function(r){return new(r||n)(Q(Jn))};static \u0275prov=L({token:n,factory:()=>vO(),providedIn:"root"})}return n})();function vO(){return new Tr(Q(Jn))}function _O(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function sT(n){return n.replace(/\/index.html$/,"")}function IO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Cg=(()=>{class n extends Jn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=dl(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+dn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+dn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(ca),Q(hl,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var Eg=/\s+/,uT=[],Tg=(()=>{class n{_ngEl;_renderer;initialClasses=uT;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Eg):uT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Eg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Eg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Wt(wr),Wt(il))};static \u0275dir=di({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var pl=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),lT(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);lT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Wt(Cr),Wt(ri),Wt(_g))};static \u0275dir=di({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function lT(n,e){n.context.$implicit=e.item}var Tt=(()=>{class n{_viewContainer;_context=new gl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dT(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dT(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Wt(Cr),Wt(ri))};static \u0275dir=di({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),gl=class{$implicit=null;ngIf=null};function dT(n,e){if(n&&!n.createEmbeddedView)throw new z(2020,!1)}function bg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Dg="browser",hT="server";function ml(n){return n===hT}var ua=class{};var fT=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Sg(R(tt),window)})}return n})(),Sg=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=bO(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function bO(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _l=new q(""),Pg=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Q(_l),Q(Ee))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),la=class{_doc;constructor(e){this._doc=e}manager},yl="ng-app-id";function pT(n){for(let e of n)e.remove()}function gT(n,e){let t=e.createElement("style");return t.textContent=n,t}function DO(n,e,t,r){let i=n.head?.querySelectorAll(`style[${yl}="${e}"],link[${yl}="${e}"]`);if(i)for(let o of i)o.removeAttribute(yl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Rg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var xg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ml(o),DO(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,gT);r?.forEach(i=>this.addUsage(i,this.external,Rg))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(pT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])pT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,gT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Rg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(yl,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(tt),Q(Qp),Q(Zp,8),Q(Er))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Ag={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ng=/%COMP%/g;var yT="%COMP%",SO=`_nghost-${yT}`,AO=`_ngcontent-${yT}`,RO=!0,MO=new q("",{providedIn:"root",factory:()=>RO});function PO(n){return AO.replace(Ng,n)}function xO(n){return SO.replace(Ng,n)}function vT(n,e){return e.map(t=>t.replace(Ng,n))}var Og=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=ml(c),this.defaultRenderer=new da(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Dn.ShadowDom&&(r=De(j({},r),{encapsulation:Dn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof vl?i.applyToHost(t):i instanceof ha&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Dn.Emulated:o=new vl(u,l,r,this.appId,f,s,c,g,v);break;case Dn.ShadowDom:return new Mg(u,l,t,r,s,c,this.nonce,g,v);default:o=new ha(u,l,r,f,s,c,g,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Q(Pg),Q(xg),Q(Qp),Q(MO),Q(tt),Q(Er),Q(Ee),Q(Zp),Q(Co,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),da=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ag[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Ag[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ag[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(li.DashCase|li.Important)?e.style.setProperty(t,r,i&li.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&li.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Zn().getGlobalEventTarget(this.doc,e),!e))throw new z(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function mT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Mg=class extends da{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=vT(i.id,f);for(let v of f){let m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=v,this.shadowRoot.appendChild(m)}let g=i.getExternalStyles?.();if(g)for(let v of g){let m=Rg(v,o);c&&m.setAttribute("nonce",c),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ha=class extends da{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?vT(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vl=class extends ha{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,l,f),this.contentAttr=PO(f),this.hostAttr=xO(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var kg=class extends aa{supportsDOMEvents=!0},Il=class n extends kg{static makeCurrent(){Ig(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=NO();return t==null?null:OO(t)}resetBaseElement(){fa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bg(document.cookie,e)}},fa=null;function NO(){return fa=fa||document.querySelector("base"),fa?fa.getAttribute("href"):null}function OO(n){return new URL(n,document.baseURI).pathname}var kO=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),IT=(()=>{class n extends la{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Q(tt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),_T=["alt","control","meta","shift"],FO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},wT=(()=>{class n extends la{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),_T.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=FO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_T.forEach(s=>{if(s!==i){let c=LO[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Q(tt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function Fg(n,e){return rT(j({rootComponent:n},VO(e)))}function VO(n){return{appProviders:[...HO,...n?.providers??[]],platformProviders:$O}}function jO(){Il.makeCurrent()}function UO(){return new bn}function BO(){return XE(document),document}var $O=[{provide:Er,useValue:Dg},{provide:Yp,useValue:jO,multi:!0},{provide:tt,useFactory:BO}];var HO=[{provide:Bu,useValue:"root"},{provide:bn,useFactory:UO},{provide:_l,useClass:IT,multi:!0,deps:[tt]},{provide:_l,useClass:wT,multi:!0,deps:[tt]},Og,xg,Pg,{provide:po,useExisting:Og},{provide:ua,useClass:kO},[]];var ET=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Q(tt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ee="primary",Da=Symbol("RouteTitle"),Bg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function pi(n){return new Bg(n)}function MT(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rn(n[t],e[t]))return!1;return!0}function Rn(n,e){let t=n?$g(n):void 0,r=e?$g(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!PT(n[i],e[i]))return!1;return!0}function $g(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function PT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function xT(n){return n.length>0?n[n.length-1]:null}function Ar(n){return Df(n)?n:ra(n)?de(Promise.resolve(n)):K(n)}var WO={exact:OT,subset:kT},NT={exact:GO,subset:KO,ignored:()=>!0};function CT(n,e,t){return WO[t.paths](n.root,e.root,t.matrixParams)&&NT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function GO(n,e){return Rn(n,e)}function OT(n,e,t){if(!hi(n.segments,e.segments)||!Cl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!OT(n.children[r],e.children[r],t))return!1;return!0}function KO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>PT(n[t],e[t]))}function kT(n,e,t){return FT(n,e,e.segments,t)}function FT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!hi(i,t)||e.hasChildren()||!Cl(i,t,r))}else if(n.segments.length===t.length){if(!hi(n.segments,t)||!Cl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!kT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!hi(n.segments,i)||!Cl(n.segments,i,r)||!n.children[ee]?!1:FT(n.children[ee],e,o,r)}}function Cl(n,e,t){return e.every((r,i)=>NT[t](n[i].parameters,r.parameters))}var Pn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=pi(this.queryParams),this._queryParamMap}toString(){return ZO.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tl(this)}},br=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=pi(this.parameters),this._parameterMap}toString(){return VT(this)}};function QO(n,e){return hi(n,e)&&n.every((t,r)=>Rn(t.parameters,e[r].parameters))}function hi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function YO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ee&&(t=t.concat(e(i,r)))}),t}var gi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new Dr,providedIn:"root"})}return n})(),Dr=class{parse(e){let t=new zg(e);return new Pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${pa(e.root,!0)}`,r=ek(e.queryParams),i=typeof e.fragment=="string"?`#${JO(e.fragment)}`:"";return`${t}${r}${i}`}},ZO=new Dr;function Tl(n){return n.segments.map(e=>VT(e)).join("/")}function pa(n,e){if(!n.hasChildren())return Tl(n);if(e){let t=n.children[ee]?pa(n.children[ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${pa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=YO(n,(r,i)=>i===ee?[pa(n.children[ee],!1)]:[`${i}:${pa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ee]!=null?`${Tl(n)}/${t[0]}`:`${Tl(n)}/(${t.join("//")})`}}function LT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wl(n){return LT(n).replace(/%3B/gi,";")}function JO(n){return encodeURI(n)}function Hg(n){return LT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bl(n){return decodeURIComponent(n)}function TT(n){return bl(n.replace(/\+/g,"%20"))}function VT(n){return`${Hg(n.path)}${XO(n.parameters)}`}function XO(n){return Object.entries(n).map(([e,t])=>`;${Hg(e)}=${Hg(t)}`).join("")}function ek(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${wl(t)}=${wl(i)}`).join("&"):`${wl(t)}=${wl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var tk=/^[^\/()?;#]+/;function Lg(n){let e=n.match(tk);return e?e[0]:""}var nk=/^[^\/()?;=#]+/;function rk(n){let e=n.match(nk);return e?e[0]:""}var ik=/^[^=?&#]+/;function ok(n){let e=n.match(ik);return e?e[0]:""}var sk=/^[^&#]+/;function ak(n){let e=n.match(sk);return e?e[0]:""}var zg=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ee]=new _e(e,t)),r}parseSegment(){let e=Lg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new br(bl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=rk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Lg(this.remaining);i&&(r=i,this.capture(r))}e[bl(t)]=bl(r)}parseQueryParam(e){let t=ok(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=ak(this.remaining);s&&(r=s,this.capture(r))}let i=TT(t),o=TT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ee]:new _e([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function jT(n){return n.segments.length>0?new _e([],{[ee]:n}):n}function UT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=UT(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new _e(n.segments,e);return ck(t)}function ck(n){if(n.numberOfChildren===1&&n.children[ee]){let e=n.children[ee];return new _e(n.segments.concat(e.segments),e.children)}return n}function Ro(n){return n instanceof Pn}function BT(n,e,t=null,r=null){let i=$T(n);return HT(i,e,t,r)}function $T(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new _e(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=jT(r);return e??i}function HT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Vg(i,i,i,t,r);let o=uk(e);if(o.toRoot())return Vg(i,i,new _e([],{}),t,r);let s=lk(o,i,n),c=s.processChildren?ma(s.segmentGroup,s.index,o.commands):qT(s.segmentGroup,s.index,o.commands);return Vg(i,s.segmentGroup,c,t,r)}function Sl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function va(n){return typeof n=="object"&&n!=null&&n.outlets}function Vg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=zT(n,e,t);let c=jT(UT(s));return new Pn(c,o,i)}function zT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=zT(o,e,t)}),new _e(n.segments,r)}var Al=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Sl(r[0]))throw new z(4003,!1);let i=r.find(va);if(i&&i!==xT(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Al(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Al(t,e,r)}var So=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function lk(n,e,t){if(n.isAbsolute)return new So(e,!0,0);if(!t)return new So(e,!1,NaN);if(t.parent===null)return new So(t,!0,0);let r=Sl(n.commands[0])?0:1,i=t.segments.length-1+r;return dk(t,i,n.numberOfDoubleDots)}function dk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new So(r,!1,i-o)}function hk(n){return va(n[0])?n[0].outlets:{[ee]:n}}function qT(n,e,t){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return ma(n,e,t);let r=fk(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[ee]=new _e(n.segments.slice(r.pathIndex),n.children),ma(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?qg(n,e,t):r.match?ma(n,0,i):qg(n,e,t)}function ma(n,e,t){if(t.length===0)return new _e(n.segments,{});{let r=hk(t),i={};if(Object.keys(r).some(o=>o!==ee)&&n.children[ee]&&n.numberOfChildren===1&&n.children[ee].segments.length===0){let o=ma(n.children[ee],e,t);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function fk(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(va(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!DT(u,l,s))return o;r+=2}else{if(!DT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function qg(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(va(o)){let u=pk(o.outlets);return new _e(r,u)}if(i===0&&Sl(t[0])){let u=n.segments[e];r.push(new br(u.path,bT(t[0]))),i++;continue}let s=va(o)?o.outlets[ee]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Sl(c)?(r.push(new br(s,bT(c))),i+=2):(r.push(new br(s,{})),i++)}return new _e(r,{})}function pk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=qg(new _e([],{}),0,r))}),e}function bT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function DT(n,e,t){return n==t.path&&Rn(e,t.parameters)}var Dl="imperative",Xe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Xe||{}),Lt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Sr=class extends Lt{type=Xe.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fn=class extends Lt{urlAfterRedirects;type=Xe.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Mt||{}),Mo=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Mo||{}),Mn=class extends Lt{reason;code;type=Xe.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends Lt{reason;code;type=Xe.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Po=class extends Lt{error;target;type=Xe.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_a=class extends Lt{urlAfterRedirects;state;type=Xe.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rl=class extends Lt{urlAfterRedirects;state;type=Xe.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ml=class extends Lt{urlAfterRedirects;state;shouldActivate;type=Xe.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pl=class extends Lt{urlAfterRedirects;state;type=Xe.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xl=class extends Lt{urlAfterRedirects;state;type=Xe.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nl=class{route;type=Xe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ol=class{route;type=Xe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kl=class{snapshot;type=Xe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fl=class{snapshot;type=Xe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ll=class{snapshot;type=Xe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vl=class{snapshot;type=Xe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xo=class{routerEvent;position;anchor;type=Xe.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ia=class{},No=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function gk(n,e){return n.providers&&!n._injector&&(n._injector=ta(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hn(n){return n.outlet||ee}function mk(n,e){let t=n.filter(r=>hn(r)===e);return t.push(...n.filter(r=>hn(r)!==e)),t}function Sa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var jl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Sa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new mi(this.rootInjector)}},mi=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new jl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Q(pt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ul=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Wg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Wg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Gg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gg(e,this._root).map(t=>t.value)}};function Wg(n,e){if(n===e.value)return e;for(let t of e.children){let r=Wg(n,t);if(r)return r}return null}function Gg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Gg(n,t);if(r.length)return r.unshift(e),r}return[]}var Ft=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Do(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var wa=class extends Ul{snapshot;constructor(e,t){super(e),this.snapshot=t,tm(this,e)}toString(){return this.snapshot.toString()}};function WT(n){let e=yk(n),t=new Ue([new br("",{})]),r=new Ue({}),i=new Ue({}),o=new Ue({}),s=new Ue(""),c=new Xn(t,r,o,s,i,ee,n,e.root);return c.snapshot=e.root,new wa(new Ft(c,[]),e)}function yk(n){let e={},t={},r={},i="",o=new fi([],e,r,i,t,ee,n,null,{});return new Ea("",new Ft(o,[]))}var Xn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(H(l=>l[Da]))??K(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(e=>pi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(e=>pi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&KT(i)&&(r.resolve[Da]=i.title),r}var fi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Da]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ea=class extends Ul{url;constructor(e,t){super(t),this.url=e,tm(this,t)}toString(){return GT(this._root)}};function tm(n,e){e.value._routerState=n,e.children.forEach(t=>tm(n,t))}function GT(n){let e=n.children.length>0?` { ${n.children.map(GT).join(", ")} } `:"";return`${n.value}${e}`}function jg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Rn(e.params,t.params)||n.paramsSubject.next(t.params),qO(e.url,t.url)||n.urlSubject.next(t.url),Rn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Kg(n,e){let t=Rn(n.params,e.params)&&QO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Kg(n.parent,e.parent))}function KT(n){return typeof n.title=="string"||n.title===null}var QT=new q(""),Aa=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new ft;deactivateEvents=new ft;attachEvents=new ft;detachEvents=new ft;routerOutletData=WE(void 0);parentContexts=R(mi);location=R(Cr);changeDetector=R(sa);inputBinder=R(Ra,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Qg(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=di({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[zu]})}return n})(),Qg=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Xn?this.route:e===mi?this.childContexts:e===QT?this.outletData:this.parent.get(e,t)}},Ra=new q(""),nm=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Kr([r.queryParams,r.params,r.data]).pipe(ke(([o,s,c],u)=>(c=j(j(j({},o),s),c),u===0?K(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=iT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function vk(n,e,t){let r=Ca(n,e._root,t?t._root:void 0);return new wa(r,e)}function Ca(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=_k(n,e,t);return new Ft(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Ca(n,c)),s}}let r=Ik(e.value),i=e.children.map(o=>Ca(n,o));return new Ft(r,i)}}function _k(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ca(n,r,i);return Ca(n,r)})}function Ik(n){return new Xn(new Ue(n.url),new Ue(n.params),new Ue(n.queryParams),new Ue(n.fragment),new Ue(n.data),n.outlet,n.component,n)}var Oo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},YT="ngNavigationCancelingError";function $l(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZT(!1,Mt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ZT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[YT]=!0,t.cancellationCode=e,t}function wk(n){return JT(n)&&Ro(n.url)}function JT(n){return!!n&&n[YT]}var Ek=(n,e,t,r)=>H(i=>(new Yg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Yg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Do(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Do(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Do(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Do(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Vl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fl(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(jg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),jg(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Hl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ao=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Ck(n,e,t){let r=n._root,i=e?e._root:null;return ga(r,i,t,[r.value])}function Tk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Fo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!zw(n)?n:e.get(n):r}function ga(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Do(e);return n.children.forEach(s=>{bk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ya(c,t.getContext(s),i)),i}function bk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Dk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Hl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ga(n,e,c?c.children:null,r,i):ga(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Ao(c.outlet.component,s))}else s&&ya(e,c,i),i.canActivateChecks.push(new Hl(r)),o.component?ga(n,null,c?c.children:null,r,i):ga(n,null,t,r,i);return i}function Dk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!hi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(n.url,e.url)||!Rn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kg(n,e)||!Rn(n.queryParams,e.queryParams);case"paramsChange":default:return!Kg(n,e)}}function ya(n,e,t){let r=Do(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ya(s,e.children.getContext(o),t):ya(s,null,t):ya(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ao(e.outlet.component,i)):t.canDeactivateChecks.push(new Ao(null,i)):t.canDeactivateChecks.push(new Ao(null,i))}function Ma(n){return typeof n=="function"}function Sk(n){return typeof n=="boolean"}function Ak(n){return n&&Ma(n.canLoad)}function Rk(n){return n&&Ma(n.canActivate)}function Mk(n){return n&&Ma(n.canActivateChild)}function Pk(n){return n&&Ma(n.canDeactivate)}function xk(n){return n&&Ma(n.canMatch)}function XT(n){return n instanceof $n||n?.name==="EmptyError"}var El=Symbol("INITIAL_VALUE");function ko(){return ke(n=>Kr(n.map(e=>e.pipe(Ut(1),uu(El)))).pipe(H(e=>{for(let t of e)if(t!==!0){if(t===El)return El;if(t===!1||Nk(t))return t}return!0}),At(e=>e!==El),Ut(1)))}function Nk(n){return Ro(n)||n instanceof Oo}function Ok(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(De(j({},t),{guardsResult:!0})):kk(s,r,i,n).pipe(Be(c=>c&&Sk(c)?Fk(r,o,n,e):K(c)),H(c=>De(j({},t),{guardsResult:c})))})}function kk(n,e,t,r){return de(n).pipe(Be(i=>Bk(i.component,i.route,t,e,r)),zn(i=>i!==!0,!0))}function Fk(n,e,t,r){return de(e).pipe(yr(i=>eo(Vk(i.route.parent,r),Lk(i.route,r),Uk(n,i.path,t),jk(n,i.route,t))),zn(i=>i!==!0,!0))}function Lk(n,e){return n!==null&&e&&e(new Ll(n)),K(!0)}function Vk(n,e){return n!==null&&e&&e(new kl(n)),K(!0)}function jk(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>su(()=>{let s=Sa(e)??t,c=Fo(o,s),u=Rk(c)?c.canActivate(e,n):mt(s,()=>c(e,n));return Ar(u).pipe(zn())}));return K(i).pipe(ko())}function Uk(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Tk(s)).filter(s=>s!==null).map(s=>su(()=>{let c=s.guards.map(u=>{let l=Sa(s.node)??t,f=Fo(u,l),g=Mk(f)?f.canActivateChild(r,n):mt(l,()=>f(r,n));return Ar(g).pipe(zn())});return K(c).pipe(ko())}));return K(o).pipe(ko())}function Bk(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(c=>{let u=Sa(e)??i,l=Fo(c,u),f=Pk(l)?l.canDeactivate(n,e,t,r):mt(u,()=>l(n,e,t,r));return Ar(f).pipe(zn())});return K(s).pipe(ko())}function $k(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let c=Fo(s,n),u=Ak(c)?c.canLoad(e,t):mt(n,()=>c(e,t));return Ar(u)});return K(o).pipe(ko(),eb(r))}function eb(n){return Bc(We(e=>{if(typeof e!="boolean")throw $l(n,e)}),H(e=>e===!0))}function Hk(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let c=Fo(s,n),u=xk(c)?c.canMatch(e,t):mt(n,()=>c(e,t));return Ar(u)});return K(o).pipe(ko(),eb(r))}var Ta=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ba=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function bo(n){return Ji(new Ta(n))}function zk(n){return Ji(new z(4e3,!1))}function qk(n){return Ji(ZT(!1,Mt.GuardRejected))}var Zg=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[ee])return zk(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:v,params:m,data:A,title:N}=i,O=mt(o,()=>c({params:m,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:v,title:N}));if(O instanceof Pn)throw new ba(O);t=O}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ba(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Pn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wk(n,e,t,r,i){let o=tb(n,e,t);return o.matched?(r=gk(e,r),Hk(r,e,t,i).pipe(H(s=>s===!0?o:j({},Jg)))):K(o)}function tb(n,e,t){if(e.path==="**")return Gk(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},Jg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MT)(t,n,e);if(!i)return j({},Jg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Gk(n){return{matched:!0,parameters:n.length>0?xT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ST(n,e,t,r){return t.length>0&&Yk(n,t,r)?{segmentGroup:new _e(e,Qk(r,new _e(t,n.children))),slicedSegments:[]}:t.length===0&&Zk(n,t,r)?{segmentGroup:new _e(n.segments,Kk(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:t}}function Kk(n,e,t,r){let i={};for(let o of t)if(ql(n,e,o)&&!r[hn(o)]){let s=new _e([],{});i[hn(o)]=s}return j(j({},r),i)}function Qk(n,e){let t={};t[ee]=e;for(let r of n)if(r.path===""&&hn(r)!==ee){let i=new _e([],{});t[hn(r)]=i}return t}function Yk(n,e,t){return t.some(r=>ql(n,e,r)&&hn(r)!==ee)}function Zk(n,e,t){return t.some(r=>ql(n,e,r))}function ql(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Jk(n,e,t){return e.length===0&&!n.children[t]}var Xg=class{};function Xk(n,e,t,r,i,o,s="emptyOnly"){return new em(n,e,t,r,i,s,o).recognize()}var e1=31,em=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Zg(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=ST(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(({children:t,rootSnapshot:r})=>{let i=new Ft(r,t),o=new Ea("",i),s=BT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new fi([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,t).pipe(H(r=>({children:r,rootSnapshot:t})),Hn(r=>{if(r instanceof ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ta?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(H(s=>s instanceof Ft?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return de(o).pipe(yr(s=>{let c=r.children[s],u=mk(t,s);return this.processSegmentGroup(e,u,c,s,i)}),cu((s,c)=>(s.push(...c),s)),vr(null),Sf(),Be(s=>{if(s===null)return bo(r);let c=nb(s);return t1(c),K(c)}))}processSegment(e,t,r,i,o,s,c){return de(t).pipe(yr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(Hn(l=>{if(l instanceof Ta)return K(null);throw l}))),zn(u=>!!u),Hn(u=>{if(XT(u))return Jk(r,i,o)?K(new Xg):bo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return hn(r)!==s&&(s===ee||!ql(i,o,r))?bo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):bo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:v}=tb(t,i,o);if(!u)return bo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>e1&&(this.allowRedirects=!1));let m=new fi(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,AT(i),hn(i),i.component??i._loadedComponent??null,i,RT(i)),A=Bl(m,c,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,m,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Be(O=>this.processSegment(e,r,t,O.concat(v),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=Wk(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(ke(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ke(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:v,remainingSegments:m}=u,A=new fi(v,g,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,AT(r),hn(r),r.component??r._loadedComponent??null,r,RT(r)),N=Bl(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:O,slicedSegments:W}=ST(t,v,m,l);if(W.length===0&&O.hasChildren())return this.processChildren(f,l,O,A).pipe(H(se=>new Ft(A,se)));if(l.length===0&&W.length===0)return K(new Ft(A,[]));let ye=hn(r)===o;return this.processSegment(f,l,O,W,ye?ee:o,!0,A).pipe(H(se=>new Ft(A,se instanceof Ft?[se]:[])))}))):bo(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?K({routes:t._loadedRoutes,injector:t._loadedInjector}):$k(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe(We(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):qk(t))):K({routes:[],injector:e})}};function t1(n){n.sort((e,t)=>e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet))}function n1(n){let e=n.value.routeConfig;return e&&e.path===""}function nb(n){let e=[],t=new Set;for(let r of n){if(!n1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=nb(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!t.has(r))}function AT(n){return n.data||{}}function RT(n){return n.resolve||{}}function r1(n,e,t,r,i,o){return Be(s=>Xk(n,e,t,r,s.extractedUrl,i,o).pipe(H(({state:c,tree:u})=>De(j({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function i1(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of rb(u))s.add(l);let c=0;return de(s).pipe(yr(u=>o.has(u)?o1(u,r,n,e):(u.data=Bl(u,u.parent,n).resolve,K(void 0))),We(()=>c++),to(1),Be(u=>c===s.size?K(t):Dt))})}function rb(n){let e=n.children.map(t=>rb(t)).flat();return[n,...e]}function o1(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!KT(i)&&(o[Da]=i.title),s1(o,n,e,r).pipe(H(s=>(n._resolvedData=s,n.data=Bl(n,n.parent,t).resolve,null)))}function s1(n,e,t,r){let i=$g(n);if(i.length===0)return K({});let o={};return de(i).pipe(Be(s=>a1(n[s],e,t,r).pipe(zn(),We(c=>{if(c instanceof Oo)throw $l(new Dr,c);o[s]=c}))),to(1),H(()=>o),Hn(s=>XT(s)?Dt:Ji(s)))}function a1(n,e,t,r){let i=Sa(e)??r,o=Fo(n,i),s=o.resolve?o.resolve(e,t):mt(i,()=>o(e,t));return Ar(s)}function Ug(n){return ke(e=>{let t=n(e);return t?de(t).pipe(H(()=>e)):K(e)})}var rm=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(t){return t.data[Da]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>R(ib),providedIn:"root"})}return n})(),ib=(()=>{class n extends rm{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(ET))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yi=new q("",{providedIn:"root",factory:()=>({})}),im=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ge({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[Aa],encapsulation:2})}return n})();function om(n){let e=n.children&&n.children.map(om),t=e?De(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=im),t}var vi=new q(""),Wl=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(ll);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ar(t.loadComponent()).pipe(H(sb),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Us(()=>{this.componentLoaders.delete(t)})),i=new Ki(r,()=>new ze).pipe(Gi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ob(r,this.compiler,t,this.onLoadEndListener).pipe(Us(()=>{this.childrenLoaders.delete(r)})),s=new Ki(o,()=>new ze).pipe(Gi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ob(n,e,t,r){return Ar(n.loadChildren()).pipe(H(sb),Be(i=>i instanceof gg||Array.isArray(i)?K(i):de(e.compileModuleAsync(i))),H(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(vi,[],{optional:!0,self:!0}).flat()),{routes:s.map(om),injector:o}}))}function c1(n){return n&&typeof n=="object"&&"default"in n}function sb(n){return c1(n)?n.default:n}var Gl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>R(u1),providedIn:"root"})}return n})(),u1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sm=new q(""),am=new q("");function ab(n,e,t){let r=n.get(am),i=n.get(tt);return n.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),l1(n))),{onViewTransitionCreated:u}=r;return u&&mt(n,()=>u({transition:c,from:e,to:t})),s})}function l1(n){return new Promise(e=>{Xp({read:()=>setTimeout(e)},{injector:n})})}var cm=new q(""),Kl=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ze;transitionAbortSubject=new ze;configLoader=R(Wl);environmentInjector=R(pt);destroyRef=R(Io);urlSerializer=R(gi);rootContexts=R(mi);location=R(Tr);inputBindingEnabled=R(Ra,{optional:!0})!==null;titleStrategy=R(rm);options=R(yi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(Gl);createViewTransition=R(sm,{optional:!0});navigationErrorHandler=R(cm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Nl(i)),r=i=>this.events.next(new Ol(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(De(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Ue(null),this.transitions.pipe(At(r=>r!==null),ke(r=>{let i=!1,o=!1;return K(r).pipe(ke(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?De(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let l="";return this.events.next(new xn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Mo.IgnoredSameUrlNavigation)),s.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return K(s).pipe(ke(l=>(this.events.next(new Sr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Dt:Promise.resolve(l))),r1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),We(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=De(j({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new _a(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:f,source:g,restoredState:v,extras:m}=s,A=new Sr(l,this.urlSerializer.serialize(f),g,v);this.events.next(A);let N=WT(this.rootComponentType).snapshot;return this.currentTransition=r=De(j({},s),{targetSnapshot:N,urlAfterRedirects:f,extras:De(j({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,K(r)}else{let l="";return this.events.next(new xn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Mo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}}),We(s=>{let c=new Rl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),H(s=>(this.currentTransition=r=De(j({},s),{guards:Ck(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Ok(this.environmentInjector,s=>this.events.next(s)),We(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw $l(this.urlSerializer,s.guardsResult);let c=new Ml(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),At(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Mt.GuardRejected),!1)),Ug(s=>{if(s.guards.canActivateChecks.length!==0)return K(s).pipe(We(c=>{let u=new Pl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ke(c=>{let u=!1;return K(c).pipe(i1(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Mt.NoDataFromResolver)}}))}),We(c=>{let u=new xl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Ug(s=>{let c=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(We(f=>{u.component=f}),H(()=>{})));for(let f of u.children)l.push(...c(f));return l};return Kr(c(s.targetSnapshot.root)).pipe(vr(null),Ut(1))}),Ug(()=>this.afterPreactivation()),ke(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?de(u).pipe(H(()=>r)):K(r)}),H(s=>{let c=vk(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=De(j({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),We(()=>{this.events.next(new Ia)}),Ek(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ut(1),We({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Af(this.transitionAbortSubject.pipe(We(s=>{throw s}))),Us(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(o=!0,JT(s))this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),wk(s)?this.events.next(new No(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Po(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Oo){let{message:l,cancellationCode:f}=$l(this.urlSerializer,u);this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new No(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Dt}))}))}cancelNavigationTransition(t,r,i){let o=new Mn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d1(n){return n!==Dl}var cb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>R(h1),providedIn:"root"})}return n})(),zl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},h1=(()=>{class n extends zl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=qp(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ub=(()=>{class n{urlSerializer=R(gi);options=R(yi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(Tr);urlHandlingStrategy=R(Gl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Pn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=WT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>R(f1),providedIn:"root"})}return n})(),f1=(()=>{class n extends ub{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Sr?this.updateStateMemento():t instanceof xn?this.commitTransition(r):t instanceof _a?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ia?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Mn&&(t.code===Mt.GuardRejected||t.code===Mt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Po?this.restoreHistory(r,!0):t instanceof fn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=j(j({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=j(j({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=qp(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ql(n,e){n.events.pipe(At(t=>t instanceof fn||t instanceof Mn||t instanceof Po||t instanceof xn),H(t=>t instanceof fn||t instanceof xn?0:(t instanceof Mn?t.code===Mt.Redirect||t.code===Mt.SupersededByNewNavigation:!1)?2:1),At(t=>t!==2),Ut(1)).subscribe(()=>{e()})}var p1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(zC);stateManager=R(ub);options=R(yi,{optional:!0})||{};pendingTasks=R(ci);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(Kl);urlSerializer=R(gi);location=R(Tr);urlHandlingStrategy=R(Gl);_events=new ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(cb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(vi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(Ra,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mn&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fn)this.navigated=!0;else if(r instanceof No){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||d1(i.source)},s);this.scheduleNavigation(c,Dl,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}y1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(om),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let v=i?i.snapshot:this.routerState.snapshot.root;g=$T(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return HT(g,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ro(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Dl,null,r)}navigate(t,r={skipLocationChange:!1}){return m1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},p1):r===!1?i=j({},g1):i=r,Ro(t))return CT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return CT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((g,v)=>{c=g,u=v});let f=this.pendingTasks.add();return Ql(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m1(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function y1(n){return!(n instanceof Ia)&&!(n instanceof No)}var Pa=class{};var lb=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(At(t=>t instanceof fn),yr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ta(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return de(i).pipe(Xi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=K(null);let o=i.pipe(Be(s=>s===null?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return de([o,s]).pipe(Xi())}else return o})}static \u0275fac=function(r){return new(r||n)(Q(pn),Q(ll),Q(pt),Q(Pa),Q(Wl))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),db=new q(""),v1=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof xn&&t.code===Mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xo&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xo(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){xC()};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function lm(n,...e){return oi([{provide:vi,multi:!0,useValue:n},[],{provide:Xn,useFactory:hb,deps:[pn]},{provide:sl,multi:!0,useFactory:fb},e.map(t=>t.\u0275providers)])}function hb(n){return n.routerState.root}function xa(n,e){return{\u0275kind:n,\u0275providers:e}}function fb(){let n=R(st);return e=>{let t=n.get(ii);if(e!==t.components[0])return;let r=n.get(pn),i=n.get(pb);n.get(dm)===1&&r.initialNavigation(),n.get(yb,null,ne.Optional)?.setUpPreloading(),n.get(db,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var pb=new q("",{factory:()=>new ze}),dm=new q("",{providedIn:"root",factory:()=>1});function gb(){return xa(2,[{provide:dm,useValue:0},{provide:ol,multi:!0,deps:[st],useFactory:e=>{let t=e.get(wg,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(pn),o=e.get(pb);Ql(i,()=>{r(!0)}),e.get(Kl).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))}}])}function mb(){return xa(3,[{provide:ol,multi:!0,useFactory:()=>{let e=R(pn);return()=>{e.setUpLocationChangeListener()}}},{provide:dm,useValue:2}])}var yb=new q("");function vb(n){return xa(0,[{provide:yb,useExisting:lb},{provide:Pa,useExisting:n}])}function _b(){return xa(8,[nm,{provide:Ra,useExisting:nm}])}function Ib(n){let e=[{provide:sm,useValue:ab},{provide:am,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return xa(9,e)}var wb=[Tr,{provide:gi,useClass:Dr},pn,mi,{provide:Xn,useFactory:hb,deps:[pn]},Wl,[]],hm=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[wb,[],{provide:vi,multi:!0,useValue:t},[],r?.errorHandler?{provide:cm,useValue:r.errorHandler}:[],{provide:yi,useValue:r||{}},r?.useHash?I1():w1(),_1(),r?.preloadingStrategy?vb(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?E1(r):[],r?.bindToComponentInputs?_b().\u0275providers:[],r?.enableViewTransitions?Ib().\u0275providers:[],C1()]}}static forChild(t){return{ngModule:n,providers:[{provide:vi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=na({type:n});static \u0275inj=Js({})}return n})();function _1(){return{provide:db,useFactory:()=>{let n=R(fT),e=R(Ee),t=R(yi),r=R(Kl),i=R(gi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new v1(i,r,n,e,t)}}}function I1(){return{provide:Jn,useClass:Cg}}function w1(){return{provide:Jn,useClass:fl}}function E1(n){return[n.initialNavigation==="disabled"?mb().\u0275providers:[],n.initialNavigation==="enabledBlocking"?gb().\u0275providers:[]]}var um=new q("");function C1(){return[{provide:um,useFactory:fb},{provide:sl,multi:!0,useExisting:um}]}function b1(n,e){if(n&1&&(Sn(0),P(1,"p"),V(2),x(),P(3,"p"),V(4),x(),P(5,"p"),V(6),x(),An()),n&2){let t=Ce();$(2),Re(t.httpGroup),$(2),Re(t.linkGroup),$(2),Re(t.idGroup)}}function D1(n,e){if(n&1&&(P(0,"p"),V(1),x()),n&2){let t=Ce();$(),Re(t.link)}}var S1=/^(https:\/\/)(www\.youtube\.com\/watch\?)(v=.+)$/,Yl=class n{link;httpGroup;linkGroup;idGroup;ngOnInit(){let e=S1.exec(this.link);e!=null&&(e[1]!=null&&(this.httpGroup=e[1]),e[2]!=null&&(this.linkGroup=e[2]),e[3]!=null&&(this.idGroup=e[3]))}sendToNewPage(e){e&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-formatted-link"]],inputs:{link:"link"},decls:4,vars:2,consts:[["fullUrl",""],[1,"projectUrl",3,"click"],[4,"ngIf","ngIfElse"]],template:function(t,r){if(t&1){let i=ln();P(0,"a",1),Je("click",function(){return at(i),ct(r.sendToNewPage(r.link))}),Me(1,b1,7,3,"ng-container",2)(2,D1,2,1,"ng-template",null,0,ul),x()}if(t&2){let i=cl(3);$(),X("ngIf",r.httpGroup!=null&&r.linkGroup!=null&&r.idGroup!=null)("ngIfElse",i)}},dependencies:[Tt],styles:[".projectUrl[_ngcontent-%COMP%]{text-decoration:underline}"]})};function A1(n,e){if(n&1&&(P(0,"div",3),re(1,"img",4),x()),n&2){let t=Ce();$(),X("src",t.image,ui)}}function R1(n,e){if(n&1&&(P(0,"div",7),re(1,"img",4),x()),n&2){let t=e.$implicit;$(),X("src",t,ui)}}function M1(n,e){if(n&1&&(P(0,"div",5),Me(1,R1,2,1,"div",6),x()),n&2){let t=Ce();$(),X("ngForOf",t.images)}}function P1(n,e){n&1&&(Sn(0),re(1,"div",8),An())}var Zl=class n{image;images;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-element-image"]],inputs:{image:"image",images:"images"},decls:3,vars:3,consts:[["class","imageElement",4,"ngIf"],["class","imagesElement",4,"ngIf"],[4,"ngIf"],[1,"imageElement"],[3,"src"],[1,"imagesElement"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"cuadrado-gris"]],template:function(t,r){t&1&&Me(0,A1,2,1,"div",0)(1,M1,2,1,"div",1)(2,P1,2,0,"ng-container",2),t&2&&(X("ngIf",r.image&&!r.images),$(),X("ngIf",!r.image&&r.images),$(),X("ngIf",!r.image&&!r.images))},dependencies:[Tt,Gt],styles:[".cuadrado-gris[_ngcontent-%COMP%]{width:100%;height:500px;background-color:gray;margin-top:20px;margin-bottom:60px}.imageElement[_ngcontent-%COMP%], .imagesElement[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:32px}.imageElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:175%}.imagesElement[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:start;width:170%}.imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:last-child{margin-left:20px}.imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}"]})};var Jl=class n{eventSubject=new ze;emitEvent(e){this.eventSubject.next(e)}get events$(){return this.eventSubject.asObservable()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var N1=["scrolInto"],O1=(n,e,t)=>({buttonIndex:n,buttonIndexOverflowed:e,closeButtonIndex:t}),k1=(n,e)=>({icon:n,icon_collapsed:e});function F1(n,e){if(n&1&&(Sn(0),P(1,"p"),V(2,"[Award-Winning]"),x(),re(3,"p"),P(4,"p"),V(5),x(),An()),n&2){let t=Ce();$(5),Re(t.projectElement.awardWining)}}function L1(n,e){if(n&1&&(P(0,"div",19),re(1,"app-formatted-link",20),x()),n&2){let t=e.$implicit;$(),X("link",t)}}function V1(n,e){if(n&1&&(Sn(0),Me(1,L1,2,1,"div",18),An()),n&2){let t=Ce();$(),X("ngForOf",t.projectElement.links)}}function j1(n,e){if(n&1&&(P(0,"div",21),re(1,"app-formatted-link",20),x()),n&2){let t=Ce();$(),X("link",t.projectElement.url)}}function U1(n,e){if(n&1&&(P(0,"div",22),V(1),x()),n&2){let t=Ce();$(),Ct(" ",t.projectElement.description," ")}}function B1(n,e){if(n&1&&(P(0,"div",23)(1,"p"),V(2),x()()),n&2){let t=Ce();$(2),Ct("Award-Winning, ",t.projectElement.awardWining,"")}}var $1=/^(https:\/\/)(www\.youtube\.com\/watch\?)(v=.+)$/,Xl=class n{constructor(e){this.expandElementService=e}projectElement;expand;sendProject=new ft;miElemento;httpGroup;linkGroup;idGroup;ngOnInit(){if(this.projectElement?.url){let e=$1.exec(this.projectElement.url);e!=null&&(e[1]!=null&&(this.httpGroup=e[1]),e[2]!=null&&(this.linkGroup=e[2]),e[3]!=null&&(this.idGroup=e[3]))}}handleElement(){this.expandElementService.emitEvent({id:this.projectElement.order,isActive:!this.expand,elementRef:this.miElemento}),this.sendProject.emit({id:this.projectElement.order,isActive:!this.expand,elementRef:this.miElemento}),this.expand=!this.expand}sendToNewPage(e){e&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)(Wt(Jl))};static \u0275cmp=Ge({type:n,selectors:[["app-project-element"]],viewQuery:function(t,r){if(t&1&&al(N1,5),t&2){let i;ia(i=oa())&&(r.miElemento=i.first)}},inputs:{projectElement:"projectElement",expand:"expand"},outputs:{sendProject:"sendProject"},decls:32,vars:24,consts:[["scrolInto",""],["noLinks",""],[3,"click","ngClass"],[1,"indexTitle"],[1,"year"],[1,"videoLink"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"title"],[1,"informationShown"],["class","descriptionElement",4,"ngIf"],[1,"mobileYear"],["class","mobileAwardWinning",4,"ngIf"],[1,"mobileVideo"],[3,"image","images"],[1,"keywords"],[3,"ngClass"],[1,"mobileImage"],["class","links",4,"ngFor","ngForOf"],[1,"links"],[3,"link"],[1,"link"],[1,"descriptionElement"],[1,"mobileAwardWinning"]],template:function(t,r){if(t&1){let i=ln();P(0,"a",2),Je("click",function(){return at(i),ct(r.handleElement())}),P(1,"div",3,0)(3,"p"),V(4),x()(),P(5,"div",4)(6,"p"),V(7),x(),P(8,"div",5),Me(9,F1,6,1,"ng-container",6)(10,V1,2,1,"ng-container",7)(11,j1,2,1,"ng-template",null,1,ul),x()(),P(13,"div",8)(14,"p"),V(15),x(),P(16,"div",9),Me(17,U1,2,1,"div",10),P(18,"div",11)(19,"p"),V(20),x()(),Me(21,B1,3,1,"div",12),P(22,"div",13)(23,"p"),V(24),x()(),re(25,"app-element-image",14),x()(),P(26,"div",15)(27,"p"),V(28),x()(),re(29,"div",16),P(30,"div",17),re(31,"app-element-image",14),x()()}if(t&2){let i=cl(12);X("ngClass",ZC(17,O1,!r.expand&&!r.projectElement.hasOverflowedText,!r.expand&&r.projectElement.hasOverflowedText,r.expand)),$(4),Ct("(",r.projectElement.index,")"),$(3),Re(r.projectElement.year),$(2),X("ngIf",r.projectElement==null?null:r.projectElement.awardWining),$(),X("ngIf",r.projectElement==null?null:r.projectElement.links)("ngIfElse",i),$(5),Re(r.projectElement.title),$(2),X("ngIf",r.projectElement==null?null:r.projectElement.description),$(3),Re(r.projectElement.year),$(),X("ngIf",r.projectElement.awardWining),$(3),Re(r.projectElement.url),$(),X("image",r.projectElement.image)("images",r.projectElement.images),$(3),Re(r.projectElement.keywords),$(),X("ngClass",YC(21,k1,!r.expand,r.expand)),$(2),X("image",r.projectElement.image)("images",r.projectElement.images)}},dependencies:[Tt,Tg,Gt,Yl,Zl],styles:['[_nghost-%COMP%]{overflow-y:hidden;overflow-x:hidden}a.closeButtonIndex[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{border-top:.5mm solid rgb(207,207,207);display:grid;padding-top:5px;padding-bottom:5px;grid-template-columns:20% 20% 35% 24% 1%}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{max-width:fit-content;align-self:flex-start;margin-top:20%;margin-bottom:auto;max-width:50%;word-break:break-all;cursor:pointer}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%]{width:100%;height:auto}a.closeButtonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{padding-left:19%}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:none}a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:10px;transition:max-height .3s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{opacity:0;pointer-events:none;transition:opacity 2s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;margin:0;display:block}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:25px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible}a.closeButtonIndex[_ngcontent-%COMP%]{max-height:980px;transition:max-height .3s ease-in}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{transform:translateY(0);height:auto;opacity:1;transition:transform 1s ease,opacity 1s ease,height 1s ease}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:visible;text-overflow:none}.mobileYear[_ngcontent-%COMP%], .mobileVideo[_ngcontent-%COMP%], .mobileAwardWinning[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:">";font-size:12px;font-weight:bolder;position:relative}.icon_collapsed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon_collapsed[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:"x";font-size:12px;font-weight:bolder;position:relative}','[_nghost-%COMP%]{overflow-y:hidden;overflow-x:hidden}a.closeButtonIndex[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{border-top:.5mm solid rgb(207,207,207);display:grid;padding-top:5px;padding-bottom:5px;grid-template-columns:20% 20% 35% 24% 1%}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{max-width:fit-content;align-self:flex-start;margin-top:20%;margin-bottom:auto;max-width:50%;word-break:break-all;cursor:pointer}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%]{width:100%;height:auto}a.closeButtonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{padding-left:19%}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:none}a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:10px;transition:max-height .3s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{opacity:0;pointer-events:none;transition:opacity 2s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;margin:0;display:block}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:25px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible}a.closeButtonIndex[_ngcontent-%COMP%]{max-height:980px;transition:max-height .3s ease-in}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{transform:translateY(0);height:auto;opacity:1;transition:transform 1s ease,opacity 1s ease,height 1s ease}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:visible;text-overflow:none}.mobileYear[_ngcontent-%COMP%], .mobileVideo[_ngcontent-%COMP%], .mobileAwardWinning[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:">";font-size:12px;font-weight:bolder;position:relative}.icon_collapsed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon_collapsed[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:"x";font-size:12px;font-weight:bolder;position:relative}@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)){a.closeButtonIndex[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{line-height:1.5;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:auto;padding-bottom:5px;width:100%}a.closeButtonIndex[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%]{grid-column:1;grid-row:1}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:250px;padding-left:10%}a.closeButtonIndex[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%]{grid-column:3;grid-row:1;width:10%}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{grid-column:1/span 3;grid-row:2}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{display:none}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:block;max-width:60%;height:auto}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:100%}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]:after{font-size:9px}.icon_collapsed[_ngcontent-%COMP%]:after{font-size:9px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-top:10px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileYear[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileVideo[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileAwardWinning[_ngcontent-%COMP%]{margin-top:10px;display:block}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileVideo[_ngcontent-%COMP%]{text-decoration:underline}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:23px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible;line-height:1.5}a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:7px}}',"@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{overflow-wrap:break-word;width:50%;margin:0;padding-top:20%}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:50px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible;line-height:1.5}}"]})};var Eb=()=>{};var Tb=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},H1=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ed={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,g=(o&3)<<4|c>>4,v=(c&15)<<2|l>>6,m=l&63;u||(m=64,s||(v=64)),r.push(t[f],t[g],t[v],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Tb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||g==null)throw new pm;let v=o<<2|c>>4;if(r.push(v),l!==64){let m=c<<4&240|l>>2;if(r.push(m),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},pm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},z1=function(n){let e=Tb(n);return ed.encodeByteArray(e,!0)},Na=function(n){return z1(n).replace(/\./g,"")},td=function(n){try{return ed.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var q1=()=>bb().__FIREBASE_DEFAULTS__,W1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},G1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&td(n[1]);return e&&JSON.parse(e)},nd=()=>{try{return Eb()||q1()||W1()||G1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Db=n=>{var e,t;return(t=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Sb=n=>{let e=Db(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mm=()=>{var n;return(n=nd())===null||n===void 0?void 0:n.config},Ab=n=>{var e;return(e=nd())===null||e===void 0?void 0:e[`_${n}`]};var _i=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Rb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Na(JSON.stringify(t)),Na(JSON.stringify(s)),""].join(".")}function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function K1(){var n;let e=(n=nd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Nb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ob(){return!K1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oa(){try{return typeof indexedDB=="object"}catch{return!1}}function kb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Q1="FirebaseError",Kt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Q1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}},gn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Y1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Kt(i,c,r)}};function Y1(n,e){return n.replace(Z1,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Z1=/\{\$([^}]+)}/g;function Ii(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(Cb(o)&&Cb(s)){if(!Ii(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Cb(n){return n!==null&&typeof n=="object"}function ym(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fb(n,e){let t=new gm(n,e);return t.subscribe.bind(t)}var gm=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");J1(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=fm),i.error===void 0&&(i.error=fm),i.complete===void 0&&(i.complete=fm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function J1(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fm(){}var z9=4*60*60*1e3;function jt(n){return n&&n._delegate?n._delegate:n}var bt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wi="[DEFAULT]";var vm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new _i;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eF(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X1(n){return n===wi?void 0:n}function eF(n){return n.instantiationMode==="EAGER"}var rd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new vm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var tF=[],ue=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ue||{}),nF={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},rF=ue.INFO,iF={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},oF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=iF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Nn=class{constructor(e){this.name=e,this._logLevel=rF,this._logHandler=oF,this._userLogHandler=null,tF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var sF=(n,e)=>e.some(t=>n instanceof t),Lb,Vb;function aF(){return Lb||(Lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cF(){return Vb||(Vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jb=new WeakMap,Im=new WeakMap,Ub=new WeakMap,_m=new WeakMap,Em=new WeakMap;function uF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(On(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&jb.set(t,n)}).catch(()=>{}),Em.set(e,n),e}function lF(n){if(Im.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Im.set(n,e)}var wm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Im.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ub.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return On(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Bb(n){wm=n(wm)}function dF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(id(this),e,...t);return Ub.set(r,e.sort?e.sort():[e]),On(r)}:cF().includes(n)?function(...e){return n.apply(id(this),e),On(jb.get(this))}:function(...e){return On(n.apply(id(this),e))}}function hF(n){return typeof n=="function"?dF(n):(n instanceof IDBTransaction&&lF(n),sF(n,aF())?new Proxy(n,wm):n)}function On(n){if(n instanceof IDBRequest)return uF(n);if(_m.has(n))return _m.get(n);let e=hF(n);return e!==n&&(_m.set(n,e),Em.set(e,n)),e}var id=n=>Em.get(n);function Hb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=On(s);return r&&s.addEventListener("upgradeneeded",u=>{r(On(s.result),u.oldVersion,u.newVersion,On(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var fF=["get","getKey","getAll","getAllKeys","count"],pF=["put","add","delete","clear"],Cm=new Map;function $b(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=pF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fF.includes(t)))return;let o=function(s,...c){return D(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return Cm.set(e,o),o}Bb(n=>De(j({},n),{get:(e,t,r)=>$b(e,t)||n.get(e,t,r),has:(e,t)=>!!$b(e,t)||n.has(e,t)}));var bm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function gF(n){let e=n.getComponent();return e?.type==="VERSION"}var Dm="@firebase/app",zb="0.11.4";var er=new Nn("@firebase/app"),mF="@firebase/app-compat",yF="@firebase/analytics-compat",vF="@firebase/analytics",_F="@firebase/app-check-compat",IF="@firebase/app-check",wF="@firebase/auth",EF="@firebase/auth-compat",CF="@firebase/database",TF="@firebase/data-connect",bF="@firebase/database-compat",DF="@firebase/functions",SF="@firebase/functions-compat",AF="@firebase/installations",RF="@firebase/installations-compat",MF="@firebase/messaging",PF="@firebase/messaging-compat",xF="@firebase/performance",NF="@firebase/performance-compat",OF="@firebase/remote-config",kF="@firebase/remote-config-compat",FF="@firebase/storage",LF="@firebase/storage-compat",VF="@firebase/firestore",jF="@firebase/vertexai",UF="@firebase/firestore-compat",BF="firebase",$F="11.6.0";var Sm="[DEFAULT]",HF={[Dm]:"fire-core",[mF]:"fire-core-compat",[vF]:"fire-analytics",[yF]:"fire-analytics-compat",[IF]:"fire-app-check",[_F]:"fire-app-check-compat",[wF]:"fire-auth",[EF]:"fire-auth-compat",[CF]:"fire-rtdb",[TF]:"fire-data-connect",[bF]:"fire-rtdb-compat",[DF]:"fire-fn",[SF]:"fire-fn-compat",[AF]:"fire-iid",[RF]:"fire-iid-compat",[MF]:"fire-fcm",[PF]:"fire-fcm-compat",[xF]:"fire-perf",[NF]:"fire-perf-compat",[OF]:"fire-rc",[kF]:"fire-rc-compat",[FF]:"fire-gcs",[LF]:"fire-gcs-compat",[VF]:"fire-fst",[UF]:"fire-fst-compat",[jF]:"fire-vertex","fire-js":"fire-js",[BF]:"fire-js-all"};var ka=new Map,zF=new Map,Am=new Map;function qb(n,e){try{n.container.addComponent(e)}catch(t){er.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mn(n){let e=n.name;if(Am.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,n);for(let t of ka.values())qb(t,n);for(let t of zF.values())qb(t,n);return!0}function od(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tr(n){return n==null?!1:n.settings!==void 0}var qF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new gn("app","Firebase",qF);var Rm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}};var Lo=$F;function xm(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(t||(t=mm()),!t)throw Mr.create("no-options");let o=ka.get(i);if(o){if(Ii(t,o.options)&&Ii(r,o.config))return o;throw Mr.create("duplicate-app",{appName:i})}let s=new rd(i);for(let u of Am.values())s.addComponent(u);let c=new Rm(t,r,s);return ka.set(i,c),c}function Vo(n=Sm){let e=ka.get(n);if(!e&&n===Sm&&mm())return xm();if(!e)throw Mr.create("no-app",{appName:n});return e}function sd(){return Array.from(ka.values())}function $e(n,e,t){var r;let i=(r=HF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(c.join(" "));return}mn(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var WF="firebase-heartbeat-database",GF=1,Fa="firebase-heartbeat-store",Tm=null;function Qb(){return Tm||(Tm=Hb(WF,GF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fa)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mr.create("idb-open",{originalErrorMessage:n.message})})),Tm}function KF(n){return D(this,null,function*(){try{let t=(yield Qb()).transaction(Fa),r=yield t.objectStore(Fa).get(Yb(n));return yield t.done,r}catch(e){if(e instanceof Kt)er.warn(e.message);else{let t=Mr.create("idb-get",{originalErrorMessage:e?.message});er.warn(t.message)}}})}function Wb(n,e){return D(this,null,function*(){try{let r=(yield Qb()).transaction(Fa,"readwrite");yield r.objectStore(Fa).put(e,Yb(n)),yield r.done}catch(t){if(t instanceof Kt)er.warn(t.message);else{let r=Mr.create("idb-set",{originalErrorMessage:t?.message});er.warn(r.message)}}})}function Yb(n){return`${n.name}!${n.options.appId}`}var QF=1024,YF=30,Mm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Pm(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Gb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>YF){let s=JF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){er.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Gb(),{heartbeatsToSend:r,unsentEntries:i}=ZF(this._heartbeatsCache.heartbeats),o=Na(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return er.warn(t),""}})}};function Gb(){return new Date().toISOString().substring(0,10)}function ZF(n,e=QF){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Kb(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Kb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Pm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Oa()?kb().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield KF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Wb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Wb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Kb(n){return Na(JSON.stringify({version:2,heartbeats:n})).length}function JF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function XF(n){mn(new bt("platform-logger",e=>new bm(e),"PRIVATE")),mn(new bt("heartbeat",e=>new Mm(e),"PRIVATE")),$e(Dm,zb,n),$e(Dm,zb,"esm2017"),$e("fire-js","")}XF("");var eL="firebase",tL="11.6.0";$e(eL,tL,"app");function Nm(n){n===void 0&&(xp(Nm),n=R(st));let e=n.get(Qu);return t=>new ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Ci=new yo("ANGULARFIRE2_VERSION");function cd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Uo=(n,e)=>{let t=e?[e]:sd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},jo=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(jo||{}),Zb=vg()&&typeof Zone<"u"?jo.WARN:jo.SILENT;var ad=class{zone;delegate;constructor(e,t=Tf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ti=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=R(Ee);this.outsideAngular=t.runOutsideAngular(()=>new ad(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new ad(typeof Zone>"u"?void 0:Zone.current,Cf))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jb=!1;function nL(n,e){!Jb&&(Zb>jo.SILENT||vg())&&(Jb=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Zb>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function rL(n){let e=R(Ee,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ei(n){let e=R(Ee,{optional:!0});return e?e.run(()=>n()):n()}var iL=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),mt(t,()=>Ei(()=>n.apply(void 0,r)))),Qt=(n,e,t)=>(t||=e?jo.WARN:jo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=R(Ti),s=R(Qu),c=R(pt)}catch{return nL(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ei(()=>s.add())),i[l]=iL(i[l],r,c));let u=rL(()=>n.apply(this,i));return e?u instanceof ie?u.pipe(mr(o.outsideAngular),gr(o.insideAngular),Nm(c)):u instanceof Promise?Ei(()=>new Promise((l,f)=>{s.run(()=>u).then(g=>mt(c,()=>Ei(()=>l(g))),g=>mt(c,()=>Ei(()=>f(g))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ei(()=>u):u instanceof ie?u.pipe(mr(o.outsideAngular),gr(o.insideAngular)):Ei(()=>u)});var bi=class{constructor(e){return e}},La=class{constructor(){return sd()}};function oL(n){return n&&n.length===1?n[0]:new bi(Vo())}var Om=new q("angularfire2._apps"),sL={provide:bi,useFactory:oL,deps:[[new Gn,Om]]},aL={provide:La,deps:[[new Gn,Om]]};function cL(n){return(e,t)=>{let r=t.get(Er);$e("angularfire",Ci.full,"core"),$e("angularfire",Ci.full,"app"),$e("angular",XC.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new bi(i)}}function Xb(n,...e){return oi([sL,aL,{provide:Om,useFactory:cL(n),multi:!0,deps:[Ee,st,Ti,...e]}])}var eD=Qt(xm,!0);var uL=new Map,lL={activated:!1,tokenObservers:[]},dL={initialized:!1,enabled:!1};function yn(n){return uL.get(n)||Object.assign({},lL)}function iD(){return dL}var hL="https://content-firebaseappcheck.googleapis.com/v1";var fL="exchangeDebugToken",tD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Z6=24*60*60*1e3;var Lm=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return D(this,null,function*(){this.stop();try{this.pending=new _i,this.pending.promise.catch(t=>{}),yield pL(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _i,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function pL(n){return new Promise(e=>{setTimeout(e,n)})}var gL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Pr=new gn("appCheck","AppCheck",gL);function oD(n){if(!yn(n).activated)throw Pr.create("use-before-activation",{appName:n.name})}function sD(r,i){return D(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(m){throw Pr.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw Pr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw Pr.create("fetch-parse-error",{originalErrorMessage:m?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Pr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let g=Number(f[1])*1e3,v=Date.now();return{token:l.token,expireTimeMillis:v+g,issuedAtTimeMillis:v}})}function aD(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${hL}/projects/${t}/apps/${r}:${fL}?key=${i}`,body:{debug_token:e}}}var mL="firebase-app-check-database",yL=1,Vm="firebase-app-check-store";var ud=null;function vL(){return ud||(ud=new Promise((n,e)=>{try{let t=indexedDB.open(mL,yL);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Pr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Vm,{keyPath:"compositeKey"})}}}catch(t){e(Pr.create("storage-open",{originalErrorMessage:t?.message}))}}),ud)}function _L(n,e){return IL(wL(n),e)}function IL(n,e){return D(this,null,function*(){let r=(yield vL()).transaction(Vm,"readwrite"),o=r.objectStore(Vm).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Pr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function wL(n){return`${n.options.appId}-${n.name}`}var Va=new Nn("@firebase/app-check");function km(n,e){return Oa()?_L(n,e).catch(t=>{Va.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function cD(){return iD().enabled}function uD(){return D(this,null,function*(){let n=iD();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var EL={error:"UNKNOWN_ERROR"};function CL(n){return ed.encodeString(JSON.stringify(n),!1)}function jm(n,e=!1,t=!1){return D(this,null,function*(){let r=n.app;oD(r);let i=yn(r),o=i.token,s;if(o&&!ja(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ja(l)?o=l:yield km(r,void 0))}if(!e&&o&&ja(o))return{token:o.token};let c=!1;if(cD())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=sD(aD(r,yield uD()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield km(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Va.warn(l.message):t&&Va.error(l),Fm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield yn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Va.warn(l.message):t&&Va.error(l),s=l}let u;return o?s?ja(o)?u={token:o.token,internalError:s}:u=Fm(s):(u={token:o.token},i.token=o,yield km(r,o)):u=Fm(s),c&&SL(r,u),u})}function TL(n){return D(this,null,function*(){let e=n.app;oD(e);let{provider:t}=yn(e);if(cD()){let r=yield uD(),{token:i}=yield sD(aD(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function bL(n,e,t,r){let{app:i}=n,o=yn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ja(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),nD(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>nD(n))}function lD(n,e){let t=yn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function nD(n){let{app:e}=n,t=yn(e),r=t.tokenRefresher;r||(r=DL(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function DL(n){let{app:e}=n;return new Lm(()=>D(this,null,function*(){let t=yn(e),r;if(t.token?r=yield jm(n,!0):r=yield jm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=yn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},tD.RETRIAL_MIN_WAIT,tD.RETRIAL_MAX_WAIT)}function SL(n,e){let t=yn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ja(n){return n.expireTimeMillis-Date.now()>0}function Fm(n){return{token:CL(EL),error:n}}var Um=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=yn(this.app);for(let t of e)lD(this.app,t.next);return Promise.resolve()}};function AL(n,e){return new Um(n,e)}function RL(n){return{getToken:e=>jm(n,e),getLimitedUseToken:()=>TL(n),addTokenListener:e=>bL(n,"INTERNAL",e),removeTokenListener:e=>lD(n.app,e)}}var ML="@firebase/app-check",PL="0.8.13";var xL="app-check",rD="app-check-internal";function NL(){mn(new bt(xL,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return AL(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rD).initialize()})),mn(new bt(rD,n=>{let e=n.getProvider("app-check").getImmediate();return RL(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$e(ML,PL)}NL();var OL="app-check";var ld=class{constructor(){return Uo(OL)}};var kL=["localhost","0.0.0.0","127.0.0.1"],l5=typeof window<"u"&&kL.includes(window.location.hostname);function vD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var _D=vD,ID=new gn("auth","Firebase",vD());var pd=new Nn("@firebase/auth");function LL(n,...e){pd.logLevel<=ue.WARN&&pd.warn(`Auth (${Lo}): ${n}`,...e)}function hd(n,...e){pd.logLevel<=ue.ERROR&&pd.error(`Auth (${Lo}): ${n}`,...e)}function dD(n,...e){throw Jm(n,...e)}function Zm(n,...e){return Jm(n,...e)}function wD(n,e,t){let r=Object.assign(Object.assign({},_D()),{[e]:t});return new gn("auth","Firebase",r).create(e,{appName:n.name})}function fd(n){return wD(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ID.create(n,...e)}function Ie(n,e,...t){if(!n)throw Jm(e,...t)}function Ua(n){let e="INTERNAL ASSERTION FAILED: "+n;throw hd(e),new Error(e)}function gd(n,e){n||Ua(e)}function VL(){return hD()==="http:"||hD()==="https:"}function hD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function jL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VL()||xb()||"connection"in navigator)?navigator.onLine:!0}function UL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ai=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,gd(t>e,"Short delay should be less than long delay!"),this.isMobile=Mb()||Nb()}get(){return jL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function BL(n,e){gd(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var md=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var HL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zL=new Ai(3e4,6e4);function ED(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function wd(o,s,c,u){return D(this,arguments,function*(n,e,t,r,i={}){return CD(n,i,()=>D(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=ym(Object.assign({key:n.config.apiKey},f)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:v},l);return Pb()||(m.referrerPolicy="no-referrer"),md.fetch()(yield TD(n,n.config.apiHost,t,g),m)}))})}function CD(n,e,t){return D(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},$L),e);try{let i=new Hm(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw dd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw dd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw dd(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw wD(n,f,l);dD(n,f)}}catch(i){if(i instanceof Kt)throw i;dD(n,"network-request-failed",{message:String(i)})}})}function TD(n,e,t,r){return D(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?BL(n.config,i):`${n.config.apiScheme}://${i}`;return HL.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Hm=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zm(this.auth,"network-request-failed")),zL.get())})}};function dd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Zm(n,e,r);return i.customData._tokenResponse=t,i}function qL(n,e){return D(this,null,function*(){return wd(n,"POST","/v1/accounts:delete",e)})}function yd(n,e){return D(this,null,function*(){return wd(n,"POST","/v1/accounts:lookup",e)})}function Ba(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xm(n,e=!1){return D(this,null,function*(){let t=jt(n),r=yield t.getIdToken(e),i=bD(r);Ie(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ba(Bm(i.auth_time)),issuedAtTime:Ba(Bm(i.iat)),expirationTime:Ba(Bm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Bm(n){return Number(n)*1e3}function bD(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{let i=td(t);return i?JSON.parse(i):(hd("Failed to decode base64 JWT payload"),null)}catch(i){return hd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fD(n){let e=bD(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zm(n,e,t=!1){return D(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Kt&&WL(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function WL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var qm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),t)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ha=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ba(this.lastLoginAt),this.creationTime=Ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vd(n){return D(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield zm(n,yd(t,{idToken:r}));Ie(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DD(o.providerUserInfo):[],c=GL(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ha(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,g)})}function ey(n){return D(this,null,function*(){let e=jt(n);yield vd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function GL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DD(n){return n.map(e=>{var{providerId:t}=e,r=bf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function KL(n,e){return D(this,null,function*(){let t=yield CD(n,{},()=>D(this,null,function*(){let r=ym({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield TD(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",md.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function QL(n,e){return D(this,null,function*(){return wd(n,"POST","/v2/accounts:revokeToken",ED(n,e))})}var $a=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");let t=fD(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return D(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield KL(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ua("not implemented")}};function xr(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Di=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=bf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ha(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let t=yield zm(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Xm(this,e)}reload(){return ey(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield vd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(tr(this.auth.app))return Promise.reject(fd(this.auth));let e=yield this.getIdToken();return yield zm(this,qL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,O=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,W=(l=t.createdAt)!==null&&l!==void 0?l:void 0,ye=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:se,emailVerified:xe,isAnonymous:It,providerData:we,stsTokenManager:E}=t;Ie(se&&E,e,"internal-error");let y=$a.fromJSON(this.name,E);Ie(typeof se=="string",e,"internal-error"),xr(g,e.name),xr(v,e.name),Ie(typeof xe=="boolean",e,"internal-error"),Ie(typeof It=="boolean",e,"internal-error"),xr(m,e.name),xr(A,e.name),xr(N,e.name),xr(O,e.name),xr(W,e.name),xr(ye,e.name);let I=new n({uid:se,auth:e,email:v,emailVerified:xe,displayName:g,isAnonymous:It,photoURL:A,phoneNumber:m,tenantId:N,stsTokenManager:y,createdAt:W,lastLoginAt:ye});return we&&Array.isArray(we)&&(I.providerData=we.map(w=>Object.assign({},w))),O&&(I._redirectEventId=O),I}static _fromIdTokenResponse(e,t,r=!1){return D(this,null,function*(){let i=new $a;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return D(this,null,function*(){let i=t.users[0];Ie(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?DD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new $a;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ha(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var pD=new Map;function Si(n){gd(n instanceof Function,"Expected a class definition");let e=pD.get(n);return e?(gd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pD.set(n,e),e)}var YL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(t,r){return D(this,null,function*(){this.storage[t]=r})}_get(t){return D(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return D(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Wm=YL;function $m(n,e,t){return`firebase:${n}:${e}:${t}`}var _d=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=$m(this.userKey,i.apiKey,o),this.fullPersistenceKey=$m("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield yd(this.auth,{idToken:e}).catch(()=>{});return t?Di._fromGetAccountInfoResponse(this.auth,t,e):null}return Di._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(this,null,function*(){if(!t.length)return new n(Si(Wm),e,r);let i=(yield Promise.all(t.map(l=>D(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Si(Wm),s=$m(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(s);if(f){let g;if(typeof f=="string"){let v=yield yd(e,{idToken:f}).catch(()=>{});if(!v)break;g=yield Di._fromGetAccountInfoResponse(e,v,f)}else g=Di._fromJSON(e,f);l!==o&&(c=g),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>D(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function gD(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nV(e))return"Blackberry";if(rV(e))return"Webos";if(JL(e))return"Safari";if((e.includes("chrome/")||XL(e))&&!e.includes("edge/"))return"Chrome";if(tV(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ZL(n=Vt()){return/firefox\//i.test(n)}function JL(n=Vt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XL(n=Vt()){return/crios\//i.test(n)}function eV(n=Vt()){return/iemobile/i.test(n)}function tV(n=Vt()){return/android/i.test(n)}function nV(n=Vt()){return/blackberry/i.test(n)}function rV(n=Vt()){return/webos/i.test(n)}function SD(n,e=[]){let t;switch(n){case"Browser":t=gD(Vt());break;case"Worker":t=`${gD(Vt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Lo}/${r}`}var Gm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function iV(t){return D(this,arguments,function*(n,e={}){return wd(n,"GET","/v2/passwordPolicy",ED(n,e))})}var oV=6,Km=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:oV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Qm=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Id(this),this.idTokenSubscription=new Id(this),this.beforeStateQueue=new Gm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ID,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield _d.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let t=yield yd(this,{idToken:e}),r=yield Di._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var t;if(tr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield vd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=UL()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(tr(this.app))return Promise.reject(fd(this));let t=e?jt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return D(this,null,function*(){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return tr(this.app)?Promise.reject(fd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return tr(this.app)?Promise.reject(fd(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(Si(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield iV(this),t=new Km(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield QL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Si(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=yield _d.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return D(this,null,function*(){var e;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&LL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function sV(n){return jt(n)}var Id=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fb(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var aV={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cV(n){aV=n}function uV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function lV(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Si);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var E5=uV("rcb"),C5=new Ai(3e4,6e4);var T5=new Ai(2e3,1e4);var b5=10*60*1e3;var D5=new Ai(3e4,6e4);var S5=new Ai(5e3,15e3);var A5=encodeURIComponent("fac");var mD="@firebase/auth",yD="1.10.0";var Ym=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function dV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hV(n){mn(new bt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;Ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SD(n)},l=new Qm(r,i,o,u);return lV(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mn(new bt("auth-internal",e=>{let t=sV(e.getProvider("auth").getImmediate());return(r=>new Ym(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(mD,yD,dV(n)),$e(mD,yD,"esm2017")}var fV=5*60,R5=Ab("authIdTokenMaxAge")||fV;function pV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cV({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Zm("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",pV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hV("Browser");var h2="auth";var Ed=class{constructor(){return Uo(h2)}};var AD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RD={};var nr,ty;(function(){var n;function e(E,y){function I(){}I.prototype=y.prototype,E.D=y.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(w,C,b){for(var _=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)_[Vn-2]=arguments[Vn];return y.prototype[C].apply(w,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,I){I||(I=0);var w=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)w[C]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(C=0;16>C;++C)w[C]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=E.g[0],I=E.g[1],C=E.g[2];var b=E.g[3],_=y+(b^I&(C^b))+w[0]+3614090360&4294967295;y=I+(_<<7&4294967295|_>>>25),_=b+(C^y&(I^C))+w[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(I^b&(y^I))+w[2]+606105819&4294967295,C=b+(_<<17&4294967295|_>>>15),_=I+(y^C&(b^y))+w[3]+3250441966&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(b^I&(C^b))+w[4]+4118548399&4294967295,y=I+(_<<7&4294967295|_>>>25),_=b+(C^y&(I^C))+w[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(I^b&(y^I))+w[6]+2821735955&4294967295,C=b+(_<<17&4294967295|_>>>15),_=I+(y^C&(b^y))+w[7]+4249261313&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(b^I&(C^b))+w[8]+1770035416&4294967295,y=I+(_<<7&4294967295|_>>>25),_=b+(C^y&(I^C))+w[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(I^b&(y^I))+w[10]+4294925233&4294967295,C=b+(_<<17&4294967295|_>>>15),_=I+(y^C&(b^y))+w[11]+2304563134&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(b^I&(C^b))+w[12]+1804603682&4294967295,y=I+(_<<7&4294967295|_>>>25),_=b+(C^y&(I^C))+w[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(I^b&(y^I))+w[14]+2792965006&4294967295,C=b+(_<<17&4294967295|_>>>15),_=I+(y^C&(b^y))+w[15]+1236535329&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(C^b&(I^C))+w[1]+4129170786&4294967295,y=I+(_<<5&4294967295|_>>>27),_=b+(I^C&(y^I))+w[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(b^y))+w[11]+643717713&4294967295,C=b+(_<<14&4294967295|_>>>18),_=I+(b^y&(C^b))+w[0]+3921069994&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(C^b&(I^C))+w[5]+3593408605&4294967295,y=I+(_<<5&4294967295|_>>>27),_=b+(I^C&(y^I))+w[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(b^y))+w[15]+3634488961&4294967295,C=b+(_<<14&4294967295|_>>>18),_=I+(b^y&(C^b))+w[4]+3889429448&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(C^b&(I^C))+w[9]+568446438&4294967295,y=I+(_<<5&4294967295|_>>>27),_=b+(I^C&(y^I))+w[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(b^y))+w[3]+4107603335&4294967295,C=b+(_<<14&4294967295|_>>>18),_=I+(b^y&(C^b))+w[8]+1163531501&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(C^b&(I^C))+w[13]+2850285829&4294967295,y=I+(_<<5&4294967295|_>>>27),_=b+(I^C&(y^I))+w[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(b^y))+w[7]+1735328473&4294967295,C=b+(_<<14&4294967295|_>>>18),_=I+(b^y&(C^b))+w[12]+2368359562&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(I^C^b)+w[5]+4294588738&4294967295,y=I+(_<<4&4294967295|_>>>28),_=b+(y^I^C)+w[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^I)+w[11]+1839030562&4294967295,C=b+(_<<16&4294967295|_>>>16),_=I+(C^b^y)+w[14]+4259657740&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(I^C^b)+w[1]+2763975236&4294967295,y=I+(_<<4&4294967295|_>>>28),_=b+(y^I^C)+w[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^I)+w[7]+4139469664&4294967295,C=b+(_<<16&4294967295|_>>>16),_=I+(C^b^y)+w[10]+3200236656&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(I^C^b)+w[13]+681279174&4294967295,y=I+(_<<4&4294967295|_>>>28),_=b+(y^I^C)+w[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^I)+w[3]+3572445317&4294967295,C=b+(_<<16&4294967295|_>>>16),_=I+(C^b^y)+w[6]+76029189&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(I^C^b)+w[9]+3654602809&4294967295,y=I+(_<<4&4294967295|_>>>28),_=b+(y^I^C)+w[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^I)+w[15]+530742520&4294967295,C=b+(_<<16&4294967295|_>>>16),_=I+(C^b^y)+w[2]+3299628645&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(C^(I|~b))+w[0]+4096336452&4294967295,y=I+(_<<6&4294967295|_>>>26),_=b+(I^(y|~C))+w[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~I))+w[14]+2878612391&4294967295,C=b+(_<<15&4294967295|_>>>17),_=I+(b^(C|~y))+w[5]+4237533241&4294967295,I=C+(_<<21&4294967295|_>>>11),_=y+(C^(I|~b))+w[12]+1700485571&4294967295,y=I+(_<<6&4294967295|_>>>26),_=b+(I^(y|~C))+w[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~I))+w[10]+4293915773&4294967295,C=b+(_<<15&4294967295|_>>>17),_=I+(b^(C|~y))+w[1]+2240044497&4294967295,I=C+(_<<21&4294967295|_>>>11),_=y+(C^(I|~b))+w[8]+1873313359&4294967295,y=I+(_<<6&4294967295|_>>>26),_=b+(I^(y|~C))+w[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~I))+w[6]+2734768916&4294967295,C=b+(_<<15&4294967295|_>>>17),_=I+(b^(C|~y))+w[13]+1309151649&4294967295,I=C+(_<<21&4294967295|_>>>11),_=y+(C^(I|~b))+w[4]+4149444226&4294967295,y=I+(_<<6&4294967295|_>>>26),_=b+(I^(y|~C))+w[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~I))+w[2]+718787259&4294967295,C=b+(_<<15&4294967295|_>>>17),_=I+(b^(C|~y))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var I=y-this.blockSize,w=this.B,C=this.h,b=0;b<y;){if(C==0)for(;b<=I;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(w[C++]=E.charCodeAt(b++),C==this.blockSize){i(this,w),C=0;break}}else for(;b<y;)if(w[C++]=E[b++],C==this.blockSize){i(this,w),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var I=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=I&255,I/=256;for(this.u(E),E=Array(16),y=I=0;4>y;++y)for(var w=0;32>w;w+=8)E[I++]=this.g[y]>>>w&255;return E};function o(E,y){var I=c;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=y(E)}function s(E,y){this.h=y;for(var I=[],w=!0,C=E.length-1;0<=C;C--){var b=E[C]|0;w&&b==y||(I[C]=b,w=!1)}this.g=I}var c={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return O(l(-E));for(var y=[],I=1,w=0;E>=I;w++)y[w]=E/I|0,I*=4294967296;return new s(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return O(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(y,8)),w=g,C=0;C<E.length;C+=8){var b=Math.min(8,E.length-C),_=parseInt(E.substring(C,C+b),y);8>b?(b=l(Math.pow(y,b)),w=w.j(b).add(l(_))):(w=w.j(I),w=w.add(l(_)))}return w}var g=u(0),v=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-O(this).m();for(var E=0,y=1,I=0;I<this.g.length;I++){var w=this.i(I);E+=(0<=w?w:4294967296+w)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(N(this))return"-"+O(this).toString(E);for(var y=l(Math.pow(E,6)),I=this,w="";;){var C=xe(I,y).g;I=W(I,C.j(y));var b=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=C,A(I))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function N(E){return E.h==-1}n.l=function(E){return E=W(this,E),N(E)?-1:A(E)?0:1};function O(E){for(var y=E.g.length,I=[],w=0;w<y;w++)I[w]=~E.g[w];return new s(I,~E.h).add(v)}n.abs=function(){return N(this)?O(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0,C=0;C<=y;C++){var b=w+(this.i(C)&65535)+(E.i(C)&65535),_=(b>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);w=_>>>16,b&=65535,_&=65535,I[C]=_<<16|b}return new s(I,I[I.length-1]&-2147483648?-1:0)};function W(E,y){return E.add(O(y))}n.j=function(E){if(A(this)||A(E))return g;if(N(this))return N(E)?O(this).j(O(E)):O(O(this).j(E));if(N(E))return O(this.j(O(E)));if(0>this.l(m)&&0>E.l(m))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,I=[],w=0;w<2*y;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var C=0;C<E.g.length;C++){var b=this.i(w)>>>16,_=this.i(w)&65535,Vn=E.i(C)>>>16,ys=E.i(C)&65535;I[2*w+2*C]+=_*ys,ye(I,2*w+2*C),I[2*w+2*C+1]+=b*ys,ye(I,2*w+2*C+1),I[2*w+2*C+1]+=_*Vn,ye(I,2*w+2*C+1),I[2*w+2*C+2]+=b*Vn,ye(I,2*w+2*C+2)}for(w=0;w<y;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=y;w<2*y;w++)I[w]=0;return new s(I,0)};function ye(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function se(E,y){this.g=E,this.h=y}function xe(E,y){if(A(y))throw Error("division by zero");if(A(E))return new se(g,g);if(N(E))return y=xe(O(E),y),new se(O(y.g),O(y.h));if(N(y))return y=xe(E,O(y)),new se(O(y.g),y.h);if(30<E.g.length){if(N(E)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var I=v,w=y;0>=w.l(E);)I=It(I),w=It(w);var C=we(I,1),b=we(w,1);for(w=we(w,2),I=we(I,2);!A(w);){var _=b.add(w);0>=_.l(E)&&(C=C.add(I),b=_),w=we(w,1),I=we(I,1)}return y=W(E,C.j(y)),new se(C,y)}for(C=g;0<=E.l(y);){for(I=Math.max(1,Math.floor(E.m()/y.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(I),_=b.j(y);N(_)||0<_.l(E);)I-=w,b=l(I),_=b.j(y);A(b)&&(b=v),C=C.add(b),E=W(E,_)}return new se(C,E)}n.A=function(E){return xe(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0;w<y;w++)I[w]=this.i(w)&E.i(w);return new s(I,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0;w<y;w++)I[w]=this.i(w)|E.i(w);return new s(I,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0;w<y;w++)I[w]=this.i(w)^E.i(w);return new s(I,this.h^E.h)};function It(E){for(var y=E.g.length+1,I=[],w=0;w<y;w++)I[w]=E.i(w)<<1|E.i(w-1)>>>31;return new s(I,E.h)}function we(E,y){var I=y>>5;y%=32;for(var w=E.g.length-I,C=[],b=0;b<w;b++)C[b]=0<y?E.i(b+I)>>>y|E.i(b+I+1)<<32-y:E.i(b+I);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ty=RD.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,nr=RD.Integer=s}).apply(typeof AD<"u"?AD:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rr={};var ny,f2,Bo,ry,za,Td,iy,oy,sy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var T=a[p];if(!(T in h))break e;h=h[T]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,p=!1,T={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,p),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function v(a,d,h){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function m(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,T,S){for(var F=Array(arguments.length-2),be=2;be<arguments.length;be++)F[be-2]=arguments[be];return d.prototype[T].apply(p,F)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function O(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let T=a.length||0,S=p.length||0;a.length=T+S;for(let F=0;F<S;F++)a[T+F]=p[F]}else a.push(p)}}class W{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ye(a){return/^[\s\xa0]*$/.test(a)}function se(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function xe(a){return xe[" "](a),a}xe[" "]=function(){};var It=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function we(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,p;for(let T=1;T<arguments.length;T++){p=arguments[T];for(h in p)a[h]=p[h];for(let S=0;S<I.length;S++)h=I[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Mh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Vn{constructor(){this.h=this.g=null}add(d,h){let p=ys.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ys=new W(()=>new iA,a=>a.reset());class iA{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let vs,_s=!1,Mh=new Vn,m_=()=>{let a=c.Promise.resolve(void 0);vs=()=>{a.then(oA)}};var oA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=ys;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}_s=!1};function lr(){this.s=this.s,this.C=this.C}lr.prototype.s=!1,lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var sA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Is(a,d){if(ut.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(It){e:{try{xe(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:aA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Is.aa.h.call(this)}}A(Is,ut);var aA={2:"touch",3:"pen",4:"mouse"};Is.prototype.h=function(){Is.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ws="closure_listenable_"+(1e6*Math.random()|0),cA=0;function uA(a,d,h,p,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=T,this.key=++cA,this.da=this.fa=!1}function gc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function mc(a){this.src=a,this.g={},this.h=0}mc.prototype.add=function(a,d,h,p,T){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var F=xh(a,d,p,T);return-1<F?(d=a[F],h||(d.fa=!1)):(d=new uA(d,this.src,S,!!p,T),d.fa=h,a.push(d)),d};function Ph(a,d){var h=d.type;if(h in a.g){var p=a.g[h],T=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(p,T,1),S&&(gc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function xh(a,d,h,p){for(var T=0;T<a.length;++T){var S=a[T];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return T}return-1}var Nh="closure_lm_"+(1e6*Math.random()|0),Oh={};function y_(a,d,h,p,T){if(p&&p.once)return __(a,d,h,p,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)y_(a,d[S],h,p,T);return null}return h=Vh(h),a&&a[ws]?a.K(d,h,l(p)?!!p.capture:!!p,T):v_(a,d,h,!1,p,T)}function v_(a,d,h,p,T,S){if(!d)throw Error("Invalid event type");var F=l(T)?!!T.capture:!!T,be=Fh(a);if(be||(a[Nh]=be=new mc(a)),h=be.add(d,h,p,F,S),h.proxy)return h;if(p=lA(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)sA||(T=F),T===void 0&&(T=!1),a.addEventListener(d.toString(),p,T);else if(a.attachEvent)a.attachEvent(w_(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function lA(){function a(h){return d.call(a.src,a.listener,h)}let d=dA;return a}function __(a,d,h,p,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)__(a,d[S],h,p,T);return null}return h=Vh(h),a&&a[ws]?a.L(d,h,l(p)?!!p.capture:!!p,T):v_(a,d,h,!0,p,T)}function I_(a,d,h,p,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)I_(a,d[S],h,p,T);else p=l(p)?!!p.capture:!!p,h=Vh(h),a&&a[ws]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=xh(S,h,p,T),-1<h&&(gc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Fh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=xh(d,h,p,T)),(h=-1<a?d[a]:null)&&kh(h))}function kh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ws])Ph(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(w_(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Fh(d))?(Ph(h,a),h.h==0&&(h.src=null,d[Nh]=null)):gc(a)}}}function w_(a){return a in Oh?Oh[a]:Oh[a]="on"+a}function dA(a,d){if(a.da)a=!0;else{d=new Is(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&kh(a),a=h.call(p,d)}return a}function Fh(a){return a=a[Nh],a instanceof mc?a:null}var Lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vh(a){return typeof a=="function"?a:(a[Lh]||(a[Lh]=function(d){return a.handleEvent(d)}),a[Lh])}function lt(){lr.call(this),this.i=new mc(this),this.M=this,this.F=null}A(lt,lr),lt.prototype[ws]=!0,lt.prototype.removeEventListener=function(a,d,h,p){I_(this,a,d,h,p)};function wt(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new ut(d,a);else if(d instanceof ut)d.target=d.target||a;else{var T=d;d=new ut(p,a),w(d,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var F=d.g=h[S];T=yc(F,p,!0,d)&&T}if(F=d.g=a,T=yc(F,p,!0,d)&&T,T=yc(F,p,!1,d)&&T,h)for(S=0;S<h.length;S++)F=d.g=h[S],T=yc(F,p,!1,d)&&T}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)gc(h[p]);delete a.g[d],a.h--}}this.F=null},lt.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},lt.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function yc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var F=d[S];if(F&&!F.da&&F.capture==h){var be=F.listener,it=F.ha||F.src;F.fa&&Ph(a.i,F),T=be.call(it,p)!==!1&&T}}return T&&!p.defaultPrevented}function E_(a,d,h){if(typeof a=="function")h&&(a=v(a,h));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function C_(a){a.g=E_(()=>{a.g=null,a.i&&(a.i=!1,C_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class hA extends lr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:C_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(a){lr.call(this),this.h=a,this.g={}}A(Es,lr);var T_=[];function b_(a){we(a.g,function(d,h){this.g.hasOwnProperty(h)&&kh(d)},a),a.g={}}Es.prototype.N=function(){Es.aa.N.call(this),b_(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jh=c.JSON.stringify,fA=c.JSON.parse,pA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Uh(){}Uh.prototype.h=null;function D_(a){return a.h||(a.h=a.i())}function S_(){}var Cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bh(){ut.call(this,"d")}A(Bh,ut);function $h(){ut.call(this,"c")}A($h,ut);var Ur={},A_=null;function vc(){return A_=A_||new lt}Ur.La="serverreachability";function R_(a){ut.call(this,Ur.La,a)}A(R_,ut);function Ts(a){let d=vc();wt(d,new R_(d))}Ur.STAT_EVENT="statevent";function M_(a,d){ut.call(this,Ur.STAT_EVENT,a),this.stat=d}A(M_,ut);function Et(a){let d=vc();wt(d,new M_(d,a))}Ur.Ma="timingevent";function P_(a,d){ut.call(this,Ur.Ma,a),this.size=d}A(P_,ut);function bs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ds(){this.g=!0}Ds.prototype.xa=function(){this.g=!1};function gA(a,d,h,p,T,S){a.info(function(){if(a.g)if(S)for(var F="",be=S.split("&"),it=0;it<be.length;it++){var ve=be[it].split("=");if(1<ve.length){var dt=ve[0];ve=ve[1];var ht=dt.split("_");F=2<=ht.length&&ht[1]=="type"?F+(dt+"="+ve+"&"):F+(dt+"=redacted&")}}else F=null;else F=S;return"XMLHTTP REQ ("+p+") [attempt "+T+"]: "+d+`
`+h+`
`+F})}function mA(a,d,h,p,T,S,F){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+T+"]: "+d+`
`+h+`
`+S+" "+F})}function Li(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+vA(a,h)+(p?" "+p:"")})}function yA(a,d){a.info(function(){return"TIMEOUT: "+d})}Ds.prototype.info=function(){};function vA(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var T=p[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var F=1;F<T.length;F++)T[F]=""}}}}return jh(h)}catch{return d}}var _c={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},x_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hh;function Ic(){}A(Ic,Uh),Ic.prototype.g=function(){return new XMLHttpRequest},Ic.prototype.i=function(){return{}},Hh=new Ic;function dr(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new N_}function N_(){this.i=null,this.g="",this.h=!1}var O_={},zh={};function qh(a,d,h){a.L=1,a.v=Tc(jn(d)),a.m=h,a.P=!0,k_(a,null)}function k_(a,d){a.F=Date.now(),wc(a),a.A=jn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),Q_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new N_,a.g=fI(a.j,h?d:null,!a.m),0<a.O&&(a.M=new hA(v(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(T_[0]=T.toString()),T=T_);for(var S=0;S<T.length;S++){var F=y_(h,T[S],p||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Ts(),gA(a.i,a.u,a.A,a.l,a.R,a.m)}dr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Un(a)==3?d.j():this.Y(a)},dr.prototype.Y=function(a){try{if(a==this.g)e:{let ht=Un(this.g);var d=this.g.Ba();let Ui=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||nI(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Ui?Ts(3):Ts(2)),Wh(this);var h=this.g.Z();this.X=h;t:if(F_(this)){var p=nI(this.g);a="";var T=p.length,S=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),Ss(this);var F="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==T-1)});p.length=0,this.h.g+=a,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=h==200,mA(this.i,this.u,this.A,this.l,this.R,ht,h),this.o){if(this.T&&!this.K){t:{if(this.g){var be,it=this.g;if((be=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(be)){var ve=be;break t}}ve=null}if(h=ve)Li(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gh(this,h);else{this.o=!1,this.s=3,Et(12),Br(this),Ss(this);break e}}if(this.P){h=!0;let nn;for(;!this.J&&this.C<F.length;)if(nn=_A(this,F),nn==zh){ht==4&&(this.s=4,Et(14),h=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==O_){this.s=4,Et(15),Li(this.i,this.l,F,"[Invalid Chunk]"),h=!1;break}else Li(this.i,this.l,nn,null),Gh(this,nn);if(F_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||F.length!=0||this.h.h||(this.s=1,Et(16),h=!1),this.o=this.o&&h,!h)Li(this.i,this.l,F,"[Invalid Chunked Response]"),Br(this),Ss(this);else if(0<F.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Xh(dt),dt.M=!0,Et(11))}}else Li(this.i,this.l,F,null),Gh(this,F);ht==4&&Br(this),this.o&&!this.J&&(ht==4?uI(this.j,this):(this.o=!1,wc(this)))}else FA(this.g),h==400&&0<F.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Br(this),Ss(this)}}}catch{}finally{}};function F_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function _A(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?zh:(h=Number(d.substring(h,p)),isNaN(h)?O_:(p+=1,p+h>d.length?zh:(d=d.slice(p,p+h),a.C=p+h,d)))}dr.prototype.cancel=function(){this.J=!0,Br(this)};function wc(a){a.S=Date.now()+a.I,L_(a,a.I)}function L_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=bs(v(a.ba,a),d)}function Wh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}dr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(yA(this.i,this.A),this.L!=2&&(Ts(),Et(17)),Br(this),this.s=2,Ss(this)):L_(this,this.S-a)};function Ss(a){a.j.G==0||a.J||uI(a.j,a)}function Br(a){Wh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,b_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Gh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Kh(h.h,a))){if(!a.K&&Kh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var T=p;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Rc(h),Sc(h);else break e;Jh(h),Et(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=bs(v(h.Za,h),6e3));if(1>=U_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Hr(h,11)}else if((a.K||h.g==a)&&Rc(h),!ye(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let ve=T[d];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];let dt=ve[3];dt!=null&&(h.la=dt,h.j.info("VER="+h.la));let ht=ve[4];ht!=null&&(h.Aa=ht,h.j.info("SVER="+h.Aa));let Ui=ve[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(p=1.5*Ui,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let nn=a.g;if(nn){let Pc=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pc){var S=p.h;S.g||Pc.indexOf("spdy")==-1&&Pc.indexOf("quic")==-1&&Pc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Qh(S,S.h),S.h=null))}if(p.D){let ef=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ef&&(p.ya=ef,Ne(p.I,p.D,ef))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var F=a;if(p.qa=hI(p,p.J?p.ia:null,p.W),F.K){B_(p.h,F);var be=F,it=p.L;it&&(be.I=it),be.B&&(Wh(be),wc(be)),p.g=F}else aI(p);0<h.i.length&&Ac(h)}else ve[0]!="stop"&&ve[0]!="close"||Hr(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Hr(h,7):Zh(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}Ts(4)}catch{}}var IA=class{constructor(a,d){this.g=a,this.map=d}};function V_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function j_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function U_(a){return a.h?1:a.g?a.g.size:0}function Kh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Qh(a,d){a.g?a.g.add(d):a.h=d}function B_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}V_.prototype.cancel=function(){if(this.i=$_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function $_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function wA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function EA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function H_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=EA(a),p=wA(a),T=p.length,S=0;S<T;S++)d.call(void 0,p[S],h&&h[S],a)}var z_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CA(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),T=null;if(0<=p){var S=a[h].substring(0,p);T=a[h].substring(p+1)}else S=a[h];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function $r(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof $r){this.h=a.h,Ec(this,a.j),this.o=a.o,this.g=a.g,Cc(this,a.s),this.l=a.l;var d=a.i,h=new Ms;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),q_(this,h),this.m=a.m}else a&&(d=String(a).match(z_))?(this.h=!1,Ec(this,d[1]||"",!0),this.o=As(d[2]||""),this.g=As(d[3]||"",!0),Cc(this,d[4]),this.l=As(d[5]||"",!0),q_(this,d[6]||"",!0),this.m=As(d[7]||"")):(this.h=!1,this.i=new Ms(null,this.h))}$r.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Rs(d,W_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Rs(d,W_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Rs(h,h.charAt(0)=="/"?DA:bA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Rs(h,AA)),a.join("")};function jn(a){return new $r(a)}function Ec(a,d,h){a.j=h?As(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Cc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function q_(a,d,h){d instanceof Ms?(a.i=d,RA(a.i,a.h)):(h||(d=Rs(d,SA)),a.i=new Ms(d,a.h))}function Ne(a,d,h){a.i.set(d,h)}function Tc(a){return Ne(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function As(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Rs(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,TA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function TA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var W_=/[#\/\?@]/g,bA=/[#\?:]/g,DA=/[#\?]/g,SA=/[#\?@]/g,AA=/#/g;function Ms(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function hr(a){a.g||(a.g=new Map,a.h=0,a.i&&CA(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Ms.prototype,n.add=function(a,d){hr(this),this.i=null,a=Vi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function G_(a,d){hr(a),d=Vi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function K_(a,d){return hr(a),d=Vi(a,d),a.g.has(d)}n.forEach=function(a,d){hr(this),this.g.forEach(function(h,p){h.forEach(function(T){a.call(d,T,p,this)},this)},this)},n.na=function(){hr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let T=a[p];for(let S=0;S<T.length;S++)h.push(d[p])}return h},n.V=function(a){hr(this);let d=[];if(typeof a=="string")K_(this,a)&&(d=d.concat(this.g.get(Vi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return hr(this),this.i=null,a=Vi(this,a),K_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Q_(a,d,h){G_(a,d),0<h.length&&(a.i=null,a.g.set(Vi(a,d),N(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),F=this.V(p);for(p=0;p<F.length;p++){var T=S;F[p]!==""&&(T+="="+encodeURIComponent(String(F[p]))),a.push(T)}}return this.i=a.join("&")};function Vi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function RA(a,d){d&&!a.j&&(hr(a),a.i=null,a.g.forEach(function(h,p){var T=p.toLowerCase();p!=T&&(G_(this,p),Q_(this,T,h))},a)),a.j=d}function MA(a,d){let h=new Ds;if(c.Image){let p=new Image;p.onload=m(fr,h,"TestLoadImage: loaded",!0,d,p),p.onerror=m(fr,h,"TestLoadImage: error",!1,d,p),p.onabort=m(fr,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=m(fr,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function PA(a,d){let h=new Ds,p=new AbortController,T=setTimeout(()=>{p.abort(),fr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(T),S.ok?fr(h,"TestPingServer: ok",!0,d):fr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),fr(h,"TestPingServer: error",!1,d)})}function fr(a,d,h,p,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),p(h)}catch{}}function xA(){this.g=new pA}function NA(a,d,h){let p=h||"";try{H_(a,function(T,S){let F=T;l(T)&&(F=jh(T)),d.push(p+S+"="+encodeURIComponent(F))})}catch(T){throw d.push(p+"type="+encodeURIComponent("_badmap")),T}}function Ps(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ps,Uh),Ps.prototype.g=function(){return new bc(this.l,this.j)},Ps.prototype.i=function(a){return function(){return a}}({});function bc(a,d){lt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(bc,lt),n=bc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ns(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Y_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Y_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?xs(this):Ns(this),this.readyState==3&&Y_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,xs(this))},n.Qa=function(a){this.g&&(this.response=a,xs(this))},n.ga=function(){this.g&&xs(this)};function xs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ns(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Ns(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Z_(a){let d="";return we(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function Yh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=Z_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ne(a,d,h))}function Ve(a){lt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ve,lt);var OA=/^https?$/i,kA=["POST","PUT"];n=Ve.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hh.g(),this.v=this.o?D_(this.o):D_(Hh),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){J_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var T in p)h.set(T,p[T]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(kA,d,void 0))||p||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,F]of h)this.g.setRequestHeader(S,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tI(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){J_(this,S)}};function J_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,X_(a),Dc(a)}function X_(a){a.A||(a.A=!0,wt(a,"complete"),wt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,wt(this,"complete"),wt(this,"abort"),Dc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dc(this,!0)),Ve.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?eI(this):this.bb())},n.bb=function(){eI(this)};function eI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Un(a)!=4||a.Z()!=2)){if(a.u&&Un(a)==4)E_(a.Ea,0,a);else if(wt(a,"readystatechange"),Un(a)==4){a.h=!1;try{let F=a.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=F===0){var T=String(a.D).match(z_)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),p=!OA.test(T?T.toLowerCase():"")}h=p}if(h)wt(a,"complete"),wt(a,"success");else{a.m=6;try{var S=2<Un(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",X_(a)}}finally{Dc(a)}}}}function Dc(a,d){if(a.g){tI(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||wt(a,"ready");try{h.onreadystatechange=p}catch{}}}function tI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Un(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),fA(d)}};function nI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function FA(a){let d={};a=(a.g&&2<=Un(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(ye(a[p]))continue;var h=C(a[p]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[T]||[];d[T]=S,S.push(h)}E(d,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function rI(a){this.Aa=0,this.i=[],this.j=new Ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,a),this.cb=Os("retryDelaySeedMs",1e4,a),this.Wa=Os("forwardChannelMaxRetries",2,a),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new V_(a&&a.concurrentRequestLimit),this.Da=new xA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rI.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,p){Et(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=hI(this,null,this.W),Ac(this)};function Zh(a){if(iI(a),a.G==3){var d=a.U++,h=jn(a.I);if(Ne(h,"SID",a.K),Ne(h,"RID",d),Ne(h,"TYPE","terminate"),ks(a,h),d=new dr(a,a.j,d),d.L=2,d.v=Tc(jn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=fI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),wc(d)}dI(a)}function Sc(a){a.g&&(Xh(a),a.g.cancel(),a.g=null)}function iI(a){Sc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Rc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ac(a){if(!j_(a.h)&&!a.s){a.s=!0;var d=a.Ga;vs||m_(),_s||(vs(),_s=!0),Mh.add(d,a),a.B=0}}function LA(a,d){return U_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=bs(v(a.Ga,a,d),lI(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new dr(this,this.j,a),S=this.o;if(this.S&&(S?(S=y(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=sI(this,T,d),h=jn(this.I),Ne(h,"RID",a),Ne(h,"CVER",22),this.D&&Ne(h,"X-HTTP-Session-Id",this.D),ks(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(Z_(S)))+"&"+d:this.m&&Yh(h,this.m,S)),Qh(this.h,T),this.Ua&&Ne(h,"TYPE","init"),this.P?(Ne(h,"$req",d),Ne(h,"SID","null"),T.T=!0,qh(T,h,null)):qh(T,h,d),this.G=2}}else this.G==3&&(a?oI(this,a):this.i.length==0||j_(this.h)||oI(this))};function oI(a,d){var h;d?h=d.l:h=a.U++;let p=jn(a.I);Ne(p,"SID",a.K),Ne(p,"RID",h),Ne(p,"AID",a.T),ks(a,p),a.m&&a.o&&Yh(p,a.m,a.o),h=new dr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=sI(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Qh(a.h,h),qh(h,p,d)}function ks(a,d){a.H&&we(a.H,function(h,p){Ne(d,p,h)}),a.l&&H_({},function(h,p){Ne(d,p,h)})}function sI(a,d,h){h=Math.min(a.i.length,h);var p=a.l?v(a.l.Na,a.l,a):null;e:{var T=a.i;let S=-1;for(;;){let F=["count="+h];S==-1?0<h?(S=T[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let be=!0;for(let it=0;it<h;it++){let ve=T[it].g,dt=T[it].map;if(ve-=S,0>ve)S=Math.max(0,T[it].g-100),be=!1;else try{NA(dt,F,"req"+ve+"_")}catch{p&&p(dt)}}if(be){p=F.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function aI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;vs||m_(),_s||(vs(),_s=!0),Mh.add(d,a),a.v=0}}function Jh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=bs(v(a.Fa,a),lI(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,cI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=bs(v(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Sc(this),cI(this))};function Xh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function cI(a){a.g=new dr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=jn(a.qa);Ne(d,"RID","rpc"),Ne(d,"SID",a.K),Ne(d,"AID",a.T),Ne(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ne(d,"TO",a.ja),Ne(d,"TYPE","xmlhttp"),ks(a,d),a.m&&a.o&&Yh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Tc(jn(d)),h.m=null,h.P=!0,k_(h,a)}n.Za=function(){this.C!=null&&(this.C=null,Sc(this),Jh(this),Et(19))};function Rc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function uI(a,d){var h=null;if(a.g==d){Rc(a),Xh(a),a.g=null;var p=2}else if(Kh(a.h,d))h=d.D,B_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;p=vc(),wt(p,new P_(p,h)),Ac(a)}else aI(a);else if(T=d.s,T==3||T==0&&0<d.X||!(p==1&&LA(a,d)||p==2&&Jh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),T){case 1:Hr(a,5);break;case 4:Hr(a,10);break;case 3:Hr(a,6);break;default:Hr(a,2)}}}function lI(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Hr(a,d){if(a.j.info("Error code "+d),d==2){var h=v(a.fb,a),p=a.Xa;let T=!p;p=new $r(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ec(p,"https"),Tc(p),T?MA(p.toString(),h):PA(p.toString(),h)}else Et(2);a.G=0,a.l&&a.l.sa(d),dI(a),iI(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function dI(a){if(a.G=0,a.ka=[],a.l){let d=$_(a.h);(d.length!=0||a.i.length!=0)&&(O(a.ka,d),O(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function hI(a,d,h){var p=h instanceof $r?jn(h):new $r(h);if(p.g!="")d&&(p.g=d+"."+p.g),Cc(p,p.s);else{var T=c.location;p=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new $r(null);p&&Ec(S,p),d&&(S.g=d),T&&Cc(S,T),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&Ne(p,h,d),Ne(p,"VER",a.la),ks(a,p),p}function fI(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ve(new Ps({eb:h})):new Ve(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pI(){}n=pI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Mc(){}Mc.prototype.g=function(a,d){return new xt(a,d)};function xt(a,d){lt.call(this),this.g=new rI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!ye(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ye(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ji(this)}A(xt,lt),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){Zh(this.g)},xt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=jh(a),a=h);d.i.push(new IA(d.Ya++,a)),d.G==3&&Ac(d)},xt.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,xt.aa.N.call(this)};function gI(a){Bh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(gI,Bh);function mI(){$h.call(this),this.status=1}A(mI,$h);function ji(a){this.g=a}A(ji,pI),ji.prototype.ua=function(){wt(this.g,"a")},ji.prototype.ta=function(a){wt(this.g,new gI(a))},ji.prototype.sa=function(a){wt(this.g,new mI)},ji.prototype.ra=function(){wt(this.g,"b")},Mc.prototype.createWebChannel=Mc.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,sy=rr.createWebChannelTransport=function(){return new Mc},oy=rr.getStatEventTarget=function(){return vc()},iy=rr.Event=Ur,Td=rr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_c.NO_ERROR=0,_c.TIMEOUT=8,_c.HTTP_ERROR=6,za=rr.ErrorCode=_c,x_.COMPLETE="complete",ry=rr.EventType=x_,S_.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Bo=rr.WebChannel=S_,f2=rr.FetchXmlHttpFactory=Ps,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,ny=rr.XhrIo=Ve}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});var MD="@firebase/firestore",PD="4.7.10";var nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");var ds="11.5.0";var Ni=new Nn("@firebase/firestore");function $o(){return Ni.logLevel}function U(n,...e){if(Ni.logLevel<=ue.DEBUG){let t=e.map(Kv);Ni.debug(`Firestore (${ds}): ${n}`,...t)}}function sr(n,...e){if(Ni.logLevel<=ue.ERROR){let t=e.map(Kv);Ni.error(`Firestore (${ds}): ${n}`,...t)}}function Zo(n,...e){if(Ni.logLevel<=ue.WARN){let t=e.map(Kv);Ni.warn(`Firestore (${ds}): ${n}`,...t)}}function Kv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Z(n="Unexpected state"){let e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+n;throw sr(e),new Error(e)}function Le(n,e){n||Z()}function pe(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Kt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var or=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Md=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nt.UNAUTHENTICATED))}shutdown(){}},fy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},py=class{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new or;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new or,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new or)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new Md(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new nt(e)}},gy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},my=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new gy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Pd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yy=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,tr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Pd(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string"),this.R=t.token,new Pd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function p2(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function C0(){return new TextEncoder}var xd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=p2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function oe(n,e){return n<e?-1:n>e?1:0}function vy(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return oe(r,i);{let o=C0(),s=g2(o.encode(xD(n,t)),o.encode(xD(e,t)));return s!==0?s:oe(r,i)}}t+=r>65535?2:1}return oe(n.length,e.length)}function xD(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function g2(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return oe(n[t],e[t]);return oe(n.length,e.length)}function Jo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ND=-62135596800,OD=1e6,vt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*OD);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ND)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OD}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-ND;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new vt(0,0))}static max(){return new n(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var kD="__name__",Nd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Z(),r===void 0?r=e.length-t:r>e.length-t&&Z(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return oe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):vy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nr.fromString(e.substring(4,e.length-2))}},Fe=class n extends Nd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},m2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zt=class n extends Nd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return m2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kD}static keyField(){return new n([kD])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Fe.fromString(e))}static fromName(e){return new n(Fe.fromString(e).popFirst(5))}static empty(){return new n(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Fe(e.slice()))}};var Za=-1,_y=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};_y.UNKNOWN_ID=-1;function y2(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new vt(t+1,0):new vt(t,r));return new Oi(i,G.empty(),e)}function v2(n){return new Oi(n.readTime,n.key,Za)}var Oi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(te.min(),G.empty(),Za)}static max(){return new n(te.max(),G.empty(),Za)}};function _2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:oe(n.largestBatchId,e.largestBatchId))}var I2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Iy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function uh(n){return D(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==I2)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var M=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function w2(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hs(n){return n.name==="IndexedDbTransactionError"}var Qv=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),E2=-1;function lh(n){return n==null}function Ja(n){return n===0&&1/n==-1/0}function C2(n){return typeof n=="number"&&Number.isInteger(n)&&!Ja(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var T0="";function T2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=FD(e)),e=b2(n.get(t),e);return FD(e)}function b2(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case T0:t+="";break;default:t+=o}}return t}function FD(n){return n+T0+""}var D2="remoteDocuments",b0="owner";var D0="mutationQueues";var S0="mutations";var A0="documentMutations",S2="remoteDocumentsV14";var R0="remoteDocumentGlobal";var M0="targets";var P0="targetDocuments";var x0="targetGlobal",N0="collectionParents";var O0="clientMetadata";var k0="bundles";var F0="namedQueries";var A2="indexConfiguration";var R2="indexState";var M2="indexEntries";var L0="documentOverlays";var P2="globals";var x2=[D0,S0,A0,D2,M0,b0,x0,P0,O0,R0,N0,k0,F0],x8=[...x2,L0],N2=[D0,S0,A0,S2,M0,b0,x0,P0,O0,R0,N0,k0,F0,L0],O2=N2,k2=[...O2,A2,R2,M2];var N8=[...k2,P2];function LD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function V0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var He=class n{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wo(this.root,e,this.comparator,!0)}},Wo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,t,r,i,o){return this}insert(e,t,r){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rt=class n{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Od(this.data.getIterator())}getIteratorFrom(e){return new Od(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Od=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ri=class n{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new n([])}unionWith(e){let t=new rt(Zt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var kd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _t=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kd("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_t.EMPTY_BYTE_STRING=new _t("");var F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(n){if(Le(!!n),typeof n=="string"){let e=0,t=F2.exec(n);if(Le(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function cr(n){return typeof n=="string"?_t.fromBase64String(n):_t.fromUint8Array(n)}var j0="server_timestamp",U0="__type__",B0="__previous_value__",$0="__local_write_time__";function Yv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[U0])===null||t===void 0?void 0:t.stringValue)===j0}function dh(n){let e=n.mapValue.fields[B0];return Yv(e)?dh(e):e}function Xa(n){let e=ar(n.mapValue.fields[$0].timestampValue);return new vt(e.seconds,e.nanos)}var wy=class{constructor(e,t,r,i,o,s,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Fd="(default)",Ld=class n{constructor(e,t){this.projectId=e,this.database=t||Fd}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Fd}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Zv="__type__",H0="__max__",bd={mapValue:{fields:{__type__:{stringValue:H0}}}},Jv="__vector__",Xo="value";function Or(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yv(n)?4:q0(n)?9007199254740991:z0(n)?10:11:Z()}function Ln(n,e){if(n===e)return!0;let t=Or(n);if(t!==Or(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xa(n).isEqual(Xa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ar(i.timestampValue),c=ar(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return cr(i.bytesValue).isEqual(cr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),c=Oe(o.doubleValue);return s===c?Ja(s)===Ja(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Jo(n.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(LD(s)!==LD(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Ln(s[u],c[u])))return!1;return!0}(n,e);default:return Z()}}function ec(n,e){return(n.values||[]).find(t=>Ln(t,e))!==void 0}function es(n,e){if(n===e)return 0;let t=Or(n),r=Or(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return VD(n.timestampValue,e.timestampValue);case 4:return VD(Xa(n),Xa(e));case 5:return vy(n.stringValue,e.stringValue);case 6:return function(o,s){let c=cr(o),u=cr(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=oe(c[l],u[l]);if(f!==0)return f}return oe(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=oe(Oe(o.latitude),Oe(s.latitude));return c!==0?c:oe(Oe(o.longitude),Oe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jD(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let g=o.fields||{},v=s.fields||{},m=(c=g[Xo])===null||c===void 0?void 0:c.arrayValue,A=(u=v[Xo])===null||u===void 0?void 0:u.arrayValue,N=oe(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:jD(m,A)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===bd.mapValue&&s===bd.mapValue)return 0;if(o===bd.mapValue)return 1;if(s===bd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let v=vy(u[g],f[g]);if(v!==0)return v;let m=es(c[u[g]],l[f[g]]);if(m!==0)return m}return oe(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Z()}}function VD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return oe(n,e);let t=ar(n),r=ar(e),i=oe(t.seconds,r.seconds);return i!==0?i:oe(t.nanos,r.nanos)}function jD(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=es(t[i],r[i]);if(o)return o}return oe(t.length,r.length)}function ts(n){return Ey(n)}function Ey(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ar(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return cr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Ey(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ey(t.fields[s])}`;return i+"}"}(n.mapValue):Z()}function Ad(n){switch(Or(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=dh(n);return e?16+Ad(e):16;case 5:return 2*n.stringValue.length;case 6:return cr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ad(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return fs(r.fields,(o,s)=>{i+=o.length+Ad(s)}),i}(n.mapValue);default:throw Z()}}function UD(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Cy(n){return!!n&&"integerValue"in n}function Xv(n){return!!n&&"arrayValue"in n}function BD(n){return!!n&&"nullValue"in n}function $D(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ay(n){return!!n&&"mapValue"in n}function z0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zv])===null||t===void 0?void 0:t.stringValue)===Jv}function Wa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return fs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wa(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function q0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===H0}var k8={mapValue:{fields:{[Zv]:{stringValue:Jv},[Xo]:{arrayValue:{}}}}};var ir=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ay(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(t)}setAll(e){let t=Zt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=Wa(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());ay(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ay(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Wa(this.value))}};var vn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),ir.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),ir.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ns=class{constructor(e,t){this.position=e,this.inclusive=t}};function HD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),t.key):r=es(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ln(n.position[t],e.position[t]))return!1;return!0}var ki=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function L2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Vd=class{},Ye=class n extends Vd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new by(e,t,r):t==="array-contains"?new Ay(e,r):t==="in"?new Ry(e,r):t==="not-in"?new My(e,r):t==="array-contains-any"?new Py(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Dy(e,r):new Sy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(es(t,this.value)):t!==null&&Or(this.value)===Or(t)&&this.matchesComparison(es(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_n=class n extends Vd{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return W0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function W0(n){return n.op==="and"}function G0(n){return V2(n)&&W0(n)}function V2(n){for(let e of n.filters)if(e instanceof _n)return!1;return!0}function Ty(n){if(n instanceof Ye)return n.field.canonicalString()+n.op.toString()+ts(n.value);if(G0(n))return n.filters.map(e=>Ty(e)).join(",");{let e=n.filters.map(t=>Ty(t)).join(",");return`${n.op}(${e})`}}function K0(n,e){return n instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(n,e):n instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&K0(s,i.filters[c]),!0):!1}(n,e):void Z()}function Q0(n){return n instanceof Ye?function(t){return`${t.field.canonicalString()} ${t.op} ${ts(t.value)}`}(n):n instanceof _n?function(t){return t.op.toString()+" {"+t.getFilters().map(Q0).join(" ,")+"}"}(n):"Filter"}var by=class extends Ye{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},Dy=class extends Ye{constructor(e,t){super(e,"in",t),this.keys=Y0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Sy=class extends Ye{constructor(e,t){super(e,"not-in",t),this.keys=Y0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Y0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>G.fromName(r.referenceValue))}var Ay=class extends Ye{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Xv(t)&&ec(t.arrayValue,this.value)}},Ry=class extends Ye{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ec(this.value.arrayValue,t)}},My=class extends Ye{constructor(e,t){super(e,"not-in",t)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ec(this.value.arrayValue,t)}},Py=class extends Ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Xv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}};var xy=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.le=null}};function qD(n,e=null,t=[],r=[],i=null,o=null,s=null){return new xy(n,e,t,r,i,o,s)}function e_(n){let e=pe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ty(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ts(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ts(r)).join(",")),e.le=t}return e.le}function t_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!L2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!K0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zD(n.startAt,e.startAt)&&zD(n.endAt,e.endAt)}function Ny(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var kr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function j2(n,e,t,r,i,o,s,c){return new kr(n,e,t,r,i,o,s,c)}function hh(n){return new kr(n)}function WD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Z0(n){return n.collectionGroup!==null}function Ga(n){let e=pe(n);if(e.he===null){e.he=[];let t=new Set;for(let o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new rt(Zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new ki(o,r))}),t.has(Zt.keyField().canonicalString())||e.he.push(new ki(Zt.keyField(),r))}return e.he}function Fn(n){let e=pe(n);return e.Pe||(e.Pe=U2(e,Ga(n))),e.Pe}function U2(n,e){if(n.limitType==="F")return qD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ki(i.field,o)});let t=n.endAt?new ns(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ns(n.startAt.position,n.startAt.inclusive):null;return qD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Oy(n,e){let t=n.filters.concat([e]);return new kr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ky(n,e,t){return new kr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fh(n,e){return t_(Fn(n),Fn(e))&&n.limitType===e.limitType}function J0(n){return`${e_(Fn(n))}|lt:${n.limitType}`}function Ho(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Q0(i)).join(", ")}]`),lh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ts(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ts(i)).join(",")),`Target(${r})`}(Fn(n))}; limitType=${n.limitType})`}function ph(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Ga(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=HD(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Ga(r),i)||r.endAt&&!function(s,c,u){let l=HD(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Ga(r),i))}(n,e)}function B2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X0(n){return(e,t)=>{let r=!1;for(let i of Ga(n)){let o=$2(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $2(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?es(u,l):Z()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var ur=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return V0(this.inner)}size(){return this.innerSize}};var H2=new He(G.comparator);function Fr(){return H2}var eS=new He(G.comparator);function qa(...n){let e=eS;for(let t of n)e=e.insert(t.key,t);return e}function z2(n){let e=eS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mi(){return Ka()}function tS(){return Ka()}function Ka(){return new ur(n=>n.toString(),(n,e)=>n.isEqual(e))}var F8=new He(G.comparator),q2=new rt(G.comparator);function me(...n){let e=q2;for(let t of n)e=e.add(t);return e}var W2=new rt(oe);function G2(){return W2}function n_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ja(e)?"-0":e}}function nS(n){return{integerValue:""+n}}function K2(n,e){return C2(e)?nS(e):n_(n,e)}var rs=class{constructor(){this._=void 0}};function Q2(n,e,t){return n instanceof tc?function(i,o){let s={fields:{[U0]:{stringValue:j0},[$0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Yv(o)&&(o=dh(o)),o&&(s.fields[B0]=o),{mapValue:s}}(t,e):n instanceof is?rS(n,e):n instanceof os?iS(n,e):function(i,o){let s=Z2(i,o),c=GD(s)+GD(i.Ie);return Cy(s)&&Cy(i.Ie)?nS(c):n_(i.serializer,c)}(n,e)}function Y2(n,e,t){return n instanceof is?rS(n,e):n instanceof os?iS(n,e):t}function Z2(n,e){return n instanceof nc?function(r){return Cy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var tc=class extends rs{},is=class extends rs{constructor(e){super(),this.elements=e}};function rS(n,e){let t=oS(e);for(let r of n.elements)t.some(i=>Ln(i,r))||t.push(r);return{arrayValue:{values:t}}}var os=class extends rs{constructor(e){super(),this.elements=e}};function iS(n,e){let t=oS(e);for(let r of n.elements)t=t.filter(i=>!Ln(i,r));return{arrayValue:{values:t}}}var nc=class extends rs{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function GD(n){return Oe(n.integerValue||n.doubleValue)}function oS(n){return Xv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function J2(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof is&&i instanceof is||r instanceof os&&i instanceof os?Jo(r.elements,i.elements,Ln):r instanceof nc&&i instanceof nc?Ln(r.Ie,i.Ie):r instanceof tc&&i instanceof tc}(n.transform,e.transform)}var Qa=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Rd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var rc=class{};function sS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Fy(n.key,Qa.none()):new ic(n.key,n.data,Qa.none());{let t=n.data,r=ir.empty(),i=new rt(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ss(n.key,r,new Ri(i.toArray()),Qa.none())}}function X2(n,e,t){n instanceof ic?function(i,o,s){let c=i.value.clone(),u=QD(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ss?function(i,o,s){if(!Rd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=QD(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(aS(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ya(n,e,t,r){return n instanceof ic?function(o,s,c,u){if(!Rd(o.precondition,s))return c;let l=o.value.clone(),f=YD(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ss?function(o,s,c,u){if(!Rd(o.precondition,s))return c;let l=YD(o.fieldTransforms,u,s),f=s.data;return f.setAll(aS(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,c){return Rd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function KD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jo(r,i,(o,s)=>J2(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ic=class extends rc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ss=class extends rc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function aS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function QD(n,e,t){let r=new Map;Le(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,Y2(s,c,t[i]))}return r}function YD(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Q2(o,s,e))}return r}var Fy=class extends rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Ly=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&X2(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ya(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ya(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=tS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=sS(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(t,r)=>KD(t,r))&&Jo(this.baseMutations,e.baseMutations,(t,r)=>KD(t,r))}};var Vy=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ke,fe;function cS(n){if(n===void 0)return sr("GRPC error has no .code"),k.UNKNOWN;switch(n){case Ke.OK:return k.OK;case Ke.CANCELLED:return k.CANCELLED;case Ke.UNKNOWN:return k.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return k.INTERNAL;case Ke.UNAVAILABLE:return k.UNAVAILABLE;case Ke.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ke.NOT_FOUND:return k.NOT_FOUND;case Ke.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ke.ABORTED:return k.ABORTED;case Ke.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ke.DATA_LOSS:return k.DATA_LOSS;default:return Z()}}(fe=Ke||(Ke={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var ZD=null;var ej=new nr([4294967295,4294967295],0);function JD(n){let e=C0().encode(n),t=new ty;return t.update(e),new Uint8Array(t.digest())}function XD(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new nr([t,r],0),new nr([i,o],0)]}var Uy=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pi(`Invalid padding: ${t}`);if(r<0)throw new Pi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pi(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=nr.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(nr.fromNumber(r)));return i.compare(ej)===1&&(i=new nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=JD(e),[r,i]=XD(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ee===0)return;let t=JD(e),[r,i]=XD(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Pi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var jd=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(te.min(),i,new He(oe),Fr(),me())}},oc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,me(),me(),me())}};var Go=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},Ud=class{constructor(e,t){this.targetId=e,this.ge=t}},Bd=class{constructor(e,t,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},$d=class{constructor(){this.pe=0,this.ye=e0(),this.we=_t.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=me(),t=me(),r=me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new oc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=e0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Le(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},By=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Fr(),this.$e=Dd(),this.Ue=Dd(),this.Ke=new He(oe)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let o=i.target;if(Ny(o))if(r===0){let s=new G(o.path);this.ze(t,s,vn.newNoDocument(s,te.min()))}else Le(r===1);else{let s=this.et(t);if(s!==r){let c=this.tt(e),u=c?this.nt(c,e,s):1;if(u!==0){this.Ye(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}ZD?.rt(function(f,g,v,m,A){var N,O,W,ye,se,xe;let It={localCacheCount:f,existenceFilterCount:g.count,databaseId:v.database,projectId:v.projectId},we=g.unchangedNames;return we&&(It.bloomFilter={applied:A===0,hashCount:(N=we?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(ye=(W=(O=we?.bits)===null||O===void 0?void 0:O.bitmap)===null||W===void 0?void 0:W.length)!==null&&ye!==void 0?ye:0,padding:(xe=(se=we?.bits)===null||se===void 0?void 0:se.padding)!==null&&xe!==void 0?xe:0,mightContain:E=>{var y;return(y=m?.mightContain(E))!==null&&y!==void 0&&y}}),It}(s,e.ge,this.ke.it(),c,u))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=cr(r).toUint8Array()}catch(u){if(u instanceof kd)return Zo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Uy(s,i,o)}catch(u){return Zo(u instanceof Pi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ke.it(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((o,s)=>{let c=this.Xe(s);if(c){if(o.current&&Ny(c.target)){let u=new G(c.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,vn.newNoDocument(u,e))}o.ve&&(t.set(s,o.Fe()),o.Me())}});let r=me();this.Ue.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));let i=new jd(e,t,this.Ke,this.Qe,r);return this.Qe=Fr(),this.$e=Dd(),this.Ue=Dd(),this.Ke=new He(oe),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new $d,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new rt(oe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new rt(oe),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $d),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function Dd(){return new He(G.comparator)}function e0(){return new He(G.comparator)}var tj={asc:"ASCENDING",desc:"DESCENDING"},nj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rj={and:"AND",or:"OR"},$y=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Hy(n,e){return n.useProto3Json||lh(e)?e:{value:e}}function zy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ko(n){return Le(!!n),te.fromTimestamp(function(t){let r=ar(t);return new vt(r.seconds,r.nanos)}(n))}function lS(n,e){return qy(n,e).canonicalString()}function qy(n,e){let t=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dS(n){let e=Fe.fromString(n);return Le(mS(e)),e}function cy(n,e){let t=dS(e);if(t.get(1)!==n.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(fS(t))}function hS(n,e){return lS(n.databaseId,e)}function ij(n){let e=dS(n);return e.length===4?Fe.emptyPath():fS(e)}function t0(n){return new Fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fS(n){return Le(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function oj(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Le(f===void 0||typeof f=="string"),_t.fromBase64String(f||"")):(Le(f===void 0||f instanceof Buffer||f instanceof Uint8Array),_t.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?k.UNKNOWN:cS(l.code);return new B(f,l.message||"")}(s);t=new Bd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=cy(n,r.document.name),o=Ko(r.document.updateTime),s=r.document.createTime?Ko(r.document.createTime):te.min(),c=new ir({mapValue:{fields:r.document.fields}}),u=vn.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new Go(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=cy(n,r.document),o=r.readTime?Ko(r.readTime):te.min(),s=vn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Go([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=cy(n,r.document),o=r.removedTargetIds||[];t=new Go([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new jy(i,o),c=r.targetId;t=new Ud(c,s)}}return t}function sj(n,e){return{documents:[hS(n,e.path)]}}function aj(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hS(n,i);let o=function(l){if(l.length!==0)return gS(_n.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(v){return{field:zo(v.field),direction:lj(v.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=Hy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:t,parent:i}}function cj(n){let e=ij(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(g){let v=pS(g);return v instanceof _n&&G0(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(v=>function(A){return new ki(qo(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,lh(v)?null:v}(t.limit));let u=null;t.startAt&&(u=function(g){let v=!!g.before,m=g.values||[];return new ns(m,v)}(t.startAt));let l=null;return t.endAt&&(l=function(g){let v=!g.before,m=g.values||[];return new ns(m,v)}(t.endAt)),j2(e,i,s,o,c,"F",u,l)}function uj(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=qo(t.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qo(t.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qo(t.unaryFilter.field);return Ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qo(t.unaryFilter.field);return Ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(n):n.fieldFilter!==void 0?function(t){return Ye.create(qo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _n.create(t.compositeFilter.filters.map(r=>pS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(t.compositeFilter.op))}(n):Z()}function lj(n){return tj[n]}function dj(n){return nj[n]}function hj(n){return rj[n]}function zo(n){return{fieldPath:n.canonicalString()}}function qo(n){return Zt.fromServerFormat(n.fieldPath)}function gS(n){return n instanceof Ye?function(t){if(t.op==="=="){if($D(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NAN"}};if(BD(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($D(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NAN"}};if(BD(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(t.field),op:dj(t.op),value:t.value}}}(n):n instanceof _n?function(t){let r=t.getFilters().map(i=>gS(i));return r.length===1?r[0]:{compositeFilter:{op:hj(t.op),filters:r}}}(n):Z()}function mS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var sc=class n{constructor(e,t,r,i,o=te.min(),s=te.min(),c=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Wy=class{constructor(e){this.Tt=e}};function fj(n){let e=cj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ky(e,e.limit,"L"):e}var Hd=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Ja(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=ar(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(cr(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?q0(e)?this.ft(t,Number.MAX_SAFE_INTEGER):z0(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Z()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=Xo,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Oe(c)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),G.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};Hd.xt=new Hd;var Gy=class{constructor(){this.Tn=new Ky}addToCollectionParentIndex(e,t){return this.Tn.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(Oi.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}},Ky=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rt(Fe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Fe.comparator)).toArray()}};var L8=new Uint8Array(0);var n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yS=41943040,Yt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(yS,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var ac=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new n(0)}static Kn(){return new n(-1)}};var r0="LruGarbageCollector",pj=1048576;function i0([n,e],[t,r]){let i=oe(n,t);return i===0?oe(e,r):i}var Qy=class{constructor(e){this.Hn=e,this.buffer=new rt(i0),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();i0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Yy=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){U(r0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>D(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){hs(t)?U(r0,"Ignoring IndexedDB error during garbage collection: ",t):yield uh(t)}yield this.er(3e5)}))}},Zy=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return M.resolve(Qv.ae);let r=new Qy(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(n0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),$o()<=ue.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function gj(n,e){return new Zy(n,e)}var Jy=class{constructor(){this.changes=new ur(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Xy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ev=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ya(r.mutation,i,Ri.empty(),vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){let i=Mi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=qa();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Mi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=Fr(),s=Ka(),c=function(){return Ka()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ss)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Ya(f.mutation,l,f.mutation.getFieldMask(),vt.now())):s.set(l.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var g;return c.set(l,new Xy(f,(g=s.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Ka(),i=new He((s,c)=>s-c),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||Ri.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||me()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=tS();f.forEach(v=>{if(!o.has(v)){let m=sS(t.get(v),r.get(v));m!==null&&g.set(v,m),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Z0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):M.resolve(Mi()),c=Za,u=o;return s.next(l=>M.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(f=>({batchId:c,changes:z2(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=qa();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let l=function(g,v){return new kr(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,vn.newInvalidDocument(f)))});let c=qa();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Ya(f.mutation,l,Ri.empty(),vt.now()),ph(t,l)&&(c=c.insert(u,l))}),c})}};var tv=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return M.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ko(i.createTime)}}(t)),M.resolve()}getNamedQuery(e,t){return M.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:fj(i.bundledQuery),readTime:Ko(i.readTime)}}(t)),M.resolve()}};var nv=class{constructor(){this.overlays=new He(G.comparator),this.Rr=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Mi();return M.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),M.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){let i=Mi(),o=t.length+1,s=new G(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Mi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Mi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Vy(t,r));let o=this.Rr.get(t);o===void 0&&(o=me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}};var rv=class{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,M.resolve()}};var cc=class{constructor(){this.Vr=new rt(Qe.mr),this.gr=new rt(Qe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new Qe(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Qe(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new G(new Fe([])),r=new Qe(t,e),i=new Qe(t,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new G(new Fe([])),r=new Qe(t,e),i=new Qe(t,e+1),o=me();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Qe(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Qe=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return G.comparator(e.key,t.key)||oe(e.Cr,t.Cr)}static pr(e,t){return oe(e.Cr,t.Cr)||G.comparator(e.key,t.key)}};var iv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new rt(Qe.mr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ly(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Mr=this.Mr.add(new Qe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,t){return M.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?E2:this.Fr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Qe(t,0),i=new Qe(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let c=this.Or(s.Cr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(oe);return t.forEach(i=>{let o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],c=>{r=r.add(c.Cr)})}),M.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new G(o),0),c=new rt(oe);return this.Mr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Cr)),!0)},s),M.resolve(this.Br(c))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return M.forEach(t.mutations,i=>{let o=new Qe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new Qe(t,0),i=this.Mr.firstAfterOrEqual(r);return M.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var ov=class{constructor(e){this.kr=e,this.docs=function(){return new He(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=Fr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Fr(),s=t.path,c=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||_2(v2(f),r)<=0||(i.has(f.key)||ph(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Z()}qr(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sv(this)}getSize(e){return M.resolve(this.size)}},sv=class extends Jy{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var av=class{constructor(e){this.persistence=e,this.Qr=new ur(t=>e_(t),t_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.$r=0,this.Ur=new cc,this.targetCount=0,this.Kr=ac.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),M.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Kr=new ac(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.zn(t),M.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Qr.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),M.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ur.vr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.Ur.containsKey(t))}};var zd=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Qv(0),this.zr=!1,this.zr=!0,this.jr=new rv,this.referenceDelegate=e(this),this.Hr=new av(this),this.indexManager=new Gy,this.remoteDocumentCache=function(i){return new ov(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Wy(t),this.Yr=new tv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new iv(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new cv(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return M.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},cv=class extends Iy{constructor(e){super(),this.currentSequenceNumber=e}},uv=class n{constructor(e){this.persistence=e,this.ti=new cc,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw Z()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),M.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.ii,r=>{let i=G.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,te.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return M.or([()=>M.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},qd=class n{constructor(e,t){this.persistence=e,this.oi=new ur(r=>T2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=gj(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return M.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return M.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?M.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,t).next(c=>{c||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),M.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),M.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ad(e.data.value)),t}ar(e,t,r){return M.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var lv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=me(),i=me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var dv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var hv=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ob()?8:w2(Vt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new dv;return this._s(e,t,s).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,s,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?($o()<=ue.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),M.resolve()):($o()<=ue.DEBUG&&U("QueryEngine","Query:",Ho(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?($o()<=ue.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(t))):M.resolve())}rs(e,t){if(WD(t))return M.resolve(null);let r=Fn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ky(t,null,"F"),r=Fn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.ns.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.cs(t,c);return this.ls(t,l,s,u.readTime)?this.rs(e,ky(t,null,"F")):this.hs(e,l,t,u)}))})))}ss(e,t,r,i){return WD(t)||i.isEqual(te.min())?M.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(t,o);return this.ls(t,s,r,i)?M.resolve(null):($o()<=ue.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(t)),this.hs(e,s,t,y2(i,Za)).next(c=>c))})}cs(e,t){let r=new rt(X0(e));return t.forEach((i,o)=>{ph(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return $o()<=ue.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Ho(t)),this.ns.getDocumentsMatchingQuery(e,t,Oi.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var r_="LocalStore",mj=3e8,fv=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new He(oe),this.Is=new ur(o=>e_(o),t_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ev(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function yj(n,e,t,r){return new fv(n,e,t,r)}function vS(n,e){return D(this,null,function*(){let t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=me();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Rs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function _S(n){let e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function vj(n,e){let t=pe(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let c=[];e.targetChanges.forEach((f,g)=>{let v=i.get(g);if(!v)return;c.push(t.Hr.removeMatchingKeys(o,f.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(o,f.addedDocuments,g)));let m=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?m=m.withResumeToken(_t.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(g,m),function(N,O,W){return N.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=mj?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(v,m,f)&&c.push(t.Hr.updateTargetData(o,m))});let u=Fr(),l=me();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(_j(o,s,e.documentUpdates).next(f=>{u=f.Vs,l=f.fs})),!r.isEqual(te.min())){let f=t.Hr.getLastRemoteSnapshotVersion(o).next(g=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ts=i,o))}function _j(n,e,t){let r=me(),i=me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Fr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):U(r_,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function Ij(n,e){let t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):t.Hr.allocateTargetId(r).next(s=>(i=new sc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function pv(n,e,t){return D(this,null,function*(){let r=pe(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!hs(s))throw s;U(r_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function o0(n,e,t){let r=pe(n),i=te.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let g=pe(u),v=g.Is.get(f);return v!==void 0?M.resolve(g.Ts.get(v)):g.Hr.getTargetData(l,f)}(r,s,Fn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,t?i:te.min(),t?o:me())).next(c=>(wj(r,B2(e),c),{documents:c,gs:o})))}function wj(n,e,t){let r=n.Es.get(e)||te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}var Wd=class{constructor(){this.activeTargetIds=G2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gv=class{constructor(){this.ho=new Wd,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Wd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var mv=class{To(e){}shutdown(){}};var s0="ConnectivityMonitor",Gd=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){U(s0,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){U(s0,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sd=null;function yv(){return Sd===null?Sd=function(){return 268435456+Math.round(2147483648*Math.random())}():Sd++,"0x"+Sd.toString(16)}var uy="RestConnection",Ej={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},vv=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Fd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){let s=yv(),c=this.bo(e,t.toUriEncodedString());U(uy,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,c,u,r).then(l=>(U(uy,`Received RPC '${e}' ${s}: `,l),l),l=>{throw Zo(uy,`RPC '${e}' ${s} failed with error: `,l,"url: ",c,"request:",r),l})}Co(e,t,r,i,o,s){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ds}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){let r=Ej[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var _v=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var yt="WebChannelConnection",Iv=class extends vv{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let o=yv();return new Promise((s,c)=>{let u=new ny;u.setWithCredentials(!0),u.listenOnce(ry.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case za.NO_ERROR:let f=u.getResponseJson();U(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case za.TIMEOUT:U(yt,`RPC '${e}' ${o} timed out`),c(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case za.HTTP_ERROR:let g=u.getStatus();if(U(yt,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let m=v?.error;if(m&&m.status&&m.message){let A=function(O){let W=O.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(W)>=0?W:k.UNKNOWN}(m.status);c(new B(A,m.message))}else c(new B(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new B(k.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{U(yt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(yt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Wo(e,t,r){let i=yv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sy(),c=oy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");U(yt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=s.createWebChannel(f,u),v=!1,m=!1,A=new _v({Fo:O=>{m?U(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(v||(U(yt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),U(yt,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Mo:()=>g.close()}),N=(O,W,ye)=>{O.listen(W,se=>{try{ye(se)}catch(xe){setTimeout(()=>{throw xe},0)}})};return N(g,Bo.EventType.OPEN,()=>{m||(U(yt,`RPC '${e}' stream ${i} transport opened.`),A.Qo())}),N(g,Bo.EventType.CLOSE,()=>{m||(m=!0,U(yt,`RPC '${e}' stream ${i} transport closed`),A.Uo())}),N(g,Bo.EventType.ERROR,O=>{m||(m=!0,Zo(yt,`RPC '${e}' stream ${i} transport errored:`,O),A.Uo(new B(k.UNAVAILABLE,"The operation could not be completed")))}),N(g,Bo.EventType.MESSAGE,O=>{var W;if(!m){let ye=O.data[0];Le(!!ye);let se=ye,xe=se?.error||((W=se[0])===null||W===void 0?void 0:W.error);if(xe){U(yt,`RPC '${e}' stream ${i} received error:`,xe);let It=xe.status,we=function(I){let w=Ke[I];if(w!==void 0)return cS(w)}(It),E=xe.message;we===void 0&&(we=k.INTERNAL,E="Unknown error status: "+It+" with message "+xe.message),m=!0,A.Uo(new B(we,E)),g.close()}else U(yt,`RPC '${e}' stream ${i} received:`,ye),A.Ko(ye)}}),N(c,iy.STAT_EVENT,O=>{O.stat===Td.PROXY?U(yt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Td.NOPROXY&&U(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}};function ly(){return typeof document<"u"?document:null}function gh(n){return new $y(n,!0)}var Kd=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var a0="PersistentStream",wv=class{constructor(e,t,r,i,o,s,c,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Kd(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return D(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return D(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return D(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>D(this,null,function*(){this.state=0,this.start()}))}m_(e){return U(a0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(U(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ev=class extends wv{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=oj(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Ko(s.readTime):te.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=t0(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=Ny(u)?{documents:sj(o,u)}:{query:aj(o,u).ht},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=uS(o,s.resumeToken);let l=Hy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){c.readTime=zy(o,s.snapshotVersion.toTimestamp());let l=Hy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=uj(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=t0(this.serializer),t.removeTarget=e,this.I_(t)}};var Cv=class{},Tv=class extends Cv{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,qy(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Co(e,qy(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},bv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sr(t),this.N_=!1):U("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var as="RemoteStore",Dv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>D(this,null,function*(){pc(this)&&(U(as,"Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let l=pe(u);l.W_.add(4),yield fc(l),l.j_.set("Unknown"),l.W_.delete(4),yield mh(l)})}(this))}))}),this.j_=new bv(r,i)}};function mh(n){return D(this,null,function*(){if(pc(n))for(let e of n.G_)yield e(!0)})}function fc(n){return D(this,null,function*(){for(let e of n.G_)yield e(!1)})}function IS(n,e){let t=pe(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),a_(t)?s_(t):ps(t).c_()&&o_(t,e))}function i_(n,e){let t=pe(n),r=ps(t);t.K_.delete(e),r.c_()&&wS(t,e),t.K_.size===0&&(r.c_()?r.P_():pc(t)&&t.j_.set("Unknown"))}function o_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ps(n).y_(e)}function wS(n,e){n.H_.Ne(e),ps(n).w_(e)}function s_(n){n.H_=new By({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ps(n).start(),n.j_.B_()}function a_(n){return pc(n)&&!ps(n).u_()&&n.K_.size>0}function pc(n){return pe(n).W_.size===0}function ES(n){n.H_=void 0}function Cj(n){return D(this,null,function*(){n.j_.set("Online")})}function Tj(n){return D(this,null,function*(){n.K_.forEach((e,t)=>{o_(n,e)})})}function bj(n,e){return D(this,null,function*(){ES(n),a_(n)?(n.j_.q_(e),s_(n)):n.j_.set("Unknown")})}function Dj(n,e,t){return D(this,null,function*(){if(n.j_.set("Online"),e instanceof Bd&&e.state===2&&e.cause)try{yield function(i,o){return D(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.K_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.K_.delete(c),i.H_.removeTarget(c))})}(n,e)}catch(r){U(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield c0(n,r)}else if(e instanceof Go?n.H_.We(e):e instanceof Ud?n.H_.Ze(e):n.H_.je(e),!t.isEqual(te.min()))try{let r=yield _S(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.H_.ot(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.K_.get(l);f&&o.K_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.K_.get(u);if(!f)return;o.K_.set(u,f.withResumeToken(_t.EMPTY_BYTE_STRING,f.snapshotVersion)),wS(o,u);let g=new sc(f.target,u,l,f.sequenceNumber);o_(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){U(as,"Failed to raise snapshot:",r),yield c0(n,r)}})}function c0(n,e,t){return D(this,null,function*(){if(!hs(e))throw e;n.W_.add(1),yield fc(n),n.j_.set("Offline"),t||(t=()=>_S(n.localStore)),n.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){U(as,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield mh(n)}))})}function u0(n,e){return D(this,null,function*(){let t=pe(n);t.asyncQueue.verifyOperationInProgress(),U(as,"RemoteStore received new credentials");let r=pc(t);t.W_.add(3),yield fc(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield mh(t)})}function Sj(n,e){return D(this,null,function*(){let t=pe(n);e?(t.W_.delete(2),yield mh(t)):e||(t.W_.add(2),yield fc(t),t.j_.set("Unknown"))})}function ps(n){return n.J_||(n.J_=function(t,r,i){let o=pe(t);return o.M_(),new Ev(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:Cj.bind(null,n),No:Tj.bind(null,n),Lo:bj.bind(null,n),p_:Dj.bind(null,n)}),n.G_.push(e=>D(this,null,function*(){e?(n.J_.h_(),a_(n)?s_(n):n.j_.set("Unknown")):(yield n.J_.stop(),ES(n))}))),n.J_}var Sv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function CS(n,e){if(sr("AsyncQueue",`${e}: ${n}`),hs(n))return new B(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Qd=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=qa(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Yd=class{constructor(){this.Z_=new He(G.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Z():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},cs=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Qd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Av=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},Rv=class{constructor(){this.queries=l0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=pe(t),o=i.queries;i.queries=l0(),o.forEach((s,c)=>{for(let u of c.ta)u.onError(r)})})(this,new B(k.ABORTED,"Firestore shutting down"))}};function l0(){return new ur(n=>J0(n),fh)}function TS(n,e){return D(this,null,function*(){let t=pe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new Av,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield t.onListen(i,!0);break;case 1:o.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=CS(s,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&c_(t)})}function bS(n,e){return D(this,null,function*(){let t=pe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Aj(n,e){let t=pe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.ta)c.oa(i)&&(r=!0);s.ea=i}}r&&c_(t)}function Rj(n,e,t){let r=pe(n),i=r.queries.get(e);if(i)for(let o of i.ta)o.onError(t);r.queries.delete(e)}function c_(n){n.ia.forEach(e=>{e.next()})}var Mv,d0;(d0=Mv||(Mv={}))._a="default",d0.Cache="cache";var Zd=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new cs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Mv.Cache}};var Jd=class{constructor(e){this.key=e}},Xd=class{constructor(e){this.key=e}},Pv=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=me(),this.mutatedKeys=me(),this.ya=X0(e),this.wa=new Qd(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new Yd,i=t?t.wa:this.wa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let v=i.get(f),m=ph(this.query,g)?g:null,A=!!v&&this.mutatedKeys.has(v.key),N=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),O=!1;v&&m?v.data.isEqual(m.data)?A!==N&&(r.track({type:3,doc:m}),O=!0):this.va(v,m)||(r.track({type:2,doc:m}),O=!0,(u&&this.ya(m,u)>0||l&&this.ya(m,l)<0)&&(c=!0)):!v&&m?(r.track({type:0,doc:m}),O=!0):v&&!m&&(r.track({type:1,doc:v}),O=!0,(u||l)&&(c=!0)),O&&(m?(s=s.add(m),o=N?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{wa:s,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((f,g)=>function(m,A){let N=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return N(m)-N(A)}(f.type,g.type)||this.ya(f.doc,g.doc)),this.Ca(r),i=i!=null&&i;let c=t&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,l=u!==this.ga;return this.ga=u,s.length!==0||l?{snapshot:new cs(this.query,e.wa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Yd,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Xd(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Jd(r))}),t}Oa(e){this.fa=e.gs,this.pa=me();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return cs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},u_="SyncEngine",xv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Nv=class{constructor(e){this.key=e,this.Ba=!1}},Ov=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new ur(c=>J0(c),fh),this.qa=new Map,this.Qa=new Set,this.$a=new He(G.comparator),this.Ua=new Map,this.Ka=new cc,this.Wa={},this.Ga=new Map,this.za=ac.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function Mj(n,e,t=!0){return D(this,null,function*(){let r=MS(n),i,o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield DS(r,e,t,!0),i})}function Pj(n,e){return D(this,null,function*(){let t=MS(n);yield DS(t,e,!0,!1)})}function DS(n,e,t,r){return D(this,null,function*(){let i=yield Ij(n.localStore,Fn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield xj(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&IS(n.remoteStore,i),c})}function xj(n,e,t,r,i){return D(this,null,function*(){n.Ha=(g,v,m)=>function(N,O,W,ye){return D(this,null,function*(){let se=O.view.ba(W);se.ls&&(se=yield o0(N.localStore,O.query,!1).then(({documents:E})=>O.view.ba(E,se)));let xe=ye&&ye.targetChanges.get(O.targetId),It=ye&&ye.targetMismatches.get(O.targetId)!=null,we=O.view.applyChanges(se,N.isPrimaryClient,xe,It);return f0(N,O.targetId,we.Ma),we.snapshot})}(n,g,v,m);let o=yield o0(n.localStore,e,!0),s=new Pv(e,o.gs),c=s.ba(o.documents),u=oc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);f0(n,t,l.Ma);let f=new xv(e,t,s);return n.ka.set(e,f),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),l.snapshot})}function Nj(n,e,t){return D(this,null,function*(){let r=pe(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!fh(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&i_(r.remoteStore,i.targetId),kv(r,i.targetId)}).catch(uh))):(kv(r,i.targetId),yield pv(r.localStore,i.targetId,!0))})}function Oj(n,e){return D(this,null,function*(){let t=pe(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),i_(t.remoteStore,r.targetId))})}function SS(n,e){return D(this,null,function*(){let t=pe(n);try{let r=yield vj(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ua.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Le(s.Ba):i.removedDocuments.size>0&&(Le(s.Ba),s.Ba=!1))}),yield RS(t,r,e)}catch(r){yield uh(r)}})}function h0(n,e,t){let r=pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((o,s)=>{let c=s.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=pe(s);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let v of g.ta)v.sa(c)&&(l=!0)}),l&&c_(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kj(n,e,t){return D(this,null,function*(){let r=pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ua.get(e),o=i&&i.key;if(o){let s=new He(G.comparator);s=s.insert(o,vn.newNoDocument(o,te.min()));let c=me().add(o),u=new jd(te.min(),new Map,new He(oe),s,c);yield SS(r,u),r.$a=r.$a.remove(o),r.Ua.delete(e),l_(r)}else yield pv(r.localStore,e,!1).then(()=>kv(r,e,t)).catch(uh)})}function kv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||AS(n,r)})}function AS(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(i_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),l_(n))}function f0(n,e,t){for(let r of t)r instanceof Jd?(n.Ka.addReference(r.key,e),Fj(n,r)):r instanceof Xd?(U(u_,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||AS(n,r.key)):Z()}function Fj(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(U(u_,"New document in limbo: "+t),n.Qa.add(r),l_(n))}function l_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new G(Fe.fromString(e)),r=n.za.next();n.Ua.set(r,new Nv(t)),n.$a=n.$a.insert(t,r),IS(n.remoteStore,new sc(Fn(hh(t.path)),r,"TargetPurposeLimboResolution",Qv.ae))}}function RS(n,e,t){return D(this,null,function*(){let r=pe(n),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((c,u)=>{s.push(r.Ha(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=lv.Yi(u.targetId,l);o.push(g)}}))}),yield Promise.all(s),r.La.p_(i),yield function(u,l){return D(this,null,function*(){let f=pe(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(l,v=>M.forEach(v.Hi,m=>f.persistence.referenceDelegate.addReference(g,v.targetId,m)).next(()=>M.forEach(v.Ji,m=>f.persistence.referenceDelegate.removeReference(g,v.targetId,m)))))}catch(g){if(!hs(g))throw g;U(r_,"Failed to update sequence numbers: "+g)}for(let g of l){let v=g.targetId;if(!g.fromCache){let m=f.Ts.get(v),A=m.snapshotVersion,N=m.withLastLimboFreeSnapshotVersion(A);f.Ts=f.Ts.insert(v,N)}}})}(r.localStore,o))})}function Lj(n,e){return D(this,null,function*(){let t=pe(n);if(!t.currentUser.isEqual(e)){U(u_,"User change. New user:",e.toKey());let r=yield vS(t.localStore,e);t.currentUser=e,function(o,s){o.Ga.forEach(c=>{c.forEach(u=>{u.reject(new B(k.CANCELLED,s))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield RS(t,r.Rs)}})}function Vj(n,e){let t=pe(n),r=t.Ua.get(e);if(r&&r.Ba)return me().add(r.key);{let i=me(),o=t.qa.get(e);if(!o)return i;for(let s of o){let c=t.ka.get(s);i=i.unionWith(c.view.Sa)}return i}}function MS(n){let e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kj.bind(null,e),e.La.p_=Aj.bind(null,e.eventManager),e.La.Ja=Rj.bind(null,e.eventManager),e}var PS=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return D(this,null,function*(){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return yj(this.persistence,new hv,t.initialUser,this.serializer)}Xa(t){return new zd(uv.ri,this.serializer)}Za(t){return new gv}terminate(){return D(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Fv=class extends PS{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Le(this.persistence.referenceDelegate instanceof qd);let r=this.persistence.referenceDelegate.garbageCollector;return new Yy(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new zd(r=>qd.ri(r,t),this.serializer)}};var jj=(()=>{class n{initialize(t,r){return D(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>h0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lj.bind(null,this.syncEngine),yield Sj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Rv}()}createDatastore(t){let r=gh(t.databaseInfo.databaseId),i=function(s){return new Iv(s)}(t.databaseInfo);return function(s,c,u,l){return new Tv(s,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,c,u){return new Dv(i,o,s,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>h0(this.syncEngine,r,0),function(){return Gd.D()?new Gd:new mv}())}createSyncEngine(t,r){return function(o,s,c,u,l,f,g){let v=new Ov(o,s,c,u,l,f);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var t,r;yield function(o){return D(this,null,function*(){let s=pe(o);U(as,"RemoteStore shutting down."),s.W_.add(5),yield fc(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var eh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Lr="FirestoreClient",Lv=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>D(this,null,function*(){U(Lr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(Lr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=CS(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function dy(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(Lr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield vS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function p0(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Uj(n);U(Lr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>u0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>u0(e.remoteStore,i)),n._onlineComponents=e})}function Uj(n){return D(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(Lr,"Using user provided OfflineComponentProvider");try{yield dy(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),yield dy(n,new PS)}}else U(Lr,"Using default OfflineComponentProvider"),yield dy(n,new Fv(void 0));return n._offlineComponents})}function Bj(n){return D(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(Lr,"Using user provided OnlineComponentProvider"),yield p0(n,n._uninitializedComponentsProvider._online)):(U(Lr,"Using default OnlineComponentProvider"),yield p0(n,new jj))),n._onlineComponents})}function Vv(n){return D(this,null,function*(){let e=yield Bj(n),t=e.eventManager;return t.onListen=Mj.bind(null,e.syncEngine),t.onUnlisten=Nj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Pj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Oj.bind(null,e.syncEngine),t})}function $j(n,e,t={}){let r=new or;return n.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,c,u,l){let f=new eh({next:v=>{f.su(),s.enqueueAndForget(()=>bS(o,g));let m=v.docs.has(c);!m&&v.fromCache?l.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&u&&u.source==="server"?l.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(v)},error:v=>l.reject(v)}),g=new Zd(hh(c.path),f,{includeMetadataChanges:!0,Ta:!0});return TS(o,g)}(yield Vv(n),n.asyncQueue,e,t,r)})),r.promise}function xS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var g0=new Map;function NS(n,e,t){if(!t)throw new B(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Hj(n,e,t,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function m0(n){if(!G.isDocumentKey(n))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y0(n){if(G.isDocumentKey(n))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z()}function Qo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=yh(n);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var OS="firestore.googleapis.com",v0=!0,th=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OS,this.ssl=v0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:v0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pj)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},us=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new th({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new th(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hy;switch(r.type){case"firstParty":return new my(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=g0.get(t);r&&(U("ComponentProvider","Removing Datastore"),g0.delete(t),r.terminate())}(this),Promise.resolve()}};function kS(n,e,t,r={}){var i;let o=(n=Qo(n,us))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==OS&&o.host!==c&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!Ii(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=nt.MOCK_USER;else{l=Rb(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nt(g)}n._authCredentials=new fy(new Md(l,f))}}var Fi=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Pt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Nr=class n extends Fi{constructor(e,t,r){super(e,t,hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function FS(n,e,...t){if(n=jt(n),NS("collection","path",e),n instanceof us){let r=Fe.fromString(e,...t);return y0(r),new Nr(n,null,r)}{if(!(n instanceof Pt||n instanceof Nr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Fe.fromString(e,...t));return y0(r),new Nr(n.firestore,null,r)}}function LS(n,e,...t){if(n=jt(n),arguments.length===1&&(e=xd.newId()),NS("doc","path",e),n instanceof us){let r=Fe.fromString(e,...t);return m0(r),new Pt(n,null,new G(r))}{if(!(n instanceof Pt||n instanceof Nr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Fe.fromString(e,...t));return m0(r),new Pt(n.firestore,n instanceof Nr?n.converter:null,new G(r))}}var _0="AsyncQueue",nh=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Kd(this,"async_queue_retry"),this.Su=()=>{let r=ly();r&&U(_0,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=ly();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=ly();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new or;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return D(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!hs(e))throw e;U(_0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw sr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=Sv.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Z()}verifyOperationInProgress(){}Mu(){return D(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};function I0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ls=class extends us{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new nh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new nh(e),this._firestoreClient=void 0,yield e}})}};function VS(n,e){let t=typeof n=="object"?n:Vo(),r=typeof n=="string"?n:e||Fd,i=od(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Sb("firestore");o&&kS(i,...o)}return i}function jS(n){if(n._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zj(n),n._firestoreClient}function zj(n){var e,t,r;let i=n._freezeSettings(),o=function(c,u,l,f){return new wy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,xS(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Lv(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var uc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(_t.fromBase64String(e))}catch(t){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var rh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ih=class{constructor(e){this._methodName=e}};var lc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}};var dc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var qj=/^__.*__$/;function US(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var jv=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Bv(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(US(this.Lu)&&qj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},Uv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gh(e)}ju(e,t,r,i=!1){return new jv({Lu:e,methodName:t,zu:r,path:Zt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Wj(n){let e=n._freezeSettings(),t=gh(n._databaseId);return new Uv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gj(n,e,t,r=!1){return d_(t,n.ju(r?4:3,e))}function d_(n,e){if(BS(n=jt(n)))return Qj("Unsupported field value:",e,n),Kj(n,e);if(n instanceof ih)return function(r,i){if(!US(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=d_(c,i.Ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return K2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=vt.fromDate(r);return{timestampValue:zy(i.serializer,o)}}if(r instanceof vt){let o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zy(i.serializer,o)}}if(r instanceof lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uc)return{bytesValue:uS(i.serializer,r._byteString)};if(r instanceof Pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof dc)return function(s,c){return{mapValue:{fields:{[Zv]:{stringValue:Jv},[Xo]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.Wu("VectorValues must only contain numeric values.");return n_(c.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${yh(r)}`)}(n,e)}function Kj(n,e){let t={};return V0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(n,(r,i)=>{let o=d_(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function BS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof lc||n instanceof uc||n instanceof Pt||n instanceof ih||n instanceof dc)}function Qj(n,e,t){if(!BS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=yh(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}var Yj=new RegExp("[~\\*/\\[\\]]");function Zj(n,e,t){if(e.search(Yj)>=0)throw Bv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rh(...e.split("."))._internalPath}catch{throw Bv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bv(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(k.INVALID_ARGUMENT,c+n+u)}var oh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $v(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(h_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$v=class extends oh{data(){return super.data()}};function h_(n,e){return typeof e=="string"?Zj(n,e):e instanceof rh?e._internalPath:e._delegate._internalPath}function Jj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hc=class{},sh=class extends hc{};function $S(n,e,...t){let r=[];e instanceof hc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof zv).length,c=o.filter(u=>u instanceof Hv).length;if(s>1||s>0&&c>0)throw new B(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Hv=class n extends sh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return zS(e._query,t),new Fi(e.firestore,e.converter,Oy(e._query,t))}_parse(e){let t=Wj(e.firestore);return function(o,s,c,u,l,f,g){let v;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){E0(g,f);let A=[];for(let N of g)A.push(w0(u,o,N));v={arrayValue:{values:A}}}else v=w0(u,o,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||E0(g,f),v=Gj(c,s,g,f==="in"||f==="not-in");return Ye.create(l,f,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var zv=class n extends hc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_n.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)zS(s,u),s=Oy(s,u)}(e._query,t),new Fi(e.firestore,e.converter,Oy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var qv=class n extends sh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ki(o,s)}(e._query,this._field,this._direction);return new Fi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new kr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function HS(n,e="asc"){let t=e,r=h_("orderBy",n);return qv._create(r,t)}function w0(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new B(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z0(e)&&t.indexOf("/")!==-1)throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Fe.fromString(t));if(!G.isDocumentKey(r))throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UD(n,new G(r))}if(t instanceof Pt)return UD(n,t._key);throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(t)}.`)}function E0(n,e){if(!Array.isArray(n)||n.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zS(n,e){let t=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Wv=class{convertValue(e,t="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return fs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Xo].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new dc(o)}convertGeoPoint(e){return new lc(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=dh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){let t=ar(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Fe.fromString(e);Le(mS(r));let i=new Ld(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(t)||sr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var xi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ah=class extends oh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Yo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(h_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Yo=class extends ah{data(e={}){return super.data(e)}},Gv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Yo(this._firestore,this._userDataWriter,r.key,r,new xi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Yo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Yo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:Xj(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Xj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function qS(n){n=Qo(n,Pt);let e=Qo(n.firestore,ls);return $j(jS(e),n._key).then(t=>WS(e,n,t))}var ch=class extends Wv{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}};function f_(n,...e){var t,r,i;n=jt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||I0(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(I0(e[s])){let g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,l,f;if(n instanceof Pt)l=Qo(n.firestore,ls),f=hh(n._key.path),u={next:g=>{e[s]&&e[s](WS(l,n,g))},error:e[s+1],complete:e[s+2]};else{let g=Qo(n,Fi);l=Qo(g.firestore,ls),f=g._query;let v=new ch(l);u={next:m=>{e[s]&&e[s](new Gv(l,v,g,m))},error:e[s+1],complete:e[s+2]},Jj(n._query)}return function(v,m,A,N){let O=new eh(N),W=new Zd(m,O,A);return v.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return TS(yield Vv(v),W)})),()=>{O.su(),v.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return bS(yield Vv(v),W)}))}}(jS(l),f,c,u)}function WS(n,e,t){let r=t.docs.get(e._key),i=new ch(n);return new ah(n,i,e._key,r,new xi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ds=i})(Lo),mn(new bt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ls(new py(r.getProvider("auth-internal")),new yy(s,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),$e(MD,PD,e),$e(MD,PD,"esm2017")})();var vh=function(){return vh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},vh.apply(this,arguments)};var nU={includeMetadataChanges:!1};function GS(n,e){return e===void 0&&(e=nU),new ie(function(t){var r=f_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function KS(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:vh(vh({},r),(t={},t[e.idField]=n.id,t))}function QS(n){return GS(n,{includeMetadataChanges:!0}).pipe(H(function(e){return e.docs}))}function YS(n,e){return e===void 0&&(e={}),QS(n).pipe(H(function(t){return t.map(function(r){return KS(r,e)})}))}var et=class{constructor(e){return e}},ZS="firestore",p_=class{constructor(){return Uo(ZS)}};var g_=new q("angularfire2.firestore-instances");function rU(n,e){let t=cd(ZS,n,e);return t&&new et(t)}function iU(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new et(r)}}var oU={provide:p_,deps:[[new Gn,g_]]},sU={provide:et,useFactory:rU,deps:[[new Gn,g_],bi]};function JS(n,...e){return $e("angularfire",Ci.full,"fst"),oi([sU,oU,{provide:g_,useFactory:iU(n),multi:!0,deps:[Ee,st,Ti,La,[new Gn,Ed],[new Gn,ld],...e]}])}var Jt=Qt(YS,!0);var Xt=Qt(FS,!0,2);var Vr=Qt(LS,!0,2);var jr=Qt(qS,!0);var XS=Qt(VS,!0);var eA=Qt(HS,!0,2),en=Qt($S,!0,2);var tn=class n{isDataLoadedSubject=new Ue(!1);isFooterDataLoadedSubject=new Ue(!1);isHeaderDataLoadedSubject=new Ue(!1);emitLoadedDta(e){this.isDataLoadedSubject.next(e)}emitHeaderLoadedDta(e){this.isHeaderDataLoadedSubject.next(e)}emitFooterLoadedDta(e){this.isFooterDataLoadedSubject.next(e)}get showSpinner$(){return Kr([this.isDataLoadedSubject.asObservable(),this.isFooterDataLoadedSubject.asObservable(),this.isHeaderDataLoadedSubject.asObservable()]).pipe(H(([e,t,r])=>!(t&&e&&r)))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var _h=class n{firestore=R(et);spinnerService=R(tn);getCollection(){return this.getCollections().pipe(Ut(1),We(e=>this.spinnerService.emitLoadedDta(!0)),H(e=>e.map(t=>{let r=t;return r.url=r.url.replace("embed/","watch?v="),r})))}getCollections(){this.spinnerService.emitLoadedDta(!1);let e=Xt(this.firestore,"indexElements"),t=en(e,eA("order","asc"));return Jt(t,{idField:"id"})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function aU(n,e){if(n&1){let t=ln();Sn(0),P(1,"app-project-element",3),Je("sendProject",function(i){at(t);let o=Ce(2);return ct(o.toggleExpand(i))}),x(),An()}if(n&2){let t=e.$implicit,r=e.index,i=Ce(2);$(),X("projectElement",t)("expand",i.expandedIndex===r)}}function cU(n,e){if(n&1&&(P(0,"main",1),Me(1,aU,2,2,"ng-container",2),x()),n&2){let t=Ce();$(),X("ngForOf",t.indexArray)}}var Ih=class n{itemExpanded=!1;expandedIndex;elementsList;observable$;indexArray;subscription;loadedData=!1;indexElementsService=R(_h);spinnerService=R(tn);constructor(){}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.subscription=this.indexElementsService.getCollection().subscribe(e=>{this.indexArray=e,this.loadedData=!0,this.spinnerService.emitLoadedDta(!0)})}toggleExpand(e){let t=e.id,r=e.elementRef;this.expandedIndex=this.expandedIndex===t&&!e.isActive?void 0:t}focusOnElement(e){e.nativeElement.scrollIntoView({behavior:"smooth",block:"end"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-indice"]],decls:1,vars:1,consts:[["class","mainIndex",4,"ngIf"],[1,"mainIndex"],[4,"ngFor","ngForOf"],[3,"sendProject","projectElement","expand"]],template:function(t,r){t&1&&Me(0,cU,2,1,"main",0),t&2&&X("ngIf",r.loadedData)},dependencies:[Gt,Tt,Xl],styles:["main[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;padding-left:10px;padding-right:10px}"]})};var wh=class n{email="info@gmartnewmedia.com";location="Ometusco 96, Colonia Hip\xF3dromo Condesa, C.P 01600, Ciudad de M\xE9xico.";phone="+52 331-1336-736";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-privacy"]],decls:108,vars:3,template:function(t,r){t&1&&(P(0,"section")(1,"p"),V(2,"En GM aArt New Media valoramos y respetamos tu privacidad. Esta Pol\xEDtica de Privacidad describe c\xF3mo recopilamos, utilizamos, compartimos y protegemos la informaci\xF3n personal que obtenemos a trav\xE9s de nuestro sitio web www.gmartnewmedia.com. Al utilizar nuestro sitio, aceptas las pr\xE1cticas descritas en esta pol\xEDtica. "),x(),re(3,"br"),P(4,"h1"),V(5,"1. Informaci\xF3n que Recopilamos"),x(),P(6,"p"),V(7,"Podemos recopilar los siguientes tipos de informaci\xF3n:"),x(),re(8,"br"),P(9,"ul")(10,"li")(11,"p"),V(12,"Informaci\xF3n personal: Nombre, direcci\xF3n de correo electr\xF3nico, n\xFAmero de tel\xE9fono y otra informaci\xF3n que nos proporciones voluntariamente al registrarte, suscribirte a nuestro bolet\xEDn, o contactarnos. "),x()(),P(13,"li")(14,"p"),V(15,"Informaci\xF3n de uso: Datos sobre c\xF3mo interact\xFAas con nuestro sitio, como tu direcci\xF3n IP, tipo de navegador, p\xE1ginas visitadas, tiempo de visita y otros datos anal\xEDticos."),x()(),P(16,"li")(17,"p"),V(18,"Cookies y tecnolog\xEDas similares: Utilizamos cookies y tecnolog\xEDas similares para mejorar la experiencia del usuario y analizar el tr\xE1fico del sitio. Puedes gestionar tus preferencias de cookies a trav\xE9s de la configuraci\xF3n de tu navegador."),x()()(),re(19,"br"),P(20,"h1"),V(21,"2. Uso de la Informaci\xF3n"),x(),P(22,"p"),V(23,"Utilizamos la informaci\xF3n recopilada para los siguientes fines:"),x(),re(24,"br"),P(25,"ul")(26,"li")(27,"p"),V(28,"Proporcionar, operar y mantener nuestro sitio."),x()(),re(29,"li"),P(30,"li")(31,"p"),V(32,"Mejorar, personalizar y expandir las funcionalidades del sitio."),x()(),P(33,"li")(34,"p"),V(35,"Comunicarnos contigo, incluyendo el env\xEDo de boletines, actualizaciones y respuestas a consultas."),x()(),P(36,"li")(37,"p"),V(38,"Analizar el uso del sitio y realizar investigaciones para mejorar nuestros servicios."),x()(),P(39,"li")(40,"p"),V(41,"Cumplir con obligaciones legales y proteger nuestros derechos."),x()()(),re(42,"br"),P(43,"h1"),V(44,"3. Compartir Informaci\xF3n"),x(),P(45,"p"),V(46,"No vendemos, comercializamos ni transferimos tu informaci\xF3n personal a terceros sin tu consentimiento, excepto en los siguientes casos:"),x(),re(47,"br"),P(48,"ul")(49,"li")(50,"p"),V(51,"Proveedores de servicios: Podemos compartir informaci\xF3n con terceros que nos ayudan a operar nuestro sitio (por ejemplo, proveedores de hosting, herramientas de an\xE1lisis y servicios de marketing)."),x()(),P(52,"li")(53,"p"),V(54,"Cumplimiento legal: Podemos divulgar informaci\xF3n si es requerido por ley o para proteger nuestros derechos, propiedad o seguridad, o los de otros usuarios."),x()(),P(55,"li")(56,"p"),V(57,"Transferencias empresariales: En caso de fusi\xF3n, adquisici\xF3n o venta de activos, tu informaci\xF3n podr\xEDa ser transferida al nuevo propietario. "),x()()(),re(58,"br"),P(59,"h1"),V(60,"4. Seguridad de la Informaci\xF3n"),x(),P(61,"p"),V(62,"Implementamos medidas de seguridad t\xE9cnicas y organizativas para proteger tu informaci\xF3n personal contra accesos no autorizados, alteraciones, divulgaciones o destrucci\xF3n. Sin embargo, ning\xFAn sistema es completamente seguro, por lo que no podemos garantizar la seguridad absoluta de tus datos."),x(),re(63,"br"),P(64,"h1"),V(65,"5. Tus Derechos "),x(),P(66,"p"),V(67,"Dependiendo de tu jurisdicci\xF3n, puedes tener los siguientes derechos respecto a tu informaci\xF3n personal:"),x(),re(68,"br"),P(69,"ul")(70,"li")(71,"p"),V(72,"Acceso: Solicitar una copia de la informaci\xF3n que tenemos sobre ti."),x()(),P(73,"p"),V(74,"Rectificaci\xF3n: Solicitar la correcci\xF3n de informaci\xF3n inexacta o incompleta."),x(),P(75,"li")(76,"p"),V(77,"Eliminaci\xF3n: Solicitar la eliminaci\xF3n de tus datos personales."),x()(),P(78,"p"),V(79,"Oposici\xF3n: Oponerte al procesamiento de tus datos en ciertas circunstancias."),x(),P(80,"li")(81,"p"),V(82,"Retiro del consentimiento: Retirar tu consentimiento para el uso de tus datos, cuando corresponda."),x()(),P(83,"li")(84,"p"),V(85,"Para ejercer estos derechos, cont\xE1ctanos a trav\xE9s de la informaci\xF3n proporcionada al final de esta pol\xEDtica."),x()()(),re(86,"br"),P(87,"h1"),V(88,"6. Enlaces a Terceros"),x(),P(89,"p"),V(90,"Nuestro sitio puede contener enlaces a sitios web de terceros. No somos responsables de las pr\xE1cticas de privacidad o el contenido de estos sitios. Te recomendamos revisar sus pol\xEDticas de privacidad antes de proporcionarles cualquier informaci\xF3n personal."),x(),re(91,"br"),P(92,"h1"),V(93,"7. Cambios a esta Pol\xEDtica"),x(),P(94,"p"),V(95,"Podemos actualizar esta Pol\xEDtica de Privacidad ocasionalmente. Cualquier cambio ser\xE1 publicado en esta p\xE1gina con la fecha de la \xFAltima actualizaci\xF3n. Te recomendamos revisar esta pol\xEDtica peri\xF3dicamente para estar informado sobre c\xF3mo protegemos tu informaci\xF3n."),x(),re(96,"br"),P(97,"h1"),V(98,"8. Contacto"),x(),P(99,"p"),V(100,"Si tienes preguntas, comentarios o inquietudes sobre esta Pol\xEDtica de Privacidad o el manejo de tus datos personales, no dudes en contactarnos a:"),x(),re(101,"br"),P(102,"p"),V(103),x(),P(104,"p"),V(105),x(),P(106,"p"),V(107),x()()),t&2&&($(103),Ct("Correo electr\xF3nico: ",r.email,""),$(2),Ct("Direcci\xF3n: ",r.location,""),$(2),Ct("Tel\xE9fono: ",r.phone,""))},encapsulation:2})};var tA=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:Ih},{path:"privacy",component:wh},{path:"**",redirectTo:"index"}];var nA={firebaseConfig:{production:!0,apiKey:"AIzaSyAVzD198amuR8UIZ5Zu-XqCWUritGxW9k8",authDomain:"gmapp-f6d70.firebaseapp.com",databaseURL:"https://gmapp-f6d70-default-rtdb.firebaseio.com",projectId:"gmapp-f6d70",storageBucket:"gmapp-f6d70.firebasestorage.app",messagingSenderId:"999905388732",appId:"1:999905388732:web:8a671ff9e202ba59ac08b9",measurementId:"G-JDYRP554XE"}};var rA={providers:[tT({eventCoalescing:!0}),lm(tA),Xb(()=>eD(nA.firebaseConfig)),JS(()=>XS())]};var gs=class n{name="links";firestore=R(et);linkInfoConverter={toFirestore(e){return{title:e.title,url:e.url}},fromFirestore(e,t){let r=e.data(t);return{title:r.title,url:r.url}}};getByDocumentId(e){return D(this,null,function*(){let t=Vr(this.firestore,this.name+"/"+e).withConverter(this.linkInfoConverter),r=yield jr(t);if(r.exists())return r.data();throw Error("No existe documento.")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var ms=class n{name="contact";firestore=R(et);linkService=R(gs);converter={toFirestore(e){return{email:e.email,instagram:e.instagram,whatsApp:e.whatsApp}},fromFirestore(e,t){let r=e.data(t);return{email:r.email,instagram:r.instagram,whatsApp:r.whatsApp}}};getContacts(){return this.getCollections().pipe(ke(e=>{let t=de(this.linkService.getByDocumentId(e.email.id)),r=de(this.linkService.getByDocumentId(e.whatsApp.id)),i=de(this.linkService.getByDocumentId(e.instagram.id));return on([t,r,i]).pipe(H(([o,s,c])=>({email:o,whatsApp:s,instagram:c})))}))}getCollections(){let e=Xt(this.firestore,this.name),t=en(e);return Jt(t,{idField:"id"}).pipe(H(r=>r[0]))}getByDocumentId(e){return D(this,null,function*(){let t=Vr(this.firestore,this.name+"/"+e).withConverter(this.converter),r=yield jr(t);if(r.exists()){let i=yield this.linkService.getByDocumentId(r.data().email.id),o=yield this.linkService.getByDocumentId(r.data().whatsApp.id),s=yield this.linkService.getByDocumentId(r.data().instagram.id);return{email:i,whatsApp:o,instagram:s}}throw Error("No existe documento.")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Eh=class n{name="header";firestore=R(et);contactService=R(ms);get headerInfo$(){return this.getCollections().pipe(ke(e=>{let t=de(this.contactService.getByDocumentId(e.contact.id));return on([t]).pipe(H(([r])=>({detalles:e.detalles,listado:e.listado,contact:r,videoPlayBack:e.videoPlayBack})))}))}getCollections(){let e=Xt(this.firestore,this.name),t=en(e);return Jt(t,{idField:"id"}).pipe(H(r=>r[0]))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var uU=["videoElement"];function lU(n,e){if(n&1&&(P(0,"p"),V(1),x()),n&2){let t=e.$implicit;$(),Ct(" ",t," ")}}function dU(n,e){if(n&1&&(P(0,"p"),V(1),x()),n&2){let t=e.$implicit;$(),Ct(" ",t," ")}}function hU(n,e){if(n&1){let t=ln();P(0,"div",11)(1,"p")(2,"a",12),Je("click",function(){let i=at(t).ngIf,o=Ce(2);return ct(o.handleContact(i.email.url))}),V(3),x()(),P(4,"p")(5,"a",12),Je("click",function(){let i=at(t).ngIf,o=Ce(2);return ct(o.handleContact(i.instagram.url))}),V(6),x()(),P(7,"p")(8,"a",12),Je("click",function(){let i=at(t).ngIf,o=Ce(2);return ct(o.handleContact(i.whatsApp.url))}),V(9),x()()()}if(n&2){let t=e.ngIf;$(3),Re(t.email.title),$(3),Re(t.instagram.title),$(3),Re(t.whatsApp.title)}}function fU(n,e){if(n&1&&(P(0,"header",2),re(1,"img",3,0),P(3,"div",4)(4,"div",5),Me(5,lU,2,1,"p",6),x(),P(6,"div",7),Me(7,dU,2,1,"p",6),x(),Me(8,hU,10,3,"div",8),P(9,"div",9),re(10,"img",10),x()()()),n&2){let t=Ce();$(),X("src",t.videoSource,ui),$(4),X("ngForOf",t.headerInfo.detalles),$(2),X("ngForOf",t.headerInfo.listado),$(),X("ngIf",t.headerInfo.contact)}}var Ch=class n{headerService=R(Eh);spinnerService=R(tn);router=R(pn);hasExpandedSubcription;videoSource;headerInfo;dataLoaded=!1;hasExpanded=!1;videoRef;constructor(){}ngOnDestroy(){this.hasExpandedSubcription?.unsubscribe()}ngOnInit(){this.hasExpandedSubcription=this.headerService.headerInfo$.subscribe(e=>{this.headerInfo=e,this.videoSource=e.videoPlayBack,this.dataLoaded=!0,this.spinnerService.emitHeaderLoadedDta(!0)})}onIndex(){console.log("index"),this.router.navigateByUrl("index")}onImages(){console.log("images"),this.router.navigateByUrl("images")}handleContact(e){e!=null&&window.open(e,"_blanks")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-header"]],viewQuery:function(t,r){if(t&1&&al(uU,5),t&2){let i;ia(i=oa())&&(r.videoRef=i.first)}},decls:1,vars:1,consts:[["videoElement",""],["class","video-container-desktop",4,"ngIf"],[1,"video-container-desktop"],["alt","Background GIF",1,"video-background",3,"src"],[1,"content-over-video"],[1,"detalles"],[4,"ngFor","ngForOf"],[1,"listado"],["class","menu",4,"ngIf"],[1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/logo.png?alt=media&token=e25e6eb8-f15c-43fe-a6ee-1f0b7a708a2a"],[1,"menu"],[3,"click"]],template:function(t,r){t&1&&Me(0,fU,11,4,"header",1),t&2&&X("ngIf",r.dataLoaded)},dependencies:[Gt,hm,Tt],styles:['@charset "UTF-8";[class*=mobile][_ngcontent-%COMP%]{display:none!important}header.video-container-desktop[_ngcontent-%COMP%]{width:100%;overflow:hidden;color:#fff;padding:0;margin-bottom:-80px}header.video-container-desktop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}header.video-container-desktop[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]{width:100%;position:relative;top:-90px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;width:100%;display:grid;grid-template-columns:14% 66% 15% 5%;justify-content:right;margin-top:10px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{justify-self:left;margin-left:10px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%]{margin-left:10%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{justify-self:right;display:block;width:50px;height:50px;margin-right:10px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit;filter:invert(1)}','@charset "UTF-8";@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)){header.video-container-desktop[_ngcontent-%COMP%]{height:100vh;margin-bottom:-330px}header.video-container-desktop[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]{top:-60px;height:70%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]{grid-template-columns:21% 45% 33%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{width:100%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child:after{content:"\\ae"}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:none}}']})};var Th=class n{name="clients";firestore=R(et);linkService=R(gs);converter={toFirestore(e){return{clients:e.clients,title:e.title}},fromFirestore(e,t){let r=e.data(t);return{clients:r.clients,title:r.title}}};constructor(){}get clinets$(){return this.getCollections().pipe(ke(e=>{let t=[];for(let r=0;r<e.clients.length;r++)t.push(de(this.linkService.getByDocumentId(e.clients[r].id)));return on(t).pipe(H(r=>({title:e.title,clients:r})))}))}getCollections(){let e=Xt(this.firestore,this.name),t=en(e);return Jt(t,{idField:"id"}).pipe(H(r=>r[0]))}getByDocumentId(e){return D(this,null,function*(){let t=Vr(this.firestore,this.name+"/"+e).withConverter(this.converter),r=yield jr(t);if(r.exists()){let i=[];for(let o=0;o<r.data().clients.length;o++){let s=yield this.linkService.getByDocumentId(r.data().clients[o].id);i.push(s)}return{title:r.data().title,clients:i}}throw Error("No existe documento.")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var bh=class n{firestore=R(et);contactService=R(ms);name="nosotros";converter={toFirestore(e){return{contact:e.contact,descriptions:e.descriptions,title:e.title}},fromFirestore(e,t){let r=e.data(t);return{contact:r.contact,descriptions:r.descriptions,title:r.title}}};constructor(){}get clinets$(){return this.getCollections().pipe(ke(e=>{let t=de(this.contactService.getByDocumentId(e.contact.id));return on([t]).pipe(H(([r])=>({title:e.title,descriptions:e.descriptions,contact:r})))}))}getCollections(){let e=Xt(this.firestore,"nosotros"),t=en(e);return Jt(t,{idField:"id"}).pipe(H(r=>r[0]))}getByDocumentId(e){return D(this,null,function*(){let t=Vr(this.firestore,this.name+"/"+e).withConverter(this.converter),r=yield jr(t);if(r.exists())return{contact:yield this.contactService.getByDocumentId(r.data().contact.id),descriptions:r.data().descriptions,title:r.data().title};throw Error("No existe documento.")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Dh=class n{clientesService=R(Th);nosotrosService=R(bh);firestore=R(et);constructor(){}getCollections(){let e=Xt(this.firestore,"footer"),t=en(e);return Jt(t,{idField:"id"}).pipe(H(r=>r[0]))}get footerInfo$(){return this.getCollections().pipe(ke(e=>{let t=de(this.clientesService.getByDocumentId(e.clientes.id)),r=de(this.nosotrosService.getByDocumentId(e.nosotros.id));return on([t,r]).pipe(H(([i,o])=>({clientes:i,nosotros:o})))}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function pU(n,e){if(n&1){let t=ln();P(0,"div",13)(1,"p")(2,"a",14),Je("click",function(){let i=at(t).ngIf,o=Ce(2);return ct(o.handleContact(i.email.url))}),V(3),x()(),P(4,"p")(5,"a",14),Je("click",function(){let i=at(t).ngIf,o=Ce(2);return ct(o.handleContact(i.instagram.url))}),V(6),x()(),P(7,"p")(8,"a",14),Je("click",function(){let i=at(t).ngIf,o=Ce(2);return ct(o.handleContact(i.whatsApp.url))}),V(9),x()()()}if(n&2){let t=e.ngIf;$(3),Re(t.email.title),$(3),Re(t.instagram.title),$(3),Re(t.whatsApp.title)}}function gU(n,e){if(n&1&&(P(0,"span")(1,"p"),V(2),x()()),n&2){let t=e.$implicit;$(2),Re(t)}}function mU(n,e){if(n&1){let t=ln();P(0,"div",15)(1,"p")(2,"a",14),Je("click",function(){let i=at(t).ngIf,o=Ce(2);return ct(o.handleContact(i.email.url))}),V(3),x()(),P(4,"p")(5,"a",14),Je("click",function(){let i=at(t).ngIf,o=Ce(2);return ct(o.handleContact(i.instagram.url))}),V(6),x()(),P(7,"p")(8,"a",14),Je("click",function(){let i=at(t).ngIf,o=Ce(2);return ct(o.handleContact(i.whatsApp.url))}),V(9),x()()()}if(n&2){let t=e.ngIf;$(3),Re(t.email.title),$(3),Re(t.instagram.title),$(3),Re(t.whatsApp.title)}}function yU(n,e){if(n&1&&re(0,"img",16),n&2){let t=e.$implicit;mg("src",t.url,ui)}}function vU(n,e){if(n&1&&(P(0,"footer")(1,"div",1)(2,"div",2)(3,"p"),V(4),x(),P(5,"p"),V(6,"Contact"),x()(),Me(7,pU,10,3,"div",3),P(8,"div",4),Me(9,gU,3,1,"span",5)(10,mU,10,3,"div",6),x()(),P(11,"div",7)(12,"div",2)(13,"p"),V(14),x()(),re(15,"div",8),P(16,"div",9)(17,"div",10),Me(18,yU,1,1,"img",11),x(),P(19,"div",12)(20,"p"),V(21),x()()()()()),n&2){let t=Ce();$(4),Re(t.footerInfo.nosotros.title),$(3),X("ngIf",t.footerInfo.nosotros.contact),$(2),X("ngForOf",t.footerInfo.nosotros.descriptions),$(),X("ngIf",t.footerInfo.nosotros.contact),$(4),Re(t.footerInfo.clientes.title),$(4),X("ngForOf",t.footerInfo.clientes.clients),$(3),Ct("",t.clientsInfo,".")}}var Sh=class n{spinnerService=R(tn);footerService=R(Dh);footerInfo;clientsInfo;dataloaded=!1;subcription;ngOnDestroy(){this.subcription.unsubscribe()}constructor(){this.subcription=this.footerService.footerInfo$.subscribe(e=>{this.footerInfo=e,this.clientsInfo=e.clientes.clients.map(t=>t.title).join(", "),this.dataloaded=!0,this.spinnerService.emitFooterLoadedDta(!0)})}handleContact(e){e!=null&&window.open(e,"_blanks")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-footer"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"nosotros"],[1,"title"],["class","contact",4,"ngIf"],[1,"descripcion"],[4,"ngFor","ngForOf"],["class","contactDevice",4,"ngIf"],[1,"clientes"],[1,"empty"],[1,"info"],[1,"clientImages"],[3,"src",4,"ngFor","ngForOf"],[1,"text"],[1,"contact"],[3,"click"],[1,"contactDevice"],[3,"src"]],template:function(t,r){t&1&&Me(0,vU,22,7,"footer",0),t&2&&X("ngIf",r.dataloaded)},dependencies:[Gt,Tt],styles:["footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.5;margin-left:10px;margin-right:10px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:1px}footer[_ngcontent-%COMP%]:first-child{border-top:.5mm solid rgb(207,207,207)}footer[_ngcontent-%COMP%]:last-child{border-bottom:none}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 20% 60%;grid-template-rows:100%;padding:5px 10px 10px 0}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;overflow-wrap:break-word;padding-bottom:60px;line-height:1.2}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .contactDevice[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]{display:grid;border-top:.5mm solid rgb(207,207,207);grid-template-columns:15% 25% 60%;grid-template-rows:100%;padding:10px 10px 10px 0}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:rows}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:left}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(1);opacity:.25;max-height:70px;max-width:120px;margin:5px}","@media (max-device-width: 767px) or ((max-device-height: 767px)){footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]{padding:5px 5px 5px 0;grid-template-columns:25% 1fr}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .contactDevice[_ngcontent-%COMP%]{display:block}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{justify-self:start;width:60%}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{padding:0;margin:0 0 10px}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]{padding:5px;padding-top:50;grid-template-columns:25% 75%}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;max-width:50px}}","@media only screen and ((min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait)){footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]{grid-template-columns:20% 0% 80%;padding-top:0}}"]})};function _U(n,e){n&1&&(P(0,"div",1)(1,"div",2),re(2,"div",3),x()())}var Ah=class n{isLoading=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-spinner"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner-container"],[1,"spinner"]],template:function(t,r){t&1&&Me(0,_U,3,0,"div",0),t&2&&X("ngIf",r.isLoading)},dependencies:[Tt],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#fff;display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top-color:#3f51b5;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}.spinner-text[_ngcontent-%COMP%]{color:#333;font-size:1rem;font-weight:500}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};var Rh=class n{title="gm-web";shouldShowSpinner;showSpinner$;spinnerSubscription;spinnerService=R(tn);constructor(){this.showSpinner$=this.spinnerService.showSpinner$}ngOnDestroy(){this.spinnerSubscription.unsubscribe()}ngOnInit(){this.spinnerSubscription=this.showSpinner$.subscribe(e=>this.shouldShowSpinner=e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[3,"isLoading"]],template:function(t,r){t&1&&re(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-spinner",0),t&2&&($(3),X("isLoading",r.shouldShowSpinner))},dependencies:[Aa,Ch,Sh,Ah],encapsulation:2})};Fg(Rh,rA).catch(n=>console.error(n));
