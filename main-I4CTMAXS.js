var bA=Object.defineProperty,TA=Object.defineProperties;var DA=Object.getOwnPropertyDescriptors;var rI=Object.getOwnPropertySymbols;var SA=Object.prototype.hasOwnProperty,AA=Object.prototype.propertyIsEnumerable;var iI=(n,e,t)=>e in n?bA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})SA.call(e,t)&&iI(n,t,e[t]);if(rI)for(var t of rI(e))AA.call(e,t)&&iI(n,t,e[t]);return n},be=(n,e)=>TA(n,DA(e));var D=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});function oI(n,e){return Object.is(n,e)}var Qe=null,Tc=!1,Uh=1,Ni=Symbol("SIGNAL");function pe(n){let e=Qe;return Qe=n,e}function Bh(){return Qe}var Dc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $h(n){if(Tc)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(n);let e=Qe.nextProducerIndex++;if(Ac(Qe),e<Qe.producerNode.length&&Qe.producerNode[e]!==n&&Ds(Qe)){let t=Qe.producerNode[e];Sc(t,Qe.producerIndexOfThis[e])}Qe.producerNode[e]!==n&&(Qe.producerNode[e]=n,Qe.producerIndexOfThis[e]=Ds(Qe)?lI(n,Qe,e):0),Qe.producerLastReadVersion[e]=n.version}function sI(){Uh++}function aI(n){if(!(Ds(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Uh)){if(!n.producerMustRecompute(n)&&!qh(n)){jh(n);return}n.producerRecomputeValue(n),jh(n)}}function Hh(n){if(n.liveConsumerNode===void 0)return;let e=Tc;Tc=!0;try{for(let t of n.liveConsumerNode)t.dirty||MA(t)}finally{Tc=e}}function cI(){return Qe?.consumerAllowSignalWrites!==!1}function MA(n){n.dirty=!0,Hh(n),n.consumerMarkedDirty?.(n)}function jh(n){n.dirty=!1,n.lastCleanEpoch=Uh}function zh(n){return n&&(n.nextProducerIndex=0),pe(n)}function uI(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ds(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Sc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function qh(n){Ac(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(aI(t),r!==t.version))return!0}return!1}function Gh(n){if(Ac(n),Ds(n))for(let e=0;e<n.producerNode.length;e++)Sc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function lI(n,e,t){if(dI(n),n.liveConsumerNode.length===0&&hI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=lI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Sc(n,e){if(dI(n),n.liveConsumerNode.length===1&&hI(n))for(let r=0;r<n.producerNode.length;r++)Sc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ac(i),i.producerIndexOfThis[r]=e}}function Ds(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ac(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function dI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function hI(n){return n.producerNode!==void 0}function RA(){throw new Error}var fI=RA;function PA(n){fI(n)}function Wh(n){fI=n}var xA=null;function Kh(n,e){cI()||PA(n),n.equal(n.value,e)||(n.value=e,OA(n))}var Qh=be(F({},Dc),{equal:oI,value:void 0,kind:"signal"});function OA(n){n.version++,sI(),Hh(n),xA?.()}var Yh;function Ss(){return Yh}function Nn(n){let e=Yh;return Yh=n,e}var Mc=Symbol("NotFound");function Z(n){return typeof n=="function"}function ki(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rc=ki(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Lr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ne=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof Rc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{pI(o)}catch(s){e=e??[],s instanceof Rc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)pI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Lr(t,e)}remove(e){let{_finalizers:t}=this;t&&Lr(t,e),e instanceof n&&e._removeParent(this)}};Ne.EMPTY=(()=>{let n=new Ne;return n.closed=!0,n})();var Zh=Ne.EMPTY;function Pc(n){return n instanceof Ne||n&&"closed"in n&&Z(n.remove)&&Z(n.add)&&Z(n.unsubscribe)}function pI(n){Z(n)?n():n.unsubscribe()}var Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Li={setTimeout(n,e,...t){let{delegate:r}=Li;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Li;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function xc(n){Li.setTimeout(()=>{let{onUnhandledError:e}=Gt;if(e)e(n);else throw n})}function As(){}var gI=Jh("C",void 0,void 0);function mI(n){return Jh("E",void 0,n)}function yI(n){return Jh("N",n,void 0)}function Jh(n,e,t){return{kind:n,value:e,error:t}}var Fr=null;function Fi(n){if(Gt.useDeprecatedSynchronousErrorHandling){let e=!Fr;if(e&&(Fr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Fr;if(Fr=null,t)throw r}}else n()}function vI(n){Gt.useDeprecatedSynchronousErrorHandling&&Fr&&(Fr.errorThrown=!0,Fr.error=n)}var Vr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pc(e)&&e.add(this)):this.destination=HA}static create(e,t,r){return new Vi(e,t,r)}next(e){this.isStopped?ef(yI(e),this):this._next(e)}error(e){this.isStopped?ef(mI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ef(gI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BA=Function.prototype.bind;function Xh(n,e){return BA.call(n,e)}var tf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Oc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Oc(r)}else Oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Oc(t)}}},Vi=class extends Vr{constructor(e,t,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Gt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xh(e.next,o),error:e.error&&Xh(e.error,o),complete:e.complete&&Xh(e.complete,o)}):i=e}this.destination=new tf(i)}};function Oc(n){Gt.useDeprecatedSynchronousErrorHandling?vI(n):xc(n)}function $A(n){throw n}function ef(n,e){let{onStoppedNotification:t}=Gt;t&&Li.setTimeout(()=>t(n,e))}var HA={closed:!0,next:As,error:$A,complete:As};var ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function St(n){return n}function Nc(...n){return nf(n)}function nf(n){return n.length===0?St:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=qA(t)?t:new Vi(t,r,i);return Fi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=_I(r),new r((i,o)=>{let s=new Vi({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ji](){return this}pipe(...t){return nf(t)(this)}toPromise(t){return t=_I(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function _I(n){var e;return(e=n??Gt.Promise)!==null&&e!==void 0?e:Promise}function zA(n){return n&&Z(n.next)&&Z(n.error)&&Z(n.complete)}function qA(n){return n&&n instanceof Vr||zA(n)&&Pc(n)}function rf(n){return Z(n?.lift)}function le(n){return e=>{if(rf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new of(n,e,t,r,i)}var of=class extends Vr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ui(){return le((n,e)=>{let t=null;n._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Bi=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Ui()(this)}};var II=ki(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new kc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new II}next(t){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zh:(this.currentObservers=null,o.push(t),new Ne(()=>{this.currentObservers=null,Lr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new kc(e,t),n})(),kc=class extends $e{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Zh}};var He=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var sf={now(){return(sf.delegate||Date).now()},delegate:void 0};var Lc=class extends Ne{constructor(e,t){super()}schedule(e,t=0){return this}};var Ms={setInterval(n,e,...t){let{delegate:r}=Ms;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ms;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var $i=class extends Lc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ms.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ms.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Lr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Hi=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Hi.now=sf.now;var zi=class extends Hi{constructor(e,t=Hi.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var af=new zi($i);var Fc=class extends $i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Vc=class extends zi{};var cf=new Vc(Fc);var Et=new ue(n=>n.complete());function EI(n){return n&&Z(n.schedule)}function wI(n){return n[n.length-1]}function CI(n){return Z(wI(n))?n.pop():void 0}function ar(n){return EI(wI(n))?n.pop():void 0}function uf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function TI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(g){s(g)}}function u(f){try{l(r.throw(f))}catch(g){s(g)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function bI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jr(n){return this instanceof jr?(this.v=n,this):new jr(n)}function DI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(A){return Promise.resolve(A).then(m,g)}}function c(m,A){r[m]&&(i[m]=function(x){return new Promise(function(O,q){o.push([m,x,O,q])>1||u(m,x)})},A&&(i[m]=A(i[m])))}function u(m,A){try{l(r[m](A))}catch(x){v(o[0][3],x)}}function l(m){m.value instanceof jr?Promise.resolve(m.value.v).then(f,g):v(o[0][2],m)}function f(m){u("next",m)}function g(m){u("throw",m)}function v(m,A){m(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function SI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof bI=="function"?bI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var jc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Uc(n){return Z(n?.then)}function Bc(n){return Z(n[ji])}function $c(n){return Symbol.asyncIterator&&Z(n?.[Symbol.asyncIterator])}function Hc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zc=GA();function qc(n){return Z(n?.[zc])}function Gc(n){return DI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield jr(t.read());if(i)return yield jr(void 0);yield yield jr(r)}}finally{t.releaseLock()}})}function Wc(n){return Z(n?.getReader)}function Ze(n){if(n instanceof ue)return n;if(n!=null){if(Bc(n))return WA(n);if(jc(n))return KA(n);if(Uc(n))return QA(n);if($c(n))return AI(n);if(qc(n))return YA(n);if(Wc(n))return ZA(n)}throw Hc(n)}function WA(n){return new ue(e=>{let t=n[ji]();if(Z(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KA(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function QA(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,xc)})}function YA(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function AI(n){return new ue(e=>{JA(n,e).catch(t=>e.error(t))})}function ZA(n){return AI(Gc(n))}function JA(n,e){var t,r,i,o;return TI(this,void 0,void 0,function*(){try{for(t=SI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function wt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function cr(n,e=0){return le((t,r)=>{t.subscribe(de(r,i=>wt(r,n,()=>r.next(i),e),()=>wt(r,n,()=>r.complete(),e),i=>wt(r,n,()=>r.error(i),e)))})}function ur(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function MI(n,e){return Ze(n).pipe(ur(e),cr(e))}function RI(n,e){return Ze(n).pipe(ur(e),cr(e))}function PI(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function xI(n,e){return new ue(t=>{let r;return wt(t,e,()=>{r=n[zc](),wt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function Kc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{wt(t,e,()=>{let r=n[Symbol.asyncIterator]();wt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function OI(n,e){return Kc(Gc(n),e)}function NI(n,e){if(n!=null){if(Bc(n))return MI(n,e);if(jc(n))return PI(n,e);if(Uc(n))return RI(n,e);if($c(n))return Kc(n,e);if(qc(n))return xI(n,e);if(Wc(n))return OI(n,e)}throw Hc(n)}function Pe(n,e){return e?NI(n,e):Ze(n)}function W(...n){let e=ar(n);return Pe(n,e)}function qi(n,e){let t=Z(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function lf(n){return!!n&&(n instanceof ue||Z(n.lift)&&Z(n.subscribe))}var kn=ki(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function te(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:XA}=Array;function eM(n,e){return XA(e)?n(...e):n(e)}function kI(n){return te(e=>eM(n,e))}var{isArray:tM}=Array,{getPrototypeOf:nM,prototype:rM,keys:iM}=Object;function LI(n){if(n.length===1){let e=n[0];if(tM(e))return{args:e,keys:null};if(oM(e)){let t=iM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function oM(n){return n&&typeof n=="object"&&nM(n)===rM}function FI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ur(...n){let e=ar(n),t=CI(n),{args:r,keys:i}=LI(n);if(r.length===0)return Pe([],e);let o=new ue(sM(r,e,i?s=>FI(i,s):St));return t?o.pipe(kI(t)):o}function sM(n,e,t=St){return r=>{VI(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)VI(e,()=>{let l=Pe(n[u],e),f=!1;l.subscribe(de(r,g=>{o[u]=g,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function VI(n,e,t){n?wt(t,n,e):e()}function jI(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,g=!1,v=()=>{g&&!u.length&&!l&&e.complete()},m=x=>l<r?A(x):u.push(x),A=x=>{o&&e.next(x),l++;let O=!1;Ze(t(x,f++)).subscribe(de(e,q=>{i?.(q),o?m(q):e.next(q)},()=>{O=!0},void 0,()=>{if(O)try{for(l--;u.length&&l<r;){let q=u.shift();s?wt(e,s,()=>A(q)):A(q)}v()}catch(q){e.error(q)}}))};return n.subscribe(de(e,m,()=>{g=!0,v()})),()=>{c?.()}}function Fe(n,e,t=1/0){return Z(e)?Fe((r,i)=>te((o,s)=>e(r,o,i,s))(Ze(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>jI(r,i,n,t)))}function Gi(n=1/0){return Fe(St,n)}function UI(){return Gi(1)}function Wi(...n){return UI()(Pe(n,ar(n)))}function Qc(n){return new ue(e=>{Ze(n()).subscribe(e)})}function Ct(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ln(n){return le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(de(t,void 0,void 0,s=>{o=Ze(n(s,Ln(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function BI(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(de(s,f=>{let g=l++;u=c?n(u,f,g):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function lr(n,e){return Z(e)?Fe(n,e,1):Fe(n,1)}function dr(n){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Fn(n){return n<=0?()=>Et:le((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Yc(n=aM){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function aM(){return new kn}function Rs(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Vn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):St,Fn(1),t?dr(e):Yc(()=>new kn))}function Ki(n){return n<=0?()=>Et:le((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function df(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):St,Ki(1),t?dr(e):Yc(()=>new kn))}function Zc(n,e){return le(BI(n,e,arguments.length>=2,!0))}function Jc(...n){let e=ar(n);return le((t,r)=>{(e?Wi(n,t,e):Wi(n,t)).subscribe(r)})}function Nt(n,e){return le((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(de(r,u=>{i?.unsubscribe();let l=0,f=o++;Ze(n(u,f)).subscribe(i=de(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function hf(n){return le((e,t)=>{Ze(n).subscribe(de(t,()=>t.complete(),As)),!t.closed&&e.subscribe(t)})}function ze(n,e,t){let r=Z(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):St}var SE="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(AE(e,t)),this.code=e}};function cM(n){return`NG0${Math.abs(n)}`}function AE(n,e){return`${cM(n)}${e?": "+e:""}`}var ME=Symbol("InputSignalNode#UNSET"),uM=be(F({},Qh),{transformFn:void 0,applyValueToInputSignal(n,e){Kh(n,e)}});function RE(n,e){let t=Object.create(uM);t.value=n,t.transformFn=e?.transform;function r(){if($h(t),t.value===ME){let i=null;throw new H(-950,i)}return t.value}return r[Ni]=t,r}function Bs(n){return{toString:n}.toString()}var Xc="__parameters__";function lM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function PE(n,e,t){return Bs(()=>{let r=lM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let g=u.hasOwnProperty(Xc)?u[Xc]:Object.defineProperty(u,Xc,{value:[]})[Xc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function At(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(At).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function $I(n,e){return n?e?`${n} ${e}`:n:e||""}var dM=Te({__forward_ref__:Te});function xE(n){return n.__forward_ref__=xE,n.toString=function(){return At(this())},n}function Lt(n){return OE(n)?n():n}function OE(n){return typeof n=="function"&&n.hasOwnProperty(dM)&&n.__forward_ref__===xE}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $s(n){return{providers:n.providers||[],imports:n.imports||[]}}function Au(n){return HI(n,kE)||HI(n,LE)}function NE(n){return Au(n)!==null}function HI(n,e){return n.hasOwnProperty(e)?n[e]:null}function hM(n){let e=n&&(n[kE]||n[LE]);return e||null}function zI(n){return n&&(n.hasOwnProperty(qI)||n.hasOwnProperty(fM))?n[qI]:null}var kE=Te({\u0275prov:Te}),qI=Te({\u0275inj:Te}),LE=Te({ngInjectableDef:Te}),fM=Te({ngInjectorDef:Te}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function FE(n){return n&&!!n.\u0275providers}var pM=Te({\u0275cmp:Te}),gM=Te({\u0275dir:Te}),mM=Te({\u0275pipe:Te}),yM=Te({\u0275mod:Te}),su=Te({\u0275fac:Te}),Ns=Te({__NG_ELEMENT_ID__:Te}),GI=Te({__NG_ENV_ID__:Te});function dp(n){return typeof n=="string"?n:n==null?"":String(n)}function vM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():dp(n)}function VE(n,e){throw new H(-200,n)}function hp(n,e){throw new H(-201,!1)}var ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ne||{}),If;function jE(){return If}function kt(n){let e=If;return If=n,e}function UE(n,e,t){let r=Au(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ne.Optional)return null;if(e!==void 0)return e;hp(n,"Injector")}var _M={},Br=_M,Ef="__NG_DI_FLAG__",au=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Mc:Br,r)}},cu="ngTempTokenPath",IM="ngTokenPath",EM=/\n/gm,wM="\u0275",WI="__source";function CM(n,e=ne.Default){if(Ss()===void 0)throw new H(-203,!1);if(Ss()===null)return UE(n,void 0,e);{let t=Ss(),r;return t instanceof au?r=t.injector:r=t,r.get(n,e&ne.Optional?null:void 0,e)}}function K(n,e=ne.Default){return(jE()||CM)(Lt(n),e)}function M(n,e=ne.Default){return K(n,Mu(e))}function Mu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wf(n){let e=[];for(let t=0;t<n.length;t++){let r=Lt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let c=r[s],u=bM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(K(i,o))}else e.push(K(r))}return e}function BE(n,e){return n[Ef]=e,n.prototype[Ef]=e,n}function bM(n){return n[Ef]}function TM(n,e,t,r){let i=n[cu];throw e[WI]&&i.unshift(e[WI]),n.message=DM(`
`+n.message,i,t,r),n[IM]=i,n[cu]=null,n}function DM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==wM?n.slice(2):n;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):At(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(EM,`
  `)}`}var Bn=BE(PE("Optional"),8);var SM=BE(PE("SkipSelf"),4);function to(n,e){let t=n.hasOwnProperty(su);return t?n[su]:null}function AM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function MM(n){return n.flat(Number.POSITIVE_INFINITY)}function fp(n,e){n.forEach(t=>Array.isArray(t)?fp(t,e):e(t))}function $E(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function uu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var no={},dn=[],ks=new z(""),HE=new z("",-1),zE=new z(""),lu=class{get(e,t=Br){if(t===Br){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return t}};function qE(n,e){let t=n[yM]||null;if(!t&&e===!0)throw new Error(`Type ${At(n)} does not have '\u0275mod' property.`);return t}function Hr(n){return n[pM]||null}function RM(n){return n[gM]||null}function PM(n){return n[mM]||null}function Zr(n){return{\u0275providers:n}}function xM(...n){return{\u0275providers:GE(!0,n),\u0275fromNgModule:!0}}function GE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return fp(e,s=>{let c=s;Cf(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&WE(i,o),t}function WE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];pp(i,o=>{e(o,r)})}}function Cf(n,e,t,r){if(n=Lt(n),!n)return!1;let i=null,o=zI(n),s=!o&&Hr(n);if(!o&&!s){let u=n.ngModule;if(o=zI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Cf(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{fp(o.imports,f=>{Cf(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&WE(l,e)}if(!c){let l=to(i)||(()=>new i);e({provide:i,useFactory:l,deps:dn},i),e({provide:zE,useValue:i,multi:!0},i),e({provide:ks,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;pp(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function pp(n,e){for(let t of n)FE(t)&&(t=t.\u0275providers),Array.isArray(t)?pp(t,e):e(t)}var OM=Te({provide:String,useValue:Te});function KE(n){return n!==null&&typeof n=="object"&&OM in n}function NM(n){return!!(n&&n.useExisting)}function kM(n){return!!(n&&n.useFactory)}function bf(n){return typeof n=="function"}var Ru=new z(""),eu={},KI={},ff;function gp(){return ff===void 0&&(ff=new lu),ff}var ut=class{},Ls=class extends ut{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Df(e,s=>this.processProvider(s)),this.records.set(HE,Qi(void 0,this)),i.has("environment")&&this.records.set(ut,Qi(void 0,this));let o=this.records.get(Ru);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zE,dn,ne.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Mc:Br,r)}destroy(){xs(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return xs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){xs(this);let t=Nn(this),r=kt(void 0),i;try{return e()}finally{Nn(t),kt(r)}}get(e,t=Br,r=ne.Default){if(xs(this),e.hasOwnProperty(GI))return e[GI](this);r=Mu(r);let i,o=Nn(this),s=kt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=BM(e)&&Au(e);l&&this.injectableDefInScope(l)?u=Qi(Tf(e),eu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ne.Self?gp():this.parent;return t=r&ne.Optional&&t===Br?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[cu]=c[cu]||[]).unshift(At(e)),o)throw c;return TM(c,e,"R3InjectorError",this.source)}else throw c}finally{kt(s),Nn(o)}}resolveInjectorInitializers(){let e=pe(null),t=Nn(this),r=kt(void 0),i;try{let o=this.get(ks,dn,ne.Self);for(let s of o)s()}finally{Nn(t),kt(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Lt(e);let t=bf(e)?e:Lt(e&&e.provide),r=FM(e);if(!bf(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Qi(void 0,eu,!0),i.factory=()=>wf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=pe(null);try{return t.value===KI?VE(At(e)):t.value===eu&&(t.value=KI,t.value=t.factory()),typeof t.value=="object"&&t.value&&UM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Lt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Tf(n){let e=Au(n),t=e!==null?e.factory:to(n);if(t!==null)return t;if(n instanceof z)throw new H(204,!1);if(n instanceof Function)return LM(n);throw new H(204,!1)}function LM(n){if(n.length>0)throw new H(204,!1);let t=hM(n);return t!==null?()=>t.factory(n):()=>new n}function FM(n){if(KE(n))return Qi(void 0,n.useValue);{let e=VM(n);return Qi(e,eu)}}function VM(n,e,t){let r;if(bf(n)){let i=Lt(n);return to(i)||Tf(i)}else if(KE(n))r=()=>Lt(n.useValue);else if(kM(n))r=()=>n.useFactory(...wf(n.deps||[]));else if(NM(n))r=()=>K(Lt(n.useExisting));else{let i=Lt(n&&(n.useClass||n.provide));if(jM(n))r=()=>new i(...wf(n.deps));else return to(i)||Tf(i)}return r}function xs(n){if(n.destroyed)throw new H(205,!1)}function Qi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jM(n){return!!n.deps}function UM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function BM(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function Df(n,e){for(let t of n)Array.isArray(t)?Df(t,e):t&&FE(t)?Df(t.\u0275providers,e):e(t)}function dt(n,e){let t;n instanceof Ls?(xs(n),t=n):t=new au(n);let r,i=Nn(t),o=kt(void 0);try{return e()}finally{Nn(i),kt(o)}}function QE(){return jE()!==void 0||Ss()!=null}function mp(n){if(!QE())throw new H(-203,!1)}function $M(n){return typeof n=="function"}var $n=0,se=1,Q=2,lt=3,Kt=4,Yt=5,du=6,hu=7,bt=8,ro=9,jn=10,nt=11,Fs=12,QI=13,lo=14,fn=15,zr=16,Yi=17,Un=18,Pu=19,YE=20,hr=21,pf=22,fu=23,Ft=24,Xi=25,Qt=26,ZE=1;var qr=7,pu=8,io=9,Mt=10;function fr(n){return Array.isArray(n)&&typeof n[ZE]=="object"}function Hn(n){return Array.isArray(n)&&n[ZE]===!0}function yp(n){return(n.flags&4)!==0}function ho(n){return n.componentOffset>-1}function xu(n){return(n.flags&1)===1}function Jr(n){return!!n.template}function gu(n){return(n[Q]&512)!==0}function Hs(n){return(n[Q]&256)===256}var Sf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function JE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ou=(()=>{let n=()=>XE;return n.ngInherit=!0,n})();function XE(n){return n.type.prototype.ngOnChanges&&(n.setInput=zM),HM}function HM(){let n=tw(this),e=n?.current;if(e){let t=n.previous;if(t===no)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function zM(n,e,t,r,i){let o=this.declaredInputs[r],s=tw(n)||qM(n,{previous:no,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Sf(l&&l.currentValue,t,u===no),JE(n,e,i,t)}var ew="__ngSimpleChanges__";function tw(n){return n[ew]||null}function qM(n,e){return n[ew]=e}var YI=null;var we=function(n,e=null,t){YI?.(n,e,t)},GM="svg",WM="math";function pn(n){for(;Array.isArray(n);)n=n[$n];return n}function KM(n,e){return pn(e[n])}function zn(n,e){return pn(e[n.index])}function nw(n,e){return n.data[e]}function QM(n,e){return n[e]}function gn(n,e){let t=e[n];return fr(t)?t:t[$n]}function YM(n){return(n[Q]&4)===4}function vp(n){return(n[Q]&128)===128}function ZM(n){return Hn(n[lt])}function oo(n,e){return e==null?null:n[e]}function rw(n){n[Yi]=0}function iw(n){n[Q]&1024||(n[Q]|=1024,vp(n)&&zs(n))}function JM(n,e){for(;n>0;)e=e[lo],n--;return e}function Nu(n){return!!(n[Q]&9216||n[Ft]?.dirty)}function Af(n){n[jn].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),Nu(n)&&zs(n)}function zs(n){n[jn].changeDetectionScheduler?.notify(0);let e=Gr(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!vp(e)));)e=Gr(e)}function ow(n,e){if(Hs(n))throw new H(911,!1);n[hr]===null&&(n[hr]=[]),n[hr].push(e)}function XM(n,e){if(n[hr]===null)return;let t=n[hr].indexOf(e);t!==-1&&n[hr].splice(t,1)}function Gr(n){let e=n[lt];return Hn(e)?e[lt]:e}function _p(n){return n[hu]??=[]}function Ip(n){return n.cleanup??=[]}function eR(n,e,t,r){let i=_p(e);i.push(t),n.firstCreatePass&&Ip(n).push(r,i.length-1)}var ae={lFrame:pw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Mf=!1;function tR(){return ae.lFrame.elementDepthCount}function nR(){ae.lFrame.elementDepthCount++}function rR(){ae.lFrame.elementDepthCount--}function Ep(){return ae.bindingsEnabled}function iR(){return ae.skipHydrationRootTNode!==null}function oR(n){return ae.skipHydrationRootTNode===n}function sR(){ae.skipHydrationRootTNode=null}function De(){return ae.lFrame.lView}function Vt(){return ae.lFrame.tView}function Zt(n){return ae.lFrame.contextLView=n,n[bt]}function Jt(n){return ae.lFrame.contextLView=null,n}function jt(){let n=sw();for(;n!==null&&n.type===64;)n=n.parent;return n}function sw(){return ae.lFrame.currentTNode}function aR(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Xr(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function wp(){return ae.lFrame.isParent}function aw(){ae.lFrame.isParent=!1}function cR(){return ae.lFrame.contextLView}function cw(){return Mf}function ZI(n){let e=Mf;return Mf=n,e}function uw(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function uR(n){return ae.lFrame.bindingIndex=n}function lw(){return ae.lFrame.bindingIndex++}function lR(){return ae.lFrame.inI18n}function dR(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,Rf(e)}function hR(){return ae.lFrame.currentDirectiveIndex}function Rf(n){ae.lFrame.currentDirectiveIndex=n}function dw(){return ae.lFrame.currentQueryIndex}function Cp(n){ae.lFrame.currentQueryIndex=n}function fR(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[Yt]:null}function hw(n,e,t){if(t&ne.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ne.Host);)if(i=fR(o),i===null||(o=o[lo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=fw();return r.currentTNode=e,r.lView=n,!0}function bp(n){let e=fw(),t=n[se];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function fw(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?pw(n):e}function pw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function gw(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var mw=gw;function Tp(){let n=gw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pR(n){return(ae.lFrame.contextLView=JM(n,ae.lFrame.contextLView))[bt]}function Dp(){return ae.lFrame.selectedIndex}function Wr(n){ae.lFrame.selectedIndex=n}function yw(){let n=ae.lFrame;return nw(n.tView,n.selectedIndex)}function gR(){return ae.lFrame.currentNamespace}var vw=!0;function ku(){return vw}function Lu(n){vw=n}function mR(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=XE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Sp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function tu(n,e,t){_w(n,e,3,t)}function nu(n,e,t,r){(n[Q]&3)===t&&_w(n,e,t,r)}function gf(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function _w(n,e,t,r){let i=r!==void 0?n[Yi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Yi]+=65536),(c<o||o==-1)&&(yR(n,t,e,u),n[Yi]=(n[Yi]&4294901760)+u+2),u++}function JI(n,e){we(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),we(5,n,e)}}function yR(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[Q]>>14<n[Yi]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,JI(c,o)):JI(c,o)}var eo=-1,Vs=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function vR(n){return(n.flags&8)!==0}function _R(n){return(n.flags&16)!==0}function IR(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];wR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ER(n){return n===3||n===4||n===6}function wR(n){return n.charCodeAt(0)===64}function Fu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?XI(n,t,i,null,e[++r]):XI(n,t,i,null,null))}}return n}function XI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Iw(n){return n!==eo}function mu(n){return n&32767}function CR(n){return n>>16}function yu(n,e){let t=CR(n),r=e;for(;t>0;)r=r[lo],t--;return r}var Pf=!0;function eE(n){let e=Pf;return Pf=n,e}var bR=256,Ew=bR-1,ww=5,TR=0,hn={};function DR(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ns)&&(r=t[Ns]),r==null&&(r=t[Ns]=TR++);let i=r&Ew,o=1<<i;e.data[n+(i>>ww)]|=o}function Cw(n,e){let t=bw(n,e);if(t!==-1)return t;let r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,mf(r.data,n),mf(e,null),mf(r.blueprint,null));let i=Ap(n,e),o=n.injectorIndex;if(Iw(i)){let s=mu(i),c=yu(i,e),u=c[se].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function mf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ap(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Mw(i),r===null)return eo;if(t++,i=i[lo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return eo}function SR(n,e,t){DR(n,e,t)}function Tw(n,e,t){if(t&ne.Optional||n!==void 0)return n;hp(e,"NodeInjector")}function Dw(n,e,t,r){if(t&ne.Optional&&r===void 0&&(r=null),(t&(ne.Self|ne.Host))===0){let i=n[ro],o=kt(void 0);try{return i?i.get(e,r,t&ne.Optional):UE(e,r,t&ne.Optional)}finally{kt(o)}}return Tw(r,e,t)}function Sw(n,e,t,r=ne.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ne.Self)){let s=PR(n,e,t,r,hn);if(s!==hn)return s}let o=Aw(n,e,t,r,hn);if(o!==hn)return o}return Dw(e,t,r,i)}function Aw(n,e,t,r,i){let o=MR(t);if(typeof o=="function"){if(!hw(e,n,r))return r&ne.Host?Tw(i,t,r):Dw(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))hp(t);else return s}finally{mw()}}else if(typeof o=="number"){let s=null,c=bw(n,e),u=eo,l=r&ne.Host?e[fn][Yt]:null;for((c===-1||r&ne.SkipSelf)&&(u=c===-1?Ap(n,e):e[c+8],u===eo||!nE(r,!1)?c=-1:(s=e[se],c=mu(u),e=yu(u,e)));c!==-1;){let f=e[se];if(tE(o,c,f.data)){let g=AR(c,e,t,s,r,l);if(g!==hn)return g}u=e[c+8],u!==eo&&nE(r,e[se].data[c+8]===l)&&tE(o,c,e)?(s=f,c=mu(u),e=yu(u,e)):c=-1}}return i}function AR(n,e,t,r,i,o){let s=e[se],c=s.data[n+8],u=r==null?ho(c)&&Pf:r!=s&&(c.type&3)!==0,l=i&ne.Host&&o===c,f=ru(c,s,t,u,l);return f!==null?vu(e,s,f,c):hn}function ru(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,g=r?c:c+f,v=i?c+f:l;for(let m=g;m<v;m++){let A=s[m];if(m<u&&t===A||m>=u&&A.type===t)return m}if(i){let m=s[u];if(m&&Jr(m)&&m.type===t)return u}return null}function vu(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Vs){let s=i;s.resolving&&VE(vM(o[t]));let c=eE(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?kt(s.injectImpl):null,f=hw(n,r,ne.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&mR(t,o[t],e)}finally{l!==null&&kt(l),eE(c),s.resolving=!1,mw()}}return i}function MR(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ns)?n[Ns]:void 0;return typeof e=="number"?e>=0?e&Ew:RR:e}function tE(n,e,t){let r=1<<n;return!!(t[e+(n>>ww)]&r)}function nE(n,e){return!(n&ne.Self)&&!(n&ne.Host&&e)}var $r=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Sw(this._tNode,this._lView,e,Mu(r),t)}};function RR(){return new $r(jt(),De())}function Mp(n){return Bs(()=>{let e=n.prototype.constructor,t=e[su]||xf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[su]||xf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xf(n){return OE(n)?()=>{let e=xf(Lt(n));return e&&e()}:to(n)}function PR(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!gu(s);){let c=Aw(o,s,t,r|ne.Self,hn);if(c!==hn)return c;let u=o.parent;if(!u){let l=s[YE];if(l){let f=l.get(t,hn,r);if(f!==hn)return f}u=Mw(s),s=s[lo]}o=u}return i}function Mw(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[Yt]:null}function rE(n,e=null,t=null,r){let i=Rw(n,e,t,r);return i.resolveInjectorInitializers(),i}function Rw(n,e=null,t=null,r,i=new Set){let o=[t||dn,xM(n)];return r=r||(typeof n=="object"?void 0:At(n)),new Ls(o,e||gp(),r||null,i)}var rt=class n{static THROW_IF_NOT_FOUND=Br;static NULL=new lu;static create(e,t){if(Array.isArray(e))return rE({name:""},t,e,"");{let r=e.name??"";return rE({name:r},e.parent,e.providers,r)}}static \u0275prov=V({token:n,providedIn:"any",factory:()=>K(HE)});static __NG_ELEMENT_ID__=-1};var xR=new z("");xR.__NG_ELEMENT_ID__=n=>{let e=jt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&ne.Optional)return null;throw new H(204,!1)};var Pw=!1,fo=(()=>{class n{static __NG_ELEMENT_ID__=OR;static __NG_ENV_ID__=t=>t}return n})(),Of=class extends fo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return ow(this._lView,e),()=>XM(this._lView,e)}};function OR(){return new Of(De())}var Kr=class{},Rp=new z("",{providedIn:"root",factory:()=>!1});var xw=new z(""),Ow=new z(""),ei=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new He(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vu=(()=>{class n{internalPendingTasks=M(ei);scheduler=M(Kr);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return D(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Nf=class extends $e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,QE()&&(this.destroyRef=M(fo,{optional:!0})??void 0,this.pendingTasks=M(ei,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},ct=Nf;function _u(...n){}function Nw(n){let e,t;function r(){n=_u;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function iE(n){return queueMicrotask(()=>n()),()=>{n=_u}}var Pp="isAngularZone",Iu=Pp+"_ID",NR=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ct(!1);onMicrotaskEmpty=new ct(!1);onStable=new ct(!1);onError=new ct(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Pw}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,FR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,kR,_u,_u);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},kR={};function xp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function LR(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Nw(()=>{n.callbackScheduled=!1,kf(n),n.isCheckStableRunning=!0,xp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),kf(n)}function FR(n){let e=()=>{LR(n)},t=NR++;n._inner=n._inner.fork({name:"angular",properties:{[Pp]:!0,[Iu]:t,[Iu+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(VR(u))return r.invokeTask(o,s,c,u);try{return oE(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),sE(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return oE(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!jR(u)&&e(),sE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,kf(n),xp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function kf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function oE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sE(n){n._nesting--,xp(n)}var Lf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ct;onMicrotaskEmpty=new ct;onStable=new ct;onError=new ct;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function VR(n){return kw(n,"__ignore_ng_zone__")}function jR(n){return kw(n,"__scheduler_tick__")}function kw(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var mn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},UR=new z("",{providedIn:"root",factory:()=>{let n=M(Ee),e=M(mn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function aE(n,e){return RE(n,e)}function BR(n){return RE(ME,n)}var Lw=(aE.required=BR,aE);function $R(){return po(jt(),De())}function po(n,e){return new pr(zn(n,e))}var pr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=$R}return n})();function HR(n){return n instanceof pr?n.nativeElement:n}function zR(){return this._results[Symbol.iterator]()}var Ff=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new $e}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=MM(e);(this._changesDetected=!AM(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=zR};function Fw(n){return(n.flags&128)===128}var Vw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Vw||{}),jw=new Map,qR=0;function GR(){return qR++}function WR(n){jw.set(n[Pu],n)}function Vf(n){jw.delete(n[Pu])}var cE="__ngContext__";function go(n,e){fr(e)?(n[cE]=e[Pu],WR(e)):n[cE]=e}function Uw(n){return $w(n[Fs])}function Bw(n){return $w(n[Kt])}function $w(n){for(;n!==null&&!Hn(n);)n=n[Kt];return n}var jf;function Hw(n){jf=n}function KR(){if(jf!==void 0)return jf;if(typeof document<"u")return document;throw new H(210,!1)}var Op=new z("",{providedIn:"root",factory:()=>QR}),QR="ng",Np=new z(""),gr=new z("",{providedIn:"platform",factory:()=>"unknown"});var kp=new z("",{providedIn:"root",factory:()=>KR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YR="h",ZR="b";var zw=!1,JR=new z("",{providedIn:"root",factory:()=>zw});var Lp=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Lp||{}),mo=new z(""),uE=new Set;function ju(n){uE.has(n)||(uE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var qw=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=XR}return n})();function XR(){return new qw(De(),jt())}var Zi=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Zi||{}),Gw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),eP=[Zi.EarlyRead,Zi.Write,Zi.MixedReadWrite,Zi.Read],tP=(()=>{class n{ngZone=M(Ee);scheduler=M(Kr);errorHandler=M(mn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(mo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&we(16),this.executing=!0;for(let r of eP)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&we(17)}register(t){let{view:r}=t;r!==void 0?((r[Xi]??=[]).push(t),zs(r),r[Q]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Lp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=V({token:n,providedIn:"root",factory:()=>new n})}return n})(),Uf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Xi];e&&(this.view[Xi]=e.filter(t=>t!==this))}};function Fp(n,e){!e?.injector&&mp(Fp);let t=e?.injector??M(rt);return ju("NgAfterNextRender"),rP(n,t,e,!0)}function nP(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function rP(n,e,t,r){let i=e.get(Gw);i.impl??=e.get(tP);let o=e.get(mo,null,{optional:!0}),s=t?.phase??Zi.MixedReadWrite,c=t?.manualCleanup!==!0?e.get(fo):null,u=e.get(qw,null,{optional:!0}),l=new Uf(i.impl,nP(n,s),u?.view,r,c,o?.snapshot(null));return i.impl.register(l),l}var iP=()=>null;function Ww(n,e,t=!1){return iP(n,e,t)}function Kw(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Cp(o),c.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Bf(n,e,t){Cp(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function Vp(n,e,t){if(yp(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{pe(r)}}}var yn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(yn||{});var Eu=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SE})`}};function Qw(n){return n instanceof Eu?n.changingThisBreaksApplicationSecurity:n}function oP(n,e){let t=sP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${SE})`)}return t===e}function sP(n){return n instanceof Eu&&n.getTypeName()||null}var aP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cP(n){return n=String(n),n.match(aP)?n:"unsafe:"+n}var Yw=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Yw||{});function ti(n){let e=uP();return e?e.sanitize(Yw.URL,n)||"":oP(n,"URL")?Qw(n):cP(dp(n))}function uP(){let n=De();return n&&n[jn].sanitizer}var lP=/^>|^->|<!--|-->|--!>|<!-$/g,dP=/(<|>)/g,hP="\u200B$1\u200B";function fP(n){return n.replace(lP,e=>e.replace(dP,hP))}function Zw(n){return n instanceof Function?n():n}function pP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Jw="ng-template";function gP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&pP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(jp(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function jp(n){return n.type===4&&n.value!==Jw}function mP(n,e,t){let r=n.type===4&&!t?Jw:n.value;return e===r}function yP(n,e,t){let r=4,i=n.attrs,o=i!==null?IP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Wt(r)&&!Wt(u))return!1;if(s&&Wt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!mP(n,u,t)||u===""&&e.length===1){if(Wt(r))return!1;s=!0}}else if(r&8){if(i===null||!gP(n,i,u,t)){if(Wt(r))return!1;s=!0}}else{let l=e[++c],f=vP(u,i,jp(n),t);if(f===-1){if(Wt(r))return!1;s=!0;continue}if(l!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(Wt(r))return!1;s=!0}}}}return Wt(r)||s}function Wt(n){return(n&1)===0}function vP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return EP(e,n)}function _P(n,e,t=!1){for(let r=0;r<e.length;r++)if(yP(n,e[r],t))return!0;return!1}function IP(n){for(let e=0;e<n.length;e++){let t=n[e];if(ER(t))return e}return n.length}function EP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function lE(n,e){return n?":not("+e.trim()+")":e}function wP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Wt(s)&&(e+=lE(o,i),i=""),r=s,o=o||!Wt(r);t++}return i!==""&&(e+=lE(o,i)),e}function CP(n){return n.map(wP).join(",")}function bP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Wt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var yo={};function TP(n,e){return n.createText(e)}function DP(n,e,t){n.setValue(e,t)}function SP(n,e){return n.createComment(fP(e))}function Xw(n,e,t){return n.createElement(e,t)}function wu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function eC(n,e,t){n.appendChild(e,t)}function dE(n,e,t,r,i){r!==null?wu(n,e,t,r,i):eC(n,e,t)}function AP(n,e,t){n.removeChild(null,e,t)}function MP(n,e,t){n.setAttribute(e,"style",t)}function RP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function tC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&IR(n,e,r),i!==null&&RP(n,e,i),o!==null&&MP(n,e,o)}function Up(n,e,t,r,i,o,s,c,u,l,f){let g=Qt+r,v=g+i,m=PP(g,v),A=typeof l=="function"?l():l;return m[se]={type:n,blueprint:m,template:t,queries:null,viewQuery:c,declTNode:e,data:m.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function PP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:yo);return t}function xP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Up(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Bp(n,e,t,r,i,o,s,c,u,l,f){let g=e.blueprint.slice();return g[$n]=i,g[Q]=r|4|128|8|64|1024,(l!==null||n&&n[Q]&2048)&&(g[Q]|=2048),rw(g),g[lt]=g[lo]=n,g[bt]=t,g[jn]=s||n&&n[jn],g[nt]=c||n&&n[nt],g[ro]=u||n&&n[ro]||null,g[Yt]=o,g[Pu]=GR(),g[du]=f,g[YE]=l,g[fn]=e.type==2?n[fn]:g,g}function OP(n,e,t){let r=zn(e,n),i=xP(t),o=n[jn].rendererFactory,s=$p(n,Bp(n,i,null,nC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function nC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function rC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function $p(n,e){return n[Fs]?n[QI][Kt]=e:n[Fs]=e,n[QI]=e,e}function $(n=1){iC(Vt(),De(),Dp()+n,!1)}function iC(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&tu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&nu(e,o,0,t)}Wr(t)}var Uu=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Uu||{});function $f(n,e,t,r){let i=pe(null);try{let[o,s,c]=n.inputs[t],u=null;(s&Uu.SignalBased)!==0&&(u=e[o][Ni]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):JE(e,u,o,r)}finally{pe(i)}}function oC(n,e,t,r,i){let o=Dp(),s=r&2;try{Wr(-1),s&&e.length>Qt&&iC(n,e,Qt,!1),we(s?2:0,i),t(r,i)}finally{Wr(o),we(s?3:1,i)}}function Bu(n,e,t){jP(n,e,t),(t.flags&64)===64&&UP(n,e,t)}function Hp(n,e,t=zn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function NP(n,e,t,r){let o=r.get(JR,zw)||t===yn.ShadowDom,s=n.selectRootElement(e,o);return kP(s),s}function kP(n){LP(n)}var LP=()=>null;function FP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function sC(n,e,t,r,i,o,s,c){if(!c&&qp(e,n,t,r,i)){ho(e)&&VP(t,e.index);return}if(e.type&3){let u=zn(e,t);r=FP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function VP(n,e){let t=gn(e,n);t[Q]&16||(t[Q]|=64)}function jP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ho(t)&&OP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Cw(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=vu(e,n,s,t);if(go(u,e),o!==null&&$P(e,s-r,u,c,t,o),Jr(c)){let l=gn(t.index,e);l[bt]=vu(e,n,s,t)}}}function UP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=hR();try{Wr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Rf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&BP(u,l)}}finally{Wr(-1),Rf(s)}}function BP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function zp(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];_P(e,o.selectors,!1)&&(r??=[],Jr(o)?r.unshift(o):r.push(o))}return r}function $P(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];$f(r,t,u,l)}}function HP(n,e){let t=n[ro],r=t?t.get(mn,null):null;r&&r.handleError(e)}function qp(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],g=e.data[l];$f(g,t[l],f,i),c=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];$f(f,l,r,i),c=!0}return c}function zP(n,e){let t=gn(e,n),r=t[se];qP(r,t);let i=t[$n];i!==null&&t[du]===null&&(t[du]=Ww(i,t[ro])),we(18),Gp(r,t,t[bt]),we(19,t[bt])}function qP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Gp(n,e,t){bp(e);try{let r=n.viewQuery;r!==null&&Bf(1,r,t);let i=n.template;i!==null&&oC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Un]?.finishViewCreation(n),n.staticContentQueries&&Kw(n,e),n.staticViewQueries&&Bf(2,n.viewQuery,t);let o=n.components;o!==null&&GP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,Tp()}}function GP(n,e){for(let t=0;t<e.length;t++)zP(n,e[t])}function WP(n,e,t,r){let i=pe(null);try{let o=e.tView,c=n[Q]&4096?4096:16,u=Bp(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[zr]=l;let f=n[Un];return f!==null&&(u[Un]=f.createEmbeddedView(o)),Gp(o,u,t),u}finally{pe(i)}}function hE(n,e){return!e||e.firstChild===null||Fw(n)}var KP;function Wp(n,e){return KP(n,e)}var ni=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ni||{});function aC(n){return(n.flags&32)===32}function Ji(n,e,t,r,i){if(r!=null){let o,s=!1;Hn(r)?o=r:fr(r)&&(s=!0,r=r[$n]);let c=pn(r);n===0&&t!==null?i==null?eC(e,t,c):wu(e,t,c,i||null,!0):n===1&&t!==null?wu(e,t,c,i||null,!0):n===2?AP(e,c,s):n===3&&e.destroyNode(c),o!=null&&sx(e,n,o,t,i)}}function QP(n,e){cC(n,e),e[$n]=null,e[Yt]=null}function YP(n,e,t,r,i,o){r[$n]=i,r[Yt]=e,Hu(n,r,t,1,i,o)}function cC(n,e){e[jn].changeDetectionScheduler?.notify(9),Hu(n,e,e[nt],2,null,null)}function ZP(n){let e=n[Fs];if(!e)return yf(n[se],n);for(;e;){let t=null;if(fr(e))t=e[Fs];else{let r=e[Mt];r&&(t=r)}if(!t){for(;e&&!e[Kt]&&e!==n;)fr(e)&&yf(e[se],e),e=e[lt];e===null&&(e=n),fr(e)&&yf(e[se],e),t=e&&e[Kt]}e=t}}function Kp(n,e){let t=n[io],r=t.indexOf(e);t.splice(r,1)}function uC(n,e){if(Hs(e))return;let t=e[nt];t.destroyNode&&Hu(n,e,t,3,null,null),ZP(e)}function yf(n,e){if(Hs(e))return;let t=pe(null);try{e[Q]&=-129,e[Q]|=256,e[Ft]&&Gh(e[Ft]),XP(n,e),JP(n,e),e[se].type===1&&e[nt].destroy();let r=e[zr];if(r!==null&&Hn(e[lt])){r!==e[lt]&&Kp(r,e);let i=e[Un];i!==null&&i.detachView(n)}Vf(e)}finally{pe(t)}}function JP(n,e){let t=n.cleanup,r=e[hu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[hu]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[fu];if(o!==null){e[fu]=null;for(let s of o)s.destroy()}}function XP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Vs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];we(4,c,u);try{u.call(c)}finally{we(5,c,u)}}else{we(4,i,o);try{o.call(i)}finally{we(5,i,o)}}}}}function ex(n,e,t){return tx(n,e.parent,t)}function tx(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[$n];if(ho(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===yn.None||i===yn.Emulated)return null}return zn(r,t)}function nx(n,e,t){return ix(n,e,t)}function rx(n,e,t){return n.type&40?zn(n,t):null}var ix=rx,fE;function $u(n,e,t,r){let i=ex(n,r,e),o=e[nt],s=r.parent||e[Yt],c=nx(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)dE(o,i,t[u],c,!1);else dE(o,i,t,c,!1);fE!==void 0&&fE(o,r,e,t,i)}function Os(n,e){if(e!==null){let t=e.type;if(t&3)return zn(e,n);if(t&4)return Hf(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Os(n,r);{let i=n[e.index];return Hn(i)?Hf(-1,i):pn(i)}}else{if(t&128)return Os(n,e.next);if(t&32)return Wp(e,n)()||pn(n[e.index]);{let r=lC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gr(n[fn]);return Os(i,r)}else return Os(n,e.next)}}}return null}function lC(n,e){if(e!==null){let r=n[fn][Yt],i=e.projection;return r.projection[i]}return null}function Hf(n,e){let t=Mt+n+1;if(t<e.length){let r=e[t],i=r[se].firstChild;if(i!==null)return Os(r,i)}return e[qr]}function Qp(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&go(pn(c),r),t.flags|=2),!aC(t))if(u&8)Qp(n,e,t.child,r,i,o,!1),Ji(e,n,i,c,o);else if(u&32){let l=Wp(t,r),f;for(;f=l();)Ji(e,n,i,f,o);Ji(e,n,i,c,o)}else u&16?ox(n,e,r,t,i,o):Ji(e,n,i,c,o);t=s?t.projectionNext:t.next}}function Hu(n,e,t,r,i,o){Qp(t,r,n.firstChild,e,i,o,!1)}function ox(n,e,t,r,i,o){let s=t[fn],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Ji(e,n,i,f,o)}else{let l=u,f=s[lt];Fw(r)&&(l.flags|=128),Qp(n,e,l,f,i,o,!0)}}function sx(n,e,t,r,i){let o=t[qr],s=pn(t);o!==s&&Ji(e,n,r,o,i);for(let c=Mt;c<t.length;c++){let u=t[c];Hu(u[se],u,n,e,r,o)}}function Cu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(pn(o)),Hn(o)&&ax(o,r);let s=t.type;if(s&8)Cu(n,e,t.child,r);else if(s&32){let c=Wp(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=lC(e,t);if(Array.isArray(c))r.push(...c);else{let u=Gr(e[fn]);Cu(u[se],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function ax(n,e){for(let t=Mt;t<n.length;t++){let r=n[t],i=r[se].firstChild;i!==null&&Cu(r[se],r,i,e)}n[qr]!==n[$n]&&e.push(n[qr])}function dC(n){if(n[Xi]!==null){for(let e of n[Xi])e.impl.addSequence(e);n[Xi].length=0}}var hC=[];function cx(n){return n[Ft]??ux(n)}function ux(n){let e=hC.pop()??Object.create(dx);return e.lView=n,e}function lx(n){n.lView[Ft]!==n&&(n.lView=null,hC.push(n))}var dx=be(F({},Dc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{zs(n.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function hx(n){let e=n[Ft]??Object.create(fx);return e.lView=n,e}var fx=be(F({},Dc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Gr(n.lView);for(;e&&!fC(e[se]);)e=Gr(e);e&&iw(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function fC(n){return n.type!==2}function pC(n){if(n[fu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[fu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Q]&8192)}}var px=100;function gC(n,e=!0,t=0){let i=n[jn].rendererFactory,o=!1;o||i.begin?.();try{gx(n,t)}catch(s){throw e&&HP(n,s),s}finally{o||i.end?.()}}function gx(n,e){let t=cw();try{ZI(!0),zf(n,e);let r=0;for(;Nu(n);){if(r===px)throw new H(103,!1);r++,zf(n,1)}}finally{ZI(t)}}function mx(n,e,t,r){if(Hs(e))return;let i=e[Q],o=!1,s=!1;bp(e);let c=!0,u=null,l=null;o||(fC(n)?(l=cx(e),u=zh(l)):Bh()===null?(c=!1,l=hx(e),u=zh(l)):e[Ft]&&(Gh(e[Ft]),e[Ft]=null));try{rw(e),uR(n.bindingStartIndex),t!==null&&oC(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let m=n.preOrderCheckHooks;m!==null&&tu(e,m,null)}else{let m=n.preOrderHooks;m!==null&&nu(e,m,0,null),gf(e,0)}if(s||yx(e),pC(e),mC(e,0),n.contentQueries!==null&&Kw(n,e),!o)if(f){let m=n.contentCheckHooks;m!==null&&tu(e,m)}else{let m=n.contentHooks;m!==null&&nu(e,m,1),gf(e,1)}_x(n,e);let g=n.components;g!==null&&vC(e,g,0);let v=n.viewQuery;if(v!==null&&Bf(2,v,r),!o)if(f){let m=n.viewCheckHooks;m!==null&&tu(e,m)}else{let m=n.viewHooks;m!==null&&nu(e,m,2),gf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[pf]){for(let m of e[pf])m();e[pf]=null}o||(dC(e),e[Q]&=-73)}catch(f){throw o||zs(e),f}finally{l!==null&&(uI(l,u),c&&lx(l)),Tp()}}function mC(n,e){for(let t=Uw(n);t!==null;t=Bw(t))for(let r=Mt;r<t.length;r++){let i=t[r];yC(i,e)}}function yx(n){for(let e=Uw(n);e!==null;e=Bw(e)){if(!(e[Q]&2))continue;let t=e[io];for(let r=0;r<t.length;r++){let i=t[r];iw(i)}}}function vx(n,e,t){we(18);let r=gn(e,n);yC(r,t),we(19,r[bt])}function yC(n,e){vp(n)&&zf(n,e)}function zf(n,e){let r=n[se],i=n[Q],o=n[Ft],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&qh(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)mx(r,n,r.template,n[bt]);else if(i&8192){pC(n),mC(n,1);let c=r.components;c!==null&&vC(n,c,1),dC(n)}}function vC(n,e,t){for(let r=0;r<e.length;r++)vx(n,e[r],t)}function _x(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Wr(~i);else{let o=i,s=t[++r],c=t[++r];dR(s,o);let u=e[o];we(24,u),c(2,u),we(25,u)}}}finally{Wr(-1)}}function Yp(n,e){let t=cw()?64:1088;for(n[jn].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=Gr(n);if(gu(n)&&!r)return n;n=r}return null}function _C(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Ix(n,e,t,r=!0){let i=e[se];if(Ex(i,e,n,t),r){let s=Hf(t,n),c=e[nt],u=c.parentNode(n[qr]);u!==null&&YP(i,n[Yt],c,e,u,s)}let o=e[du];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qf(n,e){if(n.length<=Mt)return;let t=Mt+e,r=n[t];if(r){let i=r[zr];i!==null&&i!==n&&Kp(i,r),e>0&&(n[t-1][Kt]=r[Kt]);let o=uu(n,Mt+e);QP(r[se],r);let s=o[Un];s!==null&&s.detachView(o[se]),r[lt]=null,r[Kt]=null,r[Q]&=-129}return r}function Ex(n,e,t,r){let i=Mt+r,o=t.length;r>0&&(t[i-1][Kt]=e),r<o-Mt?(e[Kt]=t[i],$E(t,Mt+r,e)):(t.push(e),e[Kt]=null),e[lt]=t;let s=e[zr];s!==null&&t!==s&&IC(s,e);let c=e[Un];c!==null&&c.insertView(n),Af(e),e[Q]|=128}function IC(n,e){let t=n[io],r=e[lt];if(fr(r))n[Q]|=2;else{let i=r[lt][fn];e[fn]!==i&&(n[Q]|=2)}t===null?n[io]=[e]:t.push(e)}var js=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[se];return Cu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[bt]}set context(e){this._lView[bt]=e}get destroyed(){return Hs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(Hn(e)){let t=e[pu],r=t?t.indexOf(this):-1;r>-1&&(qf(e,r),uu(t,r))}this._attachedToViewContainer=!1}uC(this._lView[se],this._lView)}onDestroy(e){ow(this._lView,e)}markForCheck(){Yp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Af(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,gC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gu(this._lView),t=this._lView[zr];t!==null&&!e&&Kp(t,this._lView),cC(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=gu(this._lView),r=this._lView[zr];r!==null&&!t&&IC(r,this._lView),Af(this._lView)}};var Qr=(()=>{class n{static __NG_ELEMENT_ID__=bx}return n})(),wx=Qr,Cx=class extends wx{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=WP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new js(i)}};function bx(){return zu(jt(),De())}function zu(n,e){return n.type&4?new Cx(e,n,po(n,e)):null}function qu(n,e,t,r,i){let o=n.data[e];if(o===null)o=Tx(n,e,t,r,i),lR()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=aR();o.injectorIndex=s===null?-1:s.injectorIndex}return Xr(o,!0),o}function Tx(n,e,t,r,i){let o=sw(),s=wp(),c=s?o:o&&o.parent,u=n.data[e]=Sx(n,c,t,e,r,i);return Dx(n,u,o,s),u}function Dx(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Sx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return iR()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var P4=new RegExp(`^(\\d+)*(${ZR}|${YR})*(.*)`);var Ax=()=>null;function pE(n,e){return Ax(n,e)}var Mx=class{},EC=class{},Gf=class{resolveComponentFactory(e){throw Error(`No component factory found for ${At(e)}.`)}},Gu=class{static NULL=new Gf},so=class{},Wu=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Rx()}return n})();function Rx(){let n=De(),e=jt(),t=gn(e.index,n);return(fr(t)?t:n)[nt]}var Px=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>null})}return n})();var vf={},Wf=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Mu(r);let i=this.injector.get(e,vf,r);return i!==vf||t===vf?i:this.parentInjector.get(e,t,r)}};function Kf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=$I(i,c);else if(o==2){let u=c,l=e[++s];r=$I(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function vt(n,e=ne.Default){let t=De();if(t===null)return K(n,e);let r=jt();return Sw(r,t,Lt(n),e)}function wC(){let n="invalid";throw new Error(n)}function Zp(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c,u=null,l=null,f=Ox(s);f===null?c=s:[c,u,l]=f,Lx(n,e,t,c,o,u,l)}o!==null&&r!==null&&xx(t,r,o)}function xx(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function Ox(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let c=n[s];if(s===0&&Jr(c)&&(e=c),c.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,Nx(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function Nx(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function kx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Lx(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let v=0;v<c;v++){let m=r[v];!u&&Jr(m)&&(u=!0,kx(n,t,v)),SR(Cw(t,e),n,m.type)}$x(t,n.data.length,c);for(let v=0;v<c;v++){let m=r[v];m.providersResolver&&m.providersResolver(m)}let l=!1,f=!1,g=rC(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let v=0;v<c;v++){let m=r[v];if(t.mergedAttrs=Fu(t.mergedAttrs,m.hostAttrs),Vx(n,t,e,g,m),Bx(g,m,i),s!==null&&s.has(m)){let[x,O]=s.get(m);t.directiveToIndex.set(m.type,[g,x+t.directiveStart,O+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,g);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let A=m.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),g++}Fx(n,t,o)}function Fx(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))gE(0,e,i,r),gE(1,e,i,r),yE(e,r,!1);else{let o=t.get(i);mE(0,e,o,r),mE(1,e,o,r),yE(e,r,!0)}}}function gE(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),CC(e,o)}}function mE(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),CC(e,s)}}function CC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function yE(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||jp(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Vx(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=to(i.type,!0)),s=new Vs(o,Jr(i),vt);n.blueprint[r]=s,t[r]=s,jx(n,e,r,rC(n,t,i.hostVars,yo),i)}function jx(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;Ux(s)!=c&&s.push(c),s.push(t,r,o)}}function Ux(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Bx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Jr(e)&&(t[""]=n)}}function $x(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function bC(n,e,t,r,i,o,s,c){let u=e.consts,l=oo(u,s),f=qu(e,n,2,r,l);return o&&Zp(e,t,f,oo(u,c),i),f.mergedAttrs=Fu(f.mergedAttrs,f.attrs),f.attrs!==null&&Kf(f,f.attrs,!1),f.mergedAttrs!==null&&Kf(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function TC(n,e){Sp(n,e),yp(e)&&n.queries.elementEnd(e)}var bu=class extends Gu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Hr(e);return new ao(t,this.ngModule)}};function Hx(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Uu.SignalBased)!==0};return i&&(o.transform=i),o})}function zx(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function qx(n,e,t){let r=e instanceof ut?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Wf(t,r):t}function Gx(n){let e=n.get(so,null);if(e===null)throw new H(407,!1);let t=n.get(Px,null),r=n.get(Kr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function Wx(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Xw(e,t,t==="svg"?GM:t==="math"?WM:null)}var ao=class extends EC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Hx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=zx(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=CP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){we(22);let o=pe(null);try{let s=this.componentDef,c=r?["ng-version","19.2.5"]:bP(this.componentDef.selectors[0]),u=Up(0,null,null,1,0,null,null,null,null,[c],null),l=qx(s,i||this.ngModule,e),f=Gx(l),g=f.rendererFactory.createRenderer(null,s),v=r?NP(g,r,s.encapsulation,l):Wx(s,g),m=Bp(null,u,null,512|nC(s),null,null,f,g,l,null,Ww(v,l,!0));m[Qt]=v,bp(m);let A=null;try{let x=bC(Qt,u,m,"#host",()=>[this.componentDef],!0,0);v&&(tC(g,v,x),go(v,m)),Bu(u,m,x),Vp(u,x,m),TC(u,x),t!==void 0&&Kx(x,this.ngContentSelectors,t),A=gn(x.index,m),m[bt]=A[bt],Gp(u,m,null)}catch(x){throw A!==null&&Vf(A),Vf(m),x}finally{we(23),Tp()}return new Qf(this.componentType,m)}finally{pe(o)}}},Qf=class extends Mx{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=nw(t[se],Qt),this.location=po(this._tNode,t),this.instance=gn(this._tNode.index,t)[bt],this.hostView=this.changeDetectorRef=new js(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=qp(r,i[se],i,e,t);this.previousInputValues.set(e,t);let s=gn(r.index,i);Yp(s,1)}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Kx(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mr=(()=>{class n{static __NG_ELEMENT_ID__=Qx}return n})();function Qx(){let n=jt();return SC(n,De())}var Yx=mr,DC=class extends Yx{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return po(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ap(this._hostTNode,this._hostLView);if(Iw(e)){let t=yu(e,this._hostLView),r=mu(e),i=t[se].data[r+8];return new $r(i,t)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=vE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pE(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,hE(this._hostTNode,s)),c}createComponent(e,t,r,i,o){let s=e&&!$M(e),c;if(s)c=t;else{let A=t||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new ao(Hr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(ut,null);x&&(o=x)}let f=Hr(u.componentType??{}),g=pE(this._lContainer,f?.id??null),v=g?.firstChild??null,m=u.create(l,i,v,o);return this.insertImpl(m.hostView,c,hE(this._hostTNode,g)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(ZM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[lt],l=new DC(u,u[Yt],u[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Ix(s,i,o,r),e.attachToViewContainerRef(),$E(_f(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=vE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=qf(this._lContainer,t);r&&(uu(_f(this._lContainer),t),uC(r[se],r))}detach(e){let t=this._adjustIndex(e,-1),r=qf(this._lContainer,t);return r&&uu(_f(this._lContainer),t)!=null?new js(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function vE(n){return n[pu]}function _f(n){return n[pu]||(n[pu]=[])}function SC(n,e){let t,r=e[n.index];return Hn(r)?t=r:(t=_C(r,e,null,n),e[n.index]=t,$p(e,t)),Jx(t,e,n,r),new DC(t,n,e)}function Zx(n,e){let t=n[nt],r=t.createComment(""),i=zn(e,n),o=t.parentNode(i);return wu(t,o,r,t.nextSibling(i),!1),r}var Jx=tO,Xx=()=>!1;function eO(n,e,t){return Xx(n,e,t)}function tO(n,e,t,r){if(n[qr])return;let i;t.type&8?i=pn(r):i=Zx(e,t),n[qr]=i}var Yf=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Zf=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Jp(e,t).matches!==null&&this.queries[t].setDirty()}},Jf=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=uO(e):this.predicate=e}},Xf=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ep=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,nO(t,o)),this.matchTNodeWithReadOption(e,t,ru(t,e,o,!1,!1))}else r===Qr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ru(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===pr||i===mr||i===Qr&&t.type&4)this.addMatch(t.index,-2);else{let o=ru(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function nO(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function rO(n,e){return n.type&11?po(n,e):n.type&4?zu(n,e):null}function iO(n,e,t,r){return t===-1?rO(e,n):t===-2?oO(n,e,r):vu(n,n[se],t,e)}function oO(n,e,t){if(t===pr)return po(e,n);if(t===Qr)return zu(e,n);if(t===mr)return SC(e,n)}function AC(n,e,t,r){let i=e[Un].queries[r];if(i.matches===null){let o=n.data,s=t.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let f=o[l];c.push(iO(e,f,s[u+1],t.metadata.read))}}i.matches=c}return i.matches}function tp(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=AC(n,e,i,t);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],f=e[-u];for(let g=Mt;g<f.length;g++){let v=f[g];v[zr]===v[lt]&&tp(v[se],v,l,r)}if(f[io]!==null){let g=f[io];for(let v=0;v<g.length;v++){let m=g[v];tp(m[se],m,l,r)}}}}}return r}function sO(n,e){return n[Un].queries[e].queryList}function aO(n,e,t){let r=new Ff((t&4)===4);return eR(n,e,r,r.destroy),(e[Un]??=new Zf).queries.push(new Yf(r))-1}function cO(n,e,t){let r=Vt();return r.firstCreatePass&&(lO(r,new Jf(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),aO(r,De(),e)}function uO(n){return n.split(",").map(e=>e.trim())}function lO(n,e,t){n.queries===null&&(n.queries=new Xf),n.queries.track(new ep(e,t))}function Jp(n,e){return n.queries.getByIndex(e)}function dO(n,e){let t=n[se],r=Jp(t,e);return r.crossesNgTemplate?tp(t,n,e,[]):AC(t,n,r,e)}var co=class{},Xp=class{};var np=class extends co{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new bu(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=qE(e);this._bootstrapComponents=Zw(o.bootstrap),this._r3Injector=Rw(e,t,[{provide:co,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},rp=class extends Xp{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new np(this.moduleType,e,[])}};var Tu=class extends co{injector;componentFactoryResolver=new bu(this);instance=null;constructor(e){super();let t=new Ls([...e.providers,{provide:co,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],e.parent||gp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function qs(n,e,t=null){return new Tu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var hO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=GE(!1,t.type),i=r.length>0?qs([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(K(ut))})}return n})();function qe(n){return Bs(()=>{let e=MC(n),t=be(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Vw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(hO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yn.Emulated,styles:n.styles||dn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ju("NgStandalone"),RC(t);let r=n.dependencies;return t.directiveDefs=_E(r,!1),t.pipeDefs=_E(r,!0),t.id=yO(t),t})}function fO(n){return Hr(n)||RM(n)}function pO(n){return n!==null}function Gs(n){return Bs(()=>({type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gO(n,e){if(n==null)return no;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Uu.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function mO(n){if(n==null)return no;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ri(n){return Bs(()=>{let e=MC(n);return RC(e),e})}function MC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||no,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gO(n.inputs,e),outputs:mO(n.outputs),debugInfo:null}}function RC(n){n.features?.forEach(e=>e(n))}function _E(n,e){if(!n)return null;let t=e?PM:fO;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(pO)}function yO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function PC(n){return _O(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function vO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function _O(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function xC(n,e,t){return n[e]=t}function Us(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function OC(n,e,t,r){let i=Us(n,e,t);return Us(n,e+1,r)||i}function IO(n,e,t,r,i){let o=OC(n,e,t,r);return Us(n,e+2,i)||o}function EO(n,e,t,r,i,o,s,c,u){let l=e.consts,f=qu(e,n,4,s||null,c||null);Ep()&&Zp(e,t,f,oo(l,u),zp),f.mergedAttrs=Fu(f.mergedAttrs,f.attrs),Sp(e,f);let g=f.tView=Up(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function wO(n,e,t,r,i,o,s,c,u,l){let f=t+Qt,g=e.firstCreatePass?EO(f,e,n,r,i,o,s,c,u):e.data[f];Xr(g,!1);let v=CO(e,n,g,t);ku()&&$u(e,n,v,g),go(v,n);let m=_C(v,n,v,g);return n[f]=m,$p(n,m),eO(m,g,n),xu(g)&&Bu(e,n,g),u!=null&&Hp(n,g,l),g}function Se(n,e,t,r,i,o,s,c){let u=De(),l=Vt(),f=oo(l.consts,o);return wO(u,l,n,e,t,r,i,f,s,c),Se}var CO=bO;function bO(n,e,t,r){return Lu(!0),e[nt].createComment("")}var NC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var kC=new z("");var TO=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new ip})}return n})(),ip=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ws(n){return!!n&&typeof n.then=="function"}function LC(n){return!!n&&typeof n.subscribe=="function"}var Ku=new z("");var FC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(Ku,{optional:!0})??[];injector=M(rt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=dt(this.injector,i);if(Ws(o))t.push(o);else if(LC(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qu=new z("");function DO(){Wh(()=>{throw new H(600,!1)})}function SO(n){return n.isBoundToModule}var AO=10;var Yr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(UR);afterRenderManager=M(Gw);zonelessEnabled=M(Rp);rootEffectScheduler=M(TO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new $e;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=M(ei).hasPendingTasks.pipe(te(t=>!t));constructor(){M(mo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(ut);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){we(10);let i=t instanceof EC;if(!this._injector.get(FC).done){let v="";throw new H(405,v)}let s;i?s=t:s=this._injector.get(Gu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let c=SO(s)?void 0:this._injector.get(co),u=r||s.selector,l=s.create(rt.NULL,[],u,c),f=l.location.nativeElement,g=l.injector.get(kC,null);return g?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),iu(this.components,l),g?.unregisterApplication(f)}),this._loadComponent(l),we(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){we(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Lp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(t),this.afterTick.next(),we(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(so,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<AO;)we(14),this.synchronizeOnce(),we(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)MO(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Nu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;iu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Qu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>iu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function MO(n,e,t,r){if(!t&&!Nu(n))return;gC(n,e,t&&!r?0:1)}function VC(n,e,t,r){return Us(n,lw(),t)?e+dp(t)+r:yo}function J(n,e,t){let r=De(),i=lw();if(Us(r,i,e)){let o=Vt(),s=yw();sC(o,s,r,n,e,r[nt],t,!1)}return J}function IE(n,e,t,r,i){qp(e,n,t,i?"class":"style",r)}function P(n,e,t,r){let i=De(),o=Vt(),s=Qt+n,c=i[nt],u=o.firstCreatePass?bC(s,o,i,e,zp,Ep(),t,r):o.data[s],l=RO(o,i,u,c,e,n);i[s]=l;let f=xu(u);return Xr(u,!0),tC(c,l,u),!aC(u)&&ku()&&$u(o,i,l,u),(tR()===0||f)&&go(l,i),nR(),f&&(Bu(o,i,u),Vp(o,u,i)),r!==null&&Hp(i,u),P}function N(){let n=jt();wp()?aw():(n=n.parent,Xr(n,!1));let e=n;oR(e)&&sR(),rR();let t=Vt();return t.firstCreatePass&&TC(t,e),e.classesWithoutHost!=null&&vR(e)&&IE(t,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&_R(e)&&IE(t,e,De(),e.stylesWithoutHost,!1),N}function re(n,e,t,r){return P(n,e,t,r),N(),re}var RO=(n,e,t,r,i,o)=>(Lu(!0),Xw(r,i,gR()));function PO(n,e,t,r,i){let o=e.consts,s=oo(o,r),c=qu(e,n,8,"ng-container",s);s!==null&&Kf(c,s,!0);let u=oo(o,i);return Ep()&&Zp(e,t,c,u,zp),c.mergedAttrs=Fu(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function vn(n,e,t){let r=De(),i=Vt(),o=n+Qt,s=i.firstCreatePass?PO(o,i,r,e,t):i.data[o];Xr(s,!0);let c=xO(i,r,s,n);return r[o]=c,ku()&&$u(i,r,c,s),go(c,r),xu(s)&&(Bu(i,r,s),Vp(i,s,r)),t!=null&&Hp(r,s),vn}function _n(){let n=jt(),e=Vt();return wp()?aw():(n=n.parent,Xr(n,!1)),e.firstCreatePass&&(Sp(e,n),yp(n)&&e.queries.elementEnd(n)),_n}var xO=(n,e,t,r)=>(Lu(!0),SP(e[nt],""));function Xt(){return De()}var Du="en-US";var OO=Du;function NO(n){typeof n=="string"&&(OO=n.toLowerCase().replace(/_/g,"-"))}function EE(n,e,t){return function r(i){if(i===Function)return t;let o=ho(n)?gn(n.index,e):e;Yp(o,5);let s=e[bt],c=wE(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=wE(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function wE(n,e,t,r){let i=pe(null);try{return we(6,e,t),t(r)!==!1}catch(o){return kO(n,o),!1}finally{we(7,e,t),pe(i)}}function kO(n,e){let t=n[ro],r=t?t.get(mn,null):null;r&&r.handleError(e)}function CE(n,e,t,r,i,o){let s=e[t],c=e[se],l=c.data[t].outputs[r],f=s[l],g=c.firstCreatePass?Ip(c):null,v=_p(e),m=f.subscribe(o),A=v.length;v.push(o,m),g&&g.push(i,n.index,A,-(A+1))}var LO=(n,e,t)=>{};function Rt(n,e,t,r){let i=De(),o=Vt(),s=jt();return VO(o,i,i[nt],s,n,e,r),Rt}function FO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[hu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function VO(n,e,t,r,i,o,s){let c=xu(r),l=n.firstCreatePass?Ip(n):null,f=_p(e),g=!0;if(r.type&3||s){let v=zn(r,e),m=s?s(v):v,A=f.length,x=s?q=>s(pn(q[r.index])):r.index,O=null;if(!s&&c&&(O=FO(n,e,i,r.index)),O!==null){let q=O.__ngLastListenerFn__||O;q.__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,g=!1}else{o=EE(r,e,o),LO(m,i,o);let q=t.listen(m,i,o);f.push(o,q),l&&l.push(i,x,A,A+1)}}else o=EE(r,e,o);if(g){let v=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let A=0;A<m.length;A+=2){let x=m[A],O=m[A+1];CE(r,e,x,O,i,o)}if(v&&v.length)for(let A of v)CE(r,e,A,i,i,o)}}function ke(n=1){return pR(n)}function eg(n,e,t){return jC(n,"",e,"",t),eg}function jC(n,e,t,r,i){let o=De(),s=VC(o,e,t,r);if(s!==yo){let c=Vt(),u=yw();sC(c,u,o,n,s,o[nt],i,!1)}return jC}function Yu(n,e,t){cO(n,e,t)}function Ks(n){let e=De(),t=Vt(),r=dw();Cp(r+1);let i=Jp(t,r);if(n.dirty&&YM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=dO(e,r);n.reset(o,HR),n.notifyOnChanges()}return!0}return!1}function Qs(){return sO(De(),dw())}function Zu(n){let e=cR();return QM(e,Qt+n)}function U(n,e=""){let t=De(),r=Vt(),i=n+Qt,o=r.firstCreatePass?qu(r,i,1,e,null):r.data[i],s=jO(r,t,o,e,n);t[i]=s,ku()&&$u(r,t,s,o),Xr(o,!1)}var jO=(n,e,t,r,i)=>(Lu(!0),TP(e[nt],r));function Ve(n){return _t("",n,""),Ve}function _t(n,e,t){let r=De(),i=VC(r,n,e,t);return i!==yo&&UO(r,Dp(),i),_t}function UO(n,e,t){let r=KM(e,n);DP(n[nt],r,t)}function Ju(n,e,t,r,i){return BO(De(),uw(),n,e,t,r,i)}function UC(n,e,t,r,i,o){return $O(De(),uw(),n,e,t,r,i,o)}function BC(n,e){let t=n[e];return t===yo?void 0:t}function BO(n,e,t,r,i,o,s){let c=e+t;return OC(n,c,i,o)?xC(n,c+2,s?r.call(s,i,o):r(i,o)):BC(n,c+2)}function $O(n,e,t,r,i,o,s,c){let u=e+t;return IO(n,u,i,o,s)?xC(n,u+3,c?r.call(c,i,o,s):r(i,o,s)):BC(n,u+3)}function Xu(n,e){return zu(n,e)}var uo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},$C=new uo("19.2.5"),op=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},el=(()=>{class n{compileModuleSync(t){return new rp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=qE(t),o=Zw(i.declarations).reduce((s,c)=>{let u=Hr(c);return u&&s.push(new ao(u)),s},[]);return new op(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var HO=(()=>{class n{zone=M(Ee);changeDetectionScheduler=M(Kr);applicationRef=M(Yr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zO=new z("",{factory:()=>!1});function HC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(be(F({},qC()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:ks,multi:!0,useFactory:()=>{let r=M(HO,{optional:!0});return()=>r.initialize()}},{provide:ks,multi:!0,useFactory:()=>{let r=M(qO);return()=>{r.initialize()}}},e===!0?{provide:xw,useValue:!0}:[],{provide:Ow,useValue:t??Pw}]}function zC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=HC({ngZoneFactory:()=>{let i=qC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ju("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Zr([{provide:zO,useValue:!0},{provide:Rp,useValue:!1},r])}function qC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var qO=(()=>{class n{subscription=new Ne;initialized=!1;zone=M(Ee);pendingTasks=M(ei);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var GO=(()=>{class n{appRef=M(Yr);taskService=M(ei);ngZone=M(Ee);zonelessEnabled=M(Rp);tracing=M(mo,{optional:!0});disableScheduling=M(xw,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Iu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(Ow,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?iE:Nw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Iu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WO(){return typeof $localize<"u"&&$localize.locale||Du}var tg=new z("",{providedIn:"root",factory:()=>M(tg,ne.Optional|ne.SkipSelf)||WO()});var sp=new z(""),KO=new z("");function Ps(n){return!n.moduleRef}function QO(n){let e=Ps(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Ps(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(mn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ps(n)){let o=()=>e.destroy(),s=n.platformInjector.get(sp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(sp);s.add(o),n.moduleRef.onDestroy(()=>{iu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return ZO(r,t,()=>{let o=e.get(FC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(tg,Du);if(NO(s||Du),!e.get(KO,!0))return Ps(n)?e.get(Yr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ps(n)){let u=e.get(Yr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return YO(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function YO(n,e){let t=n.injector.get(Yr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}function ZO(n,e,t){try{let r=t();return Ws(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ou=null;function JO(n=[],e){return rt.create({name:e,providers:[{provide:Ru,useValue:"platform"},{provide:sp,useValue:new Set([()=>ou=null])},...n]})}function XO(n=[]){if(ou)return ou;let e=JO(n);return ou=e,DO(),eN(e),e}function eN(n){let e=n.get(Np,null);dt(n,()=>{e?.forEach(t=>t())})}function ng(){return!1}var Ys=(()=>{class n{static __NG_ELEMENT_ID__=tN}return n})();function tN(n){return nN(jt(),De(),(n&16)===16)}function nN(n,e,t){if(ho(n)&&!t){let r=gn(n.index,e);return new js(r,r)}else if(n.type&175){let r=e[fn];return new js(r,e)}return null}var ap=class{constructor(){}supports(e){return PC(e)}create(e){return new cp(e)}},rN=(n,e)=>e,cp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||rN}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<bE(r,i,o)?t:r,c=bE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let v=0;v<l;v++){let m=v<o.length?o[v]:o[v]=0,A=m+v;f<=A&&A<l&&(o[v]=m+1)}let g=s.previousIndex;o[g]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!PC(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,vO(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new up(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Su),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Su),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},up=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},lp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Su=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new lp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function TE(){return new rg([new ap])}var rg=(()=>{class n{factories;static \u0275prov=V({token:n,providedIn:"root",factory:TE});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TE()),deps:[[n,new SM,new Bn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function GC(n){we(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=XO(r),o=[HC({}),{provide:Kr,useExisting:GO},...t||[]],s=new Tu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return QO({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{we(9)}}var DE=class{[Ni];constructor(e){this[Ni]=e}destroy(){this[Ni].destroy()}};function WC(n){let e=Hr(n);if(!e)return null;let t=new ao(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Je=new z("");var YC=null;function qn(){return YC}function ig(n){YC??=n}var Zs=class{},Js=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>M(ZC),providedIn:"platform"})}return n})(),og=new z(""),ZC=(()=>{class n extends Js{_location;_history;_doc=M(Je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qn().getBaseHref(this._doc)}onPopState(t){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function tl(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function KC(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function en(n){return n&&n[0]!=="?"?`?${n}`:n}var Gn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>M(rl),providedIn:"root"})}return n})(),nl=new z(""),rl=(()=>{class n extends Gn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return tl(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+en(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+en(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+en(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(K(Js),K(nl,8))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yr=(()=>{class n{_subject=new $e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=sN(KC(QC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+en(r))}normalize(t){return n.stripTrailingSlash(oN(this._basePath,QC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+en(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+en(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=en;static joinWithSlash=tl;static stripTrailingSlash=KC;static \u0275fac=function(r){return new(r||n)(K(Gn))};static \u0275prov=V({token:n,factory:()=>iN(),providedIn:"root"})}return n})();function iN(){return new yr(K(Gn))}function oN(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function QC(n){return n.replace(/\/index.html$/,"")}function sN(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var ag=(()=>{class n extends Gn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=tl(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+en(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+en(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(K(Js),K(nl,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();var sg=/\s+/,JC=[],Xs=(()=>{class n{_ngEl;_renderer;initialClasses=JC;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(sg):JC}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(sg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(sg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(vt(pr),vt(Wu))};static \u0275dir=ri({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var il=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ut=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new il(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),XC(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);XC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(vt(mr),vt(Qr),vt(rg))};static \u0275dir=ri({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function XC(n,e){n.context.$implicit=e.item}var tn=(()=>{class n{_viewContainer;_context=new ol;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){eb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){eb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(vt(mr),vt(Qr))};static \u0275dir=ri({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ol=class{$implicit=null;ngIf=null};function eb(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}function cg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ug="browser",tb="server";function sl(n){return n===tb}var ea=class{};var nb=(()=>{class n{static \u0275prov=V({token:n,providedIn:"root",factory:()=>new lg(M(Je),window)})}return n})(),lg=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=dN(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function dN(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ul=new z(""),pg=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(K(ul),K(Ee))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),ta=class{_doc;constructor(e){this._doc=e}manager},al="ng-app-id";function rb(n){for(let e of n)e.remove()}function ib(n,e){let t=e.createElement("style");return t.textContent=n,t}function hN(n,e,t,r){let i=n.head?.querySelectorAll(`style[${al}="${e}"],link[${al}="${e}"]`);if(i)for(let o of i)o.removeAttribute(al),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function hg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var gg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=sl(o),hN(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,ib);r?.forEach(i=>this.addUsage(i,this.external,hg))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(rb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])rb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,ib(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,hg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(al,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(K(Je),K(Op),K(kp,8),K(gr))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),dg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mg=/%COMP%/g;var sb="%COMP%",fN=`_nghost-${sb}`,pN=`_ngcontent-${sb}`,gN=!0,mN=new z("",{providedIn:"root",factory:()=>gN});function yN(n){return pN.replace(mg,n)}function vN(n){return fN.replace(mg,n)}function ab(n,e){return e.map(t=>t.replace(mg,n))}var yg=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=sl(c),this.defaultRenderer=new na(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yn.ShadowDom&&(r=be(F({},r),{encapsulation:yn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof cl?i.applyToHost(t):i instanceof ra&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case yn.Emulated:o=new cl(u,l,r,this.appId,f,s,c,g,v);break;case yn.ShadowDom:return new fg(u,l,t,r,s,c,this.nonce,g,v);default:o=new ra(u,l,r,f,s,c,g,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(K(pg),K(gg),K(Op),K(mN),K(Je),K(gr),K(Ee),K(kp),K(mo,8))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),na=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(dg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ob(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ob(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=dg[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=dg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ni.DashCase|ni.Important)?e.style.setProperty(t,r,i&ni.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ni.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=qn().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function ob(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var fg=class extends na{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=ab(i.id,f);for(let v of f){let m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=v,this.shadowRoot.appendChild(m)}let g=i.getExternalStyles?.();if(g)for(let v of g){let m=hg(v,o);c&&m.setAttribute("nonce",c),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ra=class extends na{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?ab(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cl=class extends ra{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,l,f),this.contentAttr=yN(f),this.hostAttr=vN(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var vg=class extends Zs{supportsDOMEvents=!0},ll=class n extends vg{static makeCurrent(){ig(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=_N();return t==null?null:IN(t)}resetBaseElement(){ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cg(document.cookie,e)}},ia=null;function _N(){return ia=ia||document.querySelector("base"),ia?ia.getAttribute("href"):null}function IN(n){return new URL(n,document.baseURI).pathname}var EN=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),ub=(()=>{class n extends ta{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(K(Je))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})(),cb=["alt","control","meta","shift"],wN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},lb=(()=>{class n extends ta{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qn().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),cb.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=wN[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cb.forEach(s=>{if(s!==i){let c=CN[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(K(Je))};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function _g(n,e){return GC(F({rootComponent:n},bN(e)))}function bN(n){return{appProviders:[...MN,...n?.providers??[]],platformProviders:AN}}function TN(){ll.makeCurrent()}function DN(){return new mn}function SN(){return Hw(document),document}var AN=[{provide:gr,useValue:ug},{provide:Np,useValue:TN,multi:!0},{provide:Je,useFactory:SN}];var MN=[{provide:Ru,useValue:"root"},{provide:mn,useFactory:DN},{provide:ul,useClass:ub,multi:!0,deps:[Je]},{provide:ul,useClass:lb,multi:!0,deps:[Je]},yg,gg,pg,{provide:so,useExisting:yg},{provide:ea,useClass:EN},[]];var db=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(K(Je))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var X="primary",ya=Symbol("RouteTitle"),bg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function si(n){return new bg(n)}function _b(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function PN(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!In(n[t],e[t]))return!1;return!0}function In(n,e){let t=n?Tg(n):void 0,r=e?Tg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Ib(n[i],e[i]))return!1;return!0}function Tg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ib(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Eb(n){return n.length>0?n[n.length-1]:null}function Er(n){return lf(n)?n:Ws(n)?Pe(Promise.resolve(n)):W(n)}var xN={exact:Cb,subset:bb},wb={exact:ON,subset:NN,ignored:()=>!0};function hb(n,e,t){return xN[t.paths](n.root,e.root,t.matrixParams)&&wb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function ON(n,e){return In(n,e)}function Cb(n,e,t){if(!ii(n.segments,e.segments)||!fl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Cb(n.children[r],e.children[r],t))return!1;return!0}function NN(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ib(n[t],e[t]))}function bb(n,e,t){return Tb(n,e,e.segments,t)}function Tb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ii(i,t)||e.hasChildren()||!fl(i,t,r))}else if(n.segments.length===t.length){if(!ii(n.segments,t)||!fl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!bb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ii(n.segments,i)||!fl(n.segments,i,r)||!n.children[X]?!1:Tb(n.children[X],e,o,r)}}function fl(n,e,t){return e.every((r,i)=>wb[t](n[i].parameters,r.parameters))}var wn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=si(this.queryParams),this._queryParamMap}toString(){return FN.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pl(this)}},vr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=si(this.parameters),this._parameterMap}toString(){return Sb(this)}};function kN(n,e){return ii(n,e)&&n.every((t,r)=>In(t.parameters,e[r].parameters))}function ii(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function LN(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===X&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==X&&(t=t.concat(e(i,r)))}),t}var ai=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>new _r,providedIn:"root"})}return n})(),_r=class{parse(e){let t=new Sg(e);return new wn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${oa(e.root,!0)}`,r=UN(e.queryParams),i=typeof e.fragment=="string"?`#${VN(e.fragment)}`:"";return`${t}${r}${i}`}},FN=new _r;function pl(n){return n.segments.map(e=>Sb(e)).join("/")}function oa(n,e){if(!n.hasChildren())return pl(n);if(e){let t=n.children[X]?oa(n.children[X],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${oa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=LN(n,(r,i)=>i===X?[oa(n.children[X],!1)]:[`${i}:${oa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[X]!=null?`${pl(n)}/${t[0]}`:`${pl(n)}/(${t.join("//")})`}}function Db(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dl(n){return Db(n).replace(/%3B/gi,";")}function VN(n){return encodeURI(n)}function Dg(n){return Db(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gl(n){return decodeURIComponent(n)}function fb(n){return gl(n.replace(/\+/g,"%20"))}function Sb(n){return`${Dg(n.path)}${jN(n.parameters)}`}function jN(n){return Object.entries(n).map(([e,t])=>`;${Dg(e)}=${Dg(t)}`).join("")}function UN(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${dl(t)}=${dl(i)}`).join("&"):`${dl(t)}=${dl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var BN=/^[^\/()?;#]+/;function Ig(n){let e=n.match(BN);return e?e[0]:""}var $N=/^[^\/()?;=#]+/;function HN(n){let e=n.match($N);return e?e[0]:""}var zN=/^[^=?&#]+/;function qN(n){let e=n.match(zN);return e?e[0]:""}var GN=/^[^&#]+/;function WN(n){let e=n.match(GN);return e?e[0]:""}var Sg=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[X]=new ve(e,t)),r}parseSegment(){let e=Ig(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new vr(gl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=HN(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ig(this.remaining);i&&(r=i,this.capture(r))}e[gl(t)]=gl(r)}parseQueryParam(e){let t=qN(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=WN(this.remaining);s&&(r=s,this.capture(r))}let i=fb(t),o=fb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ig(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[X]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function Ab(n){return n.segments.length>0?new ve([],{[X]:n}):n}function Mb(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Mb(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ve(n.segments,e);return KN(t)}function KN(n){if(n.numberOfChildren===1&&n.children[X]){let e=n.children[X];return new ve(n.segments.concat(e.segments),e.children)}return n}function wo(n){return n instanceof wn}function Rb(n,e,t=null,r=null){let i=Pb(n);return xb(i,e,t,r)}function Pb(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new ve(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=Ab(r);return e??i}function xb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Eg(i,i,i,t,r);let o=QN(e);if(o.toRoot())return Eg(i,i,new ve([],{}),t,r);let s=YN(o,i,n),c=s.processChildren?aa(s.segmentGroup,s.index,o.commands):Nb(s.segmentGroup,s.index,o.commands);return Eg(i,s.segmentGroup,c,t,r)}function yl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ua(n){return typeof n=="object"&&n!=null&&n.outlets}function Eg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=Ob(n,e,t);let c=Ab(Mb(s));return new wn(c,o,i)}function Ob(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Ob(o,e,t)}),new ve(n.segments,r)}var vl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&yl(r[0]))throw new H(4003,!1);let i=r.find(ua);if(i&&i!==Eb(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new vl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new vl(t,e,r)}var Io=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function YN(n,e,t){if(n.isAbsolute)return new Io(e,!0,0);if(!t)return new Io(e,!1,NaN);if(t.parent===null)return new Io(t,!0,0);let r=yl(n.commands[0])?0:1,i=t.segments.length-1+r;return ZN(t,i,n.numberOfDoubleDots)}function ZN(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Io(r,!1,i-o)}function JN(n){return ua(n[0])?n[0].outlets:{[X]:n}}function Nb(n,e,t){if(n??=new ve([],{}),n.segments.length===0&&n.hasChildren())return aa(n,e,t);let r=XN(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ve(n.segments.slice(0,r.pathIndex),{});return o.children[X]=new ve(n.segments.slice(r.pathIndex),n.children),aa(o,0,i)}else return r.match&&i.length===0?new ve(n.segments,{}):r.match&&!n.hasChildren()?Ag(n,e,t):r.match?aa(n,0,i):Ag(n,e,t)}function aa(n,e,t){if(t.length===0)return new ve(n.segments,{});{let r=JN(t),i={};if(Object.keys(r).some(o=>o!==X)&&n.children[X]&&n.numberOfChildren===1&&n.children[X].segments.length===0){let o=aa(n.children[X],e,t);return new ve(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Nb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(n.segments,i)}}function XN(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(ua(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!gb(u,l,s))return o;r+=2}else{if(!gb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ag(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ua(o)){let u=ek(o.outlets);return new ve(r,u)}if(i===0&&yl(t[0])){let u=n.segments[e];r.push(new vr(u.path,pb(t[0]))),i++;continue}let s=ua(o)?o.outlets[X]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&yl(c)?(r.push(new vr(s,pb(c))),i+=2):(r.push(new vr(s,{})),i++)}return new ve(r,{})}function ek(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ag(new ve([],{}),0,r))}),e}function pb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gb(n,e,t){return n==t.path&&In(e,t.parameters)}var ml="imperative",Ye=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ye||{}),xt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ir=class extends xt{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends xt{urlAfterRedirects;type=Ye.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Tt||{}),Co=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Co||{}),En=class extends xt{reason;code;type=Ye.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cn=class extends xt{reason;code;type=Ye.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},bo=class extends xt{error;target;type=Ye.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},la=class extends xt{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_l=class extends xt{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Il=class extends xt{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},El=class extends xt{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wl=class extends xt{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cl=class{route;type=Ye.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bl=class{route;type=Ye.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tl=class{snapshot;type=Ye.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dl=class{snapshot;type=Ye.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sl=class{snapshot;type=Ye.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Al=class{snapshot;type=Ye.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},To=class{routerEvent;position;anchor;type=Ye.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},da=class{},Do=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function tk(n,e){return n.providers&&!n._injector&&(n._injector=qs(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nn(n){return n.outlet||X}function nk(n,e){let t=n.filter(r=>nn(r)===e);return t.push(...n.filter(r=>nn(r)!==e)),t}function va(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ml=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return va(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ci(this.rootInjector)}},ci=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ml(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(K(ut))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Mg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Mg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Rg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rg(e,this._root).map(t=>t.value)}};function Mg(n,e){if(n===e.value)return e;for(let t of e.children){let r=Mg(n,t);if(r)return r}return null}function Rg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Rg(n,t);if(r.length)return r.unshift(e),r}return[]}var Pt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function _o(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ha=class extends Rl{snapshot;constructor(e,t){super(e),this.snapshot=t,Vg(this,e)}toString(){return this.snapshot.toString()}};function kb(n){let e=rk(n),t=new He([new vr("",{})]),r=new He({}),i=new He({}),o=new He({}),s=new He(""),c=new Wn(t,r,o,s,i,X,n,e.root);return c.snapshot=e.root,new ha(new Pt(c,[]),e)}function rk(n){let e={},t={},r={},i="",o=new oi([],e,r,i,t,X,n,null,{});return new fa("",new Pt(o,[]))}var Wn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[ya]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>si(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>si(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&Fb(i)&&(r.resolve[ya]=i.title),r}var oi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ya]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=si(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=si(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fa=class extends Rl{url;constructor(e,t){super(t),this.url=e,Vg(this,t)}toString(){return Lb(this._root)}};function Vg(n,e){e.value._routerState=n,e.children.forEach(t=>Vg(n,t))}function Lb(n){let e=n.children.length>0?` { ${n.children.map(Lb).join(", ")} } `:"";return`${n.value}${e}`}function wg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,In(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),In(e.params,t.params)||n.paramsSubject.next(t.params),PN(e.url,t.url)||n.urlSubject.next(t.url),In(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Pg(n,e){let t=In(n.params,e.params)&&kN(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Pg(n.parent,e.parent))}function Fb(n){return typeof n.title=="string"||n.title===null}var Vb=new z(""),_a=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new ct;deactivateEvents=new ct;attachEvents=new ct;detachEvents=new ct;routerOutletData=Lw(void 0);parentContexts=M(ci);location=M(mr);changeDetector=M(Ys);inputBinder=M(Ia,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new xg(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ri({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ou]})}return n})(),xg=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Wn?this.route:e===ci?this.childContexts:e===Vb?this.outletData:this.parent.get(e,t)}},Ia=new z(""),jg=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ur([r.queryParams,r.params,r.data]).pipe(Nt(([o,s,c],u)=>(c=F(F(F({},o),s),c),u===0?W(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=WC(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function ik(n,e,t){let r=pa(n,e._root,t?t._root:void 0);return new ha(r,e)}function pa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=ok(n,e,t);return new Pt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>pa(n,c)),s}}let r=sk(e.value),i=e.children.map(o=>pa(n,o));return new Pt(r,i)}}function ok(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pa(n,r,i);return pa(n,r)})}function sk(n){return new Wn(new He(n.url),new He(n.params),new He(n.queryParams),new He(n.fragment),new He(n.data),n.outlet,n.component,n)}var So=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},jb="ngNavigationCancelingError";function xl(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=wo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ub(!1,Tt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Ub(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[jb]=!0,t.cancellationCode=e,t}function ak(n){return Bb(n)&&wo(n.url)}function Bb(n){return!!n&&n[jb]}var ck=(n,e,t,r)=>te(i=>(new Og(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Og=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=_o(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=_o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=_o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=_o(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Al(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Dl(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(wg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),wg(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ol=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Eo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function uk(n,e,t){let r=n._root,i=e?e._root:null;return sa(r,i,t,[r.value])}function lk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Mo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!NE(n)?n:e.get(n):r}function sa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_o(e);return n.children.forEach(s=>{dk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ca(c,t.getContext(s),i)),i}function dk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=hk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ol(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?sa(n,e,c?c.children:null,r,i):sa(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Eo(c.outlet.component,s))}else s&&ca(e,c,i),i.canActivateChecks.push(new Ol(r)),o.component?sa(n,null,c?c.children:null,r,i):sa(n,null,t,r,i);return i}function hk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ii(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ii(n.url,e.url)||!In(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pg(n,e)||!In(n.queryParams,e.queryParams);case"paramsChange":default:return!Pg(n,e)}}function ca(n,e,t){let r=_o(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ca(s,e.children.getContext(o),t):ca(s,null,t):ca(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Eo(e.outlet.component,i)):t.canDeactivateChecks.push(new Eo(null,i)):t.canDeactivateChecks.push(new Eo(null,i))}function Ea(n){return typeof n=="function"}function fk(n){return typeof n=="boolean"}function pk(n){return n&&Ea(n.canLoad)}function gk(n){return n&&Ea(n.canActivate)}function mk(n){return n&&Ea(n.canActivateChild)}function yk(n){return n&&Ea(n.canDeactivate)}function vk(n){return n&&Ea(n.canMatch)}function $b(n){return n instanceof kn||n?.name==="EmptyError"}var hl=Symbol("INITIAL_VALUE");function Ao(){return Nt(n=>Ur(n.map(e=>e.pipe(Fn(1),Jc(hl)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===hl)return hl;if(t===!1||_k(t))return t}return!0}),Ct(e=>e!==hl),Fn(1)))}function _k(n){return wo(n)||n instanceof So}function Ik(n,e){return Fe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(be(F({},t),{guardsResult:!0})):Ek(s,r,i,n).pipe(Fe(c=>c&&fk(c)?wk(r,o,n,e):W(c)),te(c=>be(F({},t),{guardsResult:c})))})}function Ek(n,e,t,r){return Pe(n).pipe(Fe(i=>Sk(i.component,i.route,t,e,r)),Vn(i=>i!==!0,!0))}function wk(n,e,t,r){return Pe(e).pipe(lr(i=>Wi(bk(i.route.parent,r),Ck(i.route,r),Dk(n,i.path,t),Tk(n,i.route,t))),Vn(i=>i!==!0,!0))}function Ck(n,e){return n!==null&&e&&e(new Sl(n)),W(!0)}function bk(n,e){return n!==null&&e&&e(new Tl(n)),W(!0)}function Tk(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>Qc(()=>{let s=va(e)??t,c=Mo(o,s),u=gk(c)?c.canActivate(e,n):dt(s,()=>c(e,n));return Er(u).pipe(Vn())}));return W(i).pipe(Ao())}function Dk(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>lk(s)).filter(s=>s!==null).map(s=>Qc(()=>{let c=s.guards.map(u=>{let l=va(s.node)??t,f=Mo(u,l),g=mk(f)?f.canActivateChild(r,n):dt(l,()=>f(r,n));return Er(g).pipe(Vn())});return W(c).pipe(Ao())}));return W(o).pipe(Ao())}function Sk(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(c=>{let u=va(e)??i,l=Mo(c,u),f=yk(l)?l.canDeactivate(n,e,t,r):dt(u,()=>l(n,e,t,r));return Er(f).pipe(Vn())});return W(s).pipe(Ao())}function Ak(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let c=Mo(s,n),u=pk(c)?c.canLoad(e,t):dt(n,()=>c(e,t));return Er(u)});return W(o).pipe(Ao(),Hb(r))}function Hb(n){return Nc(ze(e=>{if(typeof e!="boolean")throw xl(n,e)}),te(e=>e===!0))}function Mk(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let c=Mo(s,n),u=vk(c)?c.canMatch(e,t):dt(n,()=>c(e,t));return Er(u)});return W(o).pipe(Ao(),Hb(r))}var ga=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ma=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function vo(n){return qi(new ga(n))}function Rk(n){return qi(new H(4e3,!1))}function Pk(n){return qi(Ub(!1,Tt.GuardRejected))}var Ng=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[X])return Rk(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:v,params:m,data:A,title:x}=i,O=dt(o,()=>c({params:m,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:v,title:x}));if(O instanceof wn)throw new ma(O);t=O}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ma(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new wn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ve(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},kg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xk(n,e,t,r,i){let o=zb(n,e,t);return o.matched?(r=tk(e,r),Mk(r,e,t,i).pipe(te(s=>s===!0?o:F({},kg)))):W(o)}function zb(n,e,t){if(e.path==="**")return Ok(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},kg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_b)(t,n,e);if(!i)return F({},kg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ok(n){return{matched:!0,parameters:n.length>0?Eb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mb(n,e,t,r){return t.length>0&&Lk(n,t,r)?{segmentGroup:new ve(e,kk(r,new ve(t,n.children))),slicedSegments:[]}:t.length===0&&Fk(n,t,r)?{segmentGroup:new ve(n.segments,Nk(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ve(n.segments,n.children),slicedSegments:t}}function Nk(n,e,t,r){let i={};for(let o of t)if(kl(n,e,o)&&!r[nn(o)]){let s=new ve([],{});i[nn(o)]=s}return F(F({},r),i)}function kk(n,e){let t={};t[X]=e;for(let r of n)if(r.path===""&&nn(r)!==X){let i=new ve([],{});t[nn(r)]=i}return t}function Lk(n,e,t){return t.some(r=>kl(n,e,r)&&nn(r)!==X)}function Fk(n,e,t){return t.some(r=>kl(n,e,r))}function kl(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Vk(n,e,t){return e.length===0&&!n.children[t]}var Lg=class{};function jk(n,e,t,r,i,o,s="emptyOnly"){return new Fg(n,e,t,r,i,s,o).recognize()}var Uk=31,Fg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Ng(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=mb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new Pt(r,t),o=new fa("",i),s=Rb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new oi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,t).pipe(te(r=>({children:r,rootSnapshot:t})),Ln(r=>{if(r instanceof ma)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ga?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(te(s=>s instanceof Pt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(lr(s=>{let c=r.children[s],u=nk(t,s);return this.processSegmentGroup(e,u,c,s,i)}),Zc((s,c)=>(s.push(...c),s)),dr(null),df(),Fe(s=>{if(s===null)return vo(r);let c=qb(s);return Bk(c),W(c)}))}processSegment(e,t,r,i,o,s,c){return Pe(t).pipe(lr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(Ln(l=>{if(l instanceof ga)return W(null);throw l}))),Vn(u=>!!u),Ln(u=>{if($b(u))return Vk(r,i,o)?W(new Lg):vo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return nn(r)!==s&&(s===X||!kl(i,o,r))?vo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):vo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:v}=zb(t,i,o);if(!u)return vo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Uk&&(this.allowRedirects=!1));let m=new oi(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,yb(i),nn(i),i.component??i._loadedComponent??null,i,vb(i)),A=Pl(m,c,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data);let x=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,m,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Fe(O=>this.processSegment(e,r,t,O.concat(v),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=xk(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Nt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Nt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:v,remainingSegments:m}=u,A=new oi(v,g,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,yb(r),nn(r),r.component??r._loadedComponent??null,r,vb(r)),x=Pl(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(x.params),A.data=Object.freeze(x.data);let{segmentGroup:O,slicedSegments:q}=mb(t,v,m,l);if(q.length===0&&O.hasChildren())return this.processChildren(f,l,O,A).pipe(te(oe=>new Pt(A,oe)));if(l.length===0&&q.length===0)return W(new Pt(A,[]));let me=nn(r)===o;return this.processSegment(f,l,O,q,me?X:o,!0,A).pipe(te(oe=>new Pt(A,oe instanceof Pt?[oe]:[])))}))):vo(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):Ak(e,t,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,t).pipe(ze(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Pk(t))):W({routes:[],injector:e})}};function Bk(n){n.sort((e,t)=>e.value.outlet===X?-1:t.value.outlet===X?1:e.value.outlet.localeCompare(t.value.outlet))}function $k(n){let e=n.value.routeConfig;return e&&e.path===""}function qb(n){let e=[],t=new Set;for(let r of n){if(!$k(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=qb(r.children);e.push(new Pt(r.value,i))}return e.filter(r=>!t.has(r))}function yb(n){return n.data||{}}function vb(n){return n.resolve||{}}function Hk(n,e,t,r,i,o){return Fe(s=>jk(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:c,tree:u})=>be(F({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function zk(n,e){return Fe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of Gb(u))s.add(l);let c=0;return Pe(s).pipe(lr(u=>o.has(u)?qk(u,r,n,e):(u.data=Pl(u,u.parent,n).resolve,W(void 0))),ze(()=>c++),Ki(1),Fe(u=>c===s.size?W(t):Et))})}function Gb(n){let e=n.children.map(t=>Gb(t)).flat();return[n,...e]}function qk(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Fb(i)&&(o[ya]=i.title),Gk(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=Pl(n,n.parent,t).resolve,null)))}function Gk(n,e,t,r){let i=Tg(n);if(i.length===0)return W({});let o={};return Pe(i).pipe(Fe(s=>Wk(n[s],e,t,r).pipe(Vn(),ze(c=>{if(c instanceof So)throw xl(new _r,c);o[s]=c}))),Ki(1),te(()=>o),Ln(s=>$b(s)?Et:qi(s)))}function Wk(n,e,t,r){let i=va(e)??r,o=Mo(n,i),s=o.resolve?o.resolve(e,t):dt(i,()=>o(e,t));return Er(s)}function Cg(n){return Nt(e=>{let t=n(e);return t?Pe(t).pipe(te(()=>e)):W(e)})}var Ug=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(t){return t.data[ya]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>M(Wb),providedIn:"root"})}return n})(),Wb=(()=>{class n extends Ug{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(K(db))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ui=new z("",{providedIn:"root",factory:()=>({})}),Bg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=qe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[_a],encapsulation:2})}return n})();function $g(n){let e=n.children&&n.children.map($g),t=e?be(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==X&&(t.component=Bg),t}var li=new z(""),Ll=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(el);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Er(t.loadComponent()).pipe(te(Qb),ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Rs(()=>{this.componentLoaders.delete(t)})),i=new Bi(r,()=>new $e).pipe(Ui());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Kb(r,this.compiler,t,this.onLoadEndListener).pipe(Rs(()=>{this.childrenLoaders.delete(r)})),s=new Bi(o,()=>new $e).pipe(Ui());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kb(n,e,t,r){return Er(n.loadChildren()).pipe(te(Qb),Fe(i=>i instanceof Xp||Array.isArray(i)?W(i):Pe(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(li,[],{optional:!0,self:!0}).flat()),{routes:s.map($g),injector:o}}))}function Kk(n){return n&&typeof n=="object"&&"default"in n}function Qb(n){return Kk(n)?n.default:n}var Fl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>M(Qk),providedIn:"root"})}return n})(),Qk=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hg=new z(""),zg=new z("");function Yb(n,e,t){let r=n.get(zg),i=n.get(Je);return n.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),Yk(n))),{onViewTransitionCreated:u}=r;return u&&dt(n,()=>u({transition:c,from:e,to:t})),s})}function Yk(n){return new Promise(e=>{Fp({read:()=>setTimeout(e)},{injector:n})})}var qg=new z(""),Vl=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new $e;transitionAbortSubject=new $e;configLoader=M(Ll);environmentInjector=M(ut);destroyRef=M(fo);urlSerializer=M(ai);rootContexts=M(ci);location=M(yr);inputBindingEnabled=M(Ia,{optional:!0})!==null;titleStrategy=M(Ug);options=M(ui,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Fl);createViewTransition=M(Hg,{optional:!0});navigationErrorHandler=M(qg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Cl(i)),r=i=>this.events.next(new bl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(be(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new He(null),this.transitions.pipe(Ct(r=>r!==null),Nt(r=>{let i=!1,o=!1;return W(r).pipe(Nt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Tt.SupersededByNewNavigation),Et;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?be(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let l="";return this.events.next(new Cn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Co.IgnoredSameUrlNavigation)),s.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(Nt(l=>(this.events.next(new Ir(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Et:Promise.resolve(l))),Hk(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=be(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new la(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:f,source:g,restoredState:v,extras:m}=s,A=new Ir(l,this.urlSerializer.serialize(f),g,v);this.events.next(A);let x=kb(this.rootComponentType).snapshot;return this.currentTransition=r=be(F({},s),{targetSnapshot:x,urlAfterRedirects:f,extras:be(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,W(r)}else{let l="";return this.events.next(new Cn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Co.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Et}}),ze(s=>{let c=new _l(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),te(s=>(this.currentTransition=r=be(F({},s),{guards:uk(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Ik(this.environmentInjector,s=>this.events.next(s)),ze(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw xl(this.urlSerializer,s.guardsResult);let c=new Il(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),Ct(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Tt.GuardRejected),!1)),Cg(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(ze(c=>{let u=new El(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Nt(c=>{let u=!1;return W(c).pipe(zk(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Tt.NoDataFromResolver)}}))}),ze(c=>{let u=new wl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Cg(s=>{let c=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(ze(f=>{u.component=f}),te(()=>{})));for(let f of u.children)l.push(...c(f));return l};return Ur(c(s.targetSnapshot.root)).pipe(dr(null),Fn(1))}),Cg(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?Pe(u).pipe(te(()=>r)):W(r)}),te(s=>{let c=ik(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=be(F({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),ze(()=>{this.events.next(new da)}),ck(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Fn(1),ze({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),hf(this.transitionAbortSubject.pipe(ze(s=>{throw s}))),Rs(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ln(s=>{if(this.destroyed)return r.resolve(!1),Et;if(o=!0,Bb(s))this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),ak(s)?this.events.next(new Do(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new bo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=dt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof So){let{message:l,cancellationCode:f}=xl(this.urlSerializer,u);this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new Do(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Et}))}))}cancelNavigationTransition(t,r,i){let o=new En(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zk(n){return n!==ml}var Zb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>M(Jk),providedIn:"root"})}return n})(),Nl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Jk=(()=>{class n extends Nl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mp(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jb=(()=>{class n{urlSerializer=M(ai);options=M(ui,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(yr);urlHandlingStrategy=M(Fl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof wn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=kb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:()=>M(Xk),providedIn:"root"})}return n})(),Xk=(()=>{class n extends Jb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ir?this.updateStateMemento():t instanceof Cn?this.commitTransition(r):t instanceof la?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof da?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof En&&(t.code===Tt.GuardRejected||t.code===Tt.NoDataFromResolver)?this.restoreHistory(r):t instanceof bo?this.restoreHistory(r,!0):t instanceof rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mp(n)))(i||n)}})();static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jl(n,e){n.events.pipe(Ct(t=>t instanceof rn||t instanceof En||t instanceof bo||t instanceof Cn),te(t=>t instanceof rn||t instanceof Cn?0:(t instanceof En?t.code===Tt.Redirect||t.code===Tt.SupersededByNewNavigation:!1)?2:1),Ct(t=>t!==2),Fn(1)).subscribe(()=>{e()})}var e1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},t1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},on=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(NC);stateManager=M(Jb);options=M(ui,{optional:!0})||{};pendingTasks=M(ei);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(Vl);urlSerializer=M(ai);location=M(yr);urlHandlingStrategy=M(Fl);_events=new $e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(Zb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(li,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(Ia,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof En&&r.code!==Tt.Redirect&&r.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rn)this.navigated=!0;else if(r instanceof Do){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Zk(i.source)},s);this.scheduleNavigation(c,ml,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}r1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ml,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($g),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let v=i?i.snapshot:this.routerState.snapshot.root;g=Pb(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return xb(g,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=wo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ml,null,r)}navigate(t,r={skipLocationChange:!1}){return n1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},e1):r===!1?i=F({},t1):i=r,wo(t))return hb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return hb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((g,v)=>{c=g,u=v});let f=this.pendingTasks.add();return jl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n1(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function r1(n){return!(n instanceof da)&&!(n instanceof Do)}var wa=class{};var Xb=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(t=>t instanceof rn),lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=qs(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Pe(i).pipe(Gi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(Fe(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Pe([o,s]).pipe(Gi())}else return o})}static \u0275fac=function(r){return new(r||n)(K(on),K(el),K(ut),K(wa),K(Ll))};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eT=new z(""),i1=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ir?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Cn&&t.code===Co.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof To&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new To(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){wC()};static \u0275prov=V({token:n,factory:n.\u0275fac})}return n})();function Wg(n,...e){return Zr([{provide:li,multi:!0,useValue:n},[],{provide:Wn,useFactory:tT,deps:[on]},{provide:Qu,multi:!0,useFactory:nT},e.map(t=>t.\u0275providers)])}function tT(n){return n.routerState.root}function Ca(n,e){return{\u0275kind:n,\u0275providers:e}}function nT(){let n=M(rt);return e=>{let t=n.get(Yr);if(e!==t.components[0])return;let r=n.get(on),i=n.get(rT);n.get(Kg)===1&&r.initialNavigation(),n.get(sT,null,ne.Optional)?.setUpPreloading(),n.get(eT,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var rT=new z("",{factory:()=>new $e}),Kg=new z("",{providedIn:"root",factory:()=>1});function iT(){return Ca(2,[{provide:Kg,useValue:0},{provide:Ku,multi:!0,deps:[rt],useFactory:e=>{let t=e.get(og,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(on),o=e.get(rT);jl(i,()=>{r(!0)}),e.get(Vl).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))}}])}function oT(){return Ca(3,[{provide:Ku,multi:!0,useFactory:()=>{let e=M(on);return()=>{e.setUpLocationChangeListener()}}},{provide:Kg,useValue:2}])}var sT=new z("");function aT(n){return Ca(0,[{provide:sT,useExisting:Xb},{provide:wa,useExisting:n}])}function cT(){return Ca(8,[jg,{provide:Ia,useExisting:jg}])}function uT(n){let e=[{provide:Hg,useValue:Yb},{provide:zg,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ca(9,e)}var lT=[yr,{provide:ai,useClass:_r},on,ci,{provide:Wn,useFactory:tT,deps:[on]},Ll,[]],Qg=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[lT,[],{provide:li,multi:!0,useValue:t},[],r?.errorHandler?{provide:qg,useValue:r.errorHandler}:[],{provide:ui,useValue:r||{}},r?.useHash?s1():a1(),o1(),r?.preloadingStrategy?aT(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?c1(r):[],r?.bindToComponentInputs?cT().\u0275providers:[],r?.enableViewTransitions?uT().\u0275providers:[],u1()]}}static forChild(t){return{ngModule:n,providers:[{provide:li,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gs({type:n});static \u0275inj=$s({})}return n})();function o1(){return{provide:eT,useFactory:()=>{let n=M(nb),e=M(Ee),t=M(ui),r=M(Vl),i=M(ai);return t.scrollOffset&&n.setOffset(t.scrollOffset),new i1(i,r,n,e,t)}}}function s1(){return{provide:Gn,useClass:ag}}function a1(){return{provide:Gn,useClass:rl}}function c1(n){return[n.initialNavigation==="disabled"?oT().\u0275providers:[],n.initialNavigation==="enabledBlocking"?iT().\u0275providers:[]]}var Gg=new z("");function u1(){return[{provide:Gg,useFactory:nT},{provide:Qu,multi:!0,useExisting:Gg}]}function h1(n,e){if(n&1&&(vn(0),P(1,"p"),U(2),N(),P(3,"p"),U(4),N(),P(5,"p"),U(6),N(),_n()),n&2){let t=ke();$(2),Ve(t.httpGroup),$(2),Ve(t.linkGroup),$(2),Ve(t.idGroup)}}function f1(n,e){if(n&1&&(P(0,"p"),U(1),N()),n&2){let t=ke();$(),Ve(t.link)}}var p1=/^(https:\/\/)(www\.youtube\.com\/watch\?)(v=.+)$/,Ul=class n{link;httpGroup;linkGroup;idGroup;ngOnInit(){let e=p1.exec(this.link);e!=null&&(e[1]!=null&&(this.httpGroup=e[1]),e[2]!=null&&(this.linkGroup=e[2]),e[3]!=null&&(this.idGroup=e[3]))}sendToNewPage(e){e&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qe({type:n,selectors:[["app-formatted-link"]],inputs:{link:"link"},decls:4,vars:2,consts:[["fullUrl",""],[1,"projectUrl",3,"click"],[4,"ngIf","ngIfElse"]],template:function(t,r){if(t&1){let i=Xt();P(0,"a",1),Rt("click",function(){return Zt(i),Jt(r.sendToNewPage(r.link))}),Se(1,h1,7,3,"ng-container",2)(2,f1,2,1,"ng-template",null,0,Xu),N()}if(t&2){let i=Zu(3);$(),J("ngIf",r.httpGroup!=null&&r.linkGroup!=null&&r.idGroup!=null)("ngIfElse",i)}},dependencies:[tn],styles:[".projectUrl[_ngcontent-%COMP%]{text-decoration:underline}"]})};function g1(n,e){if(n&1&&(P(0,"div",3),re(1,"img",4),N()),n&2){let t=ke();$(),J("src",t.image,ti)}}function m1(n,e){if(n&1&&(P(0,"div",7),re(1,"img",4),N()),n&2){let t=e.$implicit;$(),J("src",t,ti)}}function y1(n,e){if(n&1&&(P(0,"div",5),Se(1,m1,2,1,"div",6),N()),n&2){let t=ke();$(),J("ngForOf",t.images)}}function v1(n,e){n&1&&(vn(0),re(1,"div",8),_n())}var Bl=class n{image;images;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qe({type:n,selectors:[["app-element-image"]],inputs:{image:"image",images:"images"},decls:3,vars:3,consts:[["class","imageElement",4,"ngIf"],["class","imagesElement",4,"ngIf"],[4,"ngIf"],[1,"imageElement"],[3,"src"],[1,"imagesElement"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"cuadrado-gris"]],template:function(t,r){t&1&&Se(0,g1,2,1,"div",0)(1,y1,2,1,"div",1)(2,v1,2,0,"ng-container",2),t&2&&(J("ngIf",r.image&&!r.images),$(),J("ngIf",!r.image&&r.images),$(),J("ngIf",!r.image&&!r.images))},dependencies:[tn,Ut],styles:[".cuadrado-gris[_ngcontent-%COMP%]{width:100%;height:500px;background-color:gray;margin-top:20px;margin-bottom:60px}.imageElement[_ngcontent-%COMP%], .imagesElement[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:32px}.imageElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:175%}.imagesElement[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:start;width:170%}.imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:last-child{margin-left:20px}.imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}"]})};var Ro=class n{eventSubject=new $e;emitEvent(e){this.eventSubject.next(e)}get events$(){return this.eventSubject.asObservable()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var _1=["scrolInto"],I1=(n,e,t)=>({buttonIndex:n,buttonIndexOverflowed:e,closeButtonIndex:t}),E1=(n,e)=>({icon:n,icon_collapsed:e});function w1(n,e){if(n&1&&(vn(0),P(1,"p"),U(2,"[Award-Winning]"),N(),re(3,"p"),P(4,"p"),U(5),N(),_n()),n&2){let t=ke();$(5),Ve(t.projectElement.awardWining)}}function C1(n,e){if(n&1&&(P(0,"div",19),re(1,"app-formatted-link",20),N()),n&2){let t=e.$implicit;$(),J("link",t)}}function b1(n,e){if(n&1&&(vn(0),Se(1,C1,2,1,"div",18),_n()),n&2){let t=ke();$(),J("ngForOf",t.projectElement.links)}}function T1(n,e){if(n&1&&(P(0,"div",21),re(1,"app-formatted-link",20),N()),n&2){let t=ke();$(),J("link",t.projectElement.url)}}function D1(n,e){if(n&1&&(P(0,"div",22),U(1),N()),n&2){let t=ke();$(),_t(" ",t.projectElement.description," ")}}function S1(n,e){if(n&1&&(P(0,"div",23)(1,"p"),U(2),N()()),n&2){let t=ke();$(2),_t("Award-Winning, ",t.projectElement.awardWining,"")}}var A1=/^(https:\/\/)(www\.youtube\.com\/watch\?)(v=.+)$/,$l=class n{constructor(e){this.expandElementService=e}projectElement;expand;sendProject=new ct;miElemento;httpGroup;linkGroup;idGroup;ngOnInit(){if(this.projectElement?.url){let e=A1.exec(this.projectElement.url);e!=null&&(e[1]!=null&&(this.httpGroup=e[1]),e[2]!=null&&(this.linkGroup=e[2]),e[3]!=null&&(this.idGroup=e[3]))}}handleElement(){this.expandElementService.emitEvent({id:this.projectElement.order,isActive:!this.expand,elementRef:this.miElemento}),this.sendProject.emit({id:this.projectElement.order,isActive:!this.expand,elementRef:this.miElemento}),this.expand=!this.expand}sendToNewPage(e){e&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)(vt(Ro))};static \u0275cmp=qe({type:n,selectors:[["app-project-element"]],viewQuery:function(t,r){if(t&1&&Yu(_1,5),t&2){let i;Ks(i=Qs())&&(r.miElemento=i.first)}},inputs:{projectElement:"projectElement",expand:"expand"},outputs:{sendProject:"sendProject"},decls:32,vars:24,consts:[["scrolInto",""],["noLinks",""],[3,"click","ngClass"],[1,"indexTitle"],[1,"year"],[1,"videoLink"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"title"],[1,"informationShown"],["class","descriptionElement",4,"ngIf"],[1,"mobileYear"],["class","mobileAwardWinning",4,"ngIf"],[1,"mobileVideo"],[3,"image","images"],[1,"keywords"],[3,"ngClass"],[1,"mobileImage"],["class","links",4,"ngFor","ngForOf"],[1,"links"],[3,"link"],[1,"link"],[1,"descriptionElement"],[1,"mobileAwardWinning"]],template:function(t,r){if(t&1){let i=Xt();P(0,"a",2),Rt("click",function(){return Zt(i),Jt(r.handleElement())}),P(1,"div",3,0)(3,"p"),U(4),N()(),P(5,"div",4)(6,"p"),U(7),N(),P(8,"div",5),Se(9,w1,6,1,"ng-container",6)(10,b1,2,1,"ng-container",7)(11,T1,2,1,"ng-template",null,1,Xu),N()(),P(13,"div",8)(14,"p"),U(15),N(),P(16,"div",9),Se(17,D1,2,1,"div",10),P(18,"div",11)(19,"p"),U(20),N()(),Se(21,S1,3,1,"div",12),P(22,"div",13)(23,"p"),U(24),N()(),re(25,"app-element-image",14),N()(),P(26,"div",15)(27,"p"),U(28),N()(),re(29,"div",16),P(30,"div",17),re(31,"app-element-image",14),N()()}if(t&2){let i=Zu(12);J("ngClass",UC(17,I1,!r.expand&&!r.projectElement.hasOverflowedText,!r.expand&&r.projectElement.hasOverflowedText,r.expand)),$(4),_t("(",r.projectElement.index,")"),$(3),Ve(r.projectElement.year),$(2),J("ngIf",r.projectElement==null?null:r.projectElement.awardWining),$(),J("ngIf",r.projectElement==null?null:r.projectElement.links)("ngIfElse",i),$(5),Ve(r.projectElement.title),$(2),J("ngIf",r.projectElement==null?null:r.projectElement.description),$(3),Ve(r.projectElement.year),$(),J("ngIf",r.projectElement.awardWining),$(3),Ve(r.projectElement.url),$(),J("image",r.projectElement.image)("images",r.projectElement.images),$(3),Ve(r.projectElement.keywords),$(),J("ngClass",Ju(21,E1,!r.expand,r.expand)),$(2),J("image",r.projectElement.image)("images",r.projectElement.images)}},dependencies:[tn,Xs,Ut,Ul,Bl],styles:['[_nghost-%COMP%]{overflow-y:hidden;overflow-x:hidden}a.closeButtonIndex[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{border-top:.5mm solid rgb(207,207,207);display:grid;padding-top:5px;padding-bottom:5px;grid-template-columns:20% 20% 35% 24% 1%}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{max-width:fit-content;align-self:flex-start;margin-top:20%;margin-bottom:auto;max-width:50%;word-break:break-all;cursor:pointer}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%]{width:100%;height:auto}a.closeButtonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{padding-left:19%}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:none}a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:10px;transition:max-height .3s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{opacity:0;pointer-events:none;transition:opacity 2s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;margin:0;display:block}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:25px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible}a.closeButtonIndex[_ngcontent-%COMP%]{max-height:980px;transition:max-height .3s ease-in}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{transform:translateY(0);height:auto;opacity:1;transition:transform 1s ease,opacity 1s ease,height 1s ease}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:visible;text-overflow:none}.mobileYear[_ngcontent-%COMP%], .mobileVideo[_ngcontent-%COMP%], .mobileAwardWinning[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:">";font-size:12px;font-weight:bolder;position:relative}.icon_collapsed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon_collapsed[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:"x";font-size:12px;font-weight:bolder;position:relative}','[_nghost-%COMP%]{overflow-y:hidden;overflow-x:hidden}a.closeButtonIndex[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{border-top:.5mm solid rgb(207,207,207);display:grid;padding-top:5px;padding-bottom:5px;grid-template-columns:20% 20% 35% 24% 1%}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{max-width:fit-content;align-self:flex-start;margin-top:20%;margin-bottom:auto;max-width:50%;word-break:break-all;cursor:pointer}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%]{width:100%;height:auto}a.closeButtonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{padding-left:19%}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:none}a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:10px;transition:max-height .3s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{opacity:0;pointer-events:none;transition:opacity 2s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;margin:0;display:block}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:25px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible}a.closeButtonIndex[_ngcontent-%COMP%]{max-height:980px;transition:max-height .3s ease-in}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{transform:translateY(0);height:auto;opacity:1;transition:transform 1s ease,opacity 1s ease,height 1s ease}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:visible;text-overflow:none}.mobileYear[_ngcontent-%COMP%], .mobileVideo[_ngcontent-%COMP%], .mobileAwardWinning[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:">";font-size:12px;font-weight:bolder;position:relative}.icon_collapsed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon_collapsed[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:"x";font-size:12px;font-weight:bolder;position:relative}@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)){a.closeButtonIndex[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{line-height:1.5;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:auto;padding-bottom:5px;width:100%}a.closeButtonIndex[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%]{grid-column:1;grid-row:1}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:250px;padding-left:10%}a.closeButtonIndex[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%]{grid-column:3;grid-row:1;width:10%}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{grid-column:1/span 3;grid-row:2}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{display:none}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:block;max-width:60%;height:auto}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:100%}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]:after{font-size:9px}.icon_collapsed[_ngcontent-%COMP%]:after{font-size:9px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-top:10px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileYear[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileVideo[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileAwardWinning[_ngcontent-%COMP%]{margin-top:10px;display:block}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileVideo[_ngcontent-%COMP%]{text-decoration:underline}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:23px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible;line-height:1.5}a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:7px}}',"@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{overflow-wrap:break-word;width:50%;margin:0;padding-top:20%}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:50px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible;line-height:1.5}}"]})};var hT=()=>{};var pT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},M1=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Hl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,g=(o&3)<<4|c>>4,v=(c&15)<<2|l>>6,m=l&63;u||(m=64,s||(v=64)),r.push(t[f],t[g],t[v],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):M1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||g==null)throw new Zg;let v=o<<2|c>>4;if(r.push(v),l!==64){let m=c<<4&240|l>>2;if(r.push(m),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Zg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},R1=function(n){let e=pT(n);return Hl.encodeByteArray(e,!0)},ba=function(n){return R1(n).replace(/\./g,"")},zl=function(n){try{return Hl.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var P1=()=>gT().__FIREBASE_DEFAULTS__,x1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},O1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&zl(n[1]);return e&&JSON.parse(e)},ql=()=>{try{return hT()||P1()||x1()||O1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mT=n=>{var e,t;return(t=(e=ql())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},yT=n=>{let e=mT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Xg=()=>{var n;return(n=ql())===null||n===void 0?void 0:n.config},vT=n=>{var e;return(e=ql())===null||e===void 0?void 0:e[`_${n}`]};var di=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function _T(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ba(JSON.stringify(t)),ba(JSON.stringify(s)),""].join(".")}function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function N1(){var n;let e=(n=ql())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ET(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bT(){return!N1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ta(){try{return typeof indexedDB=="object"}catch{return!1}}function TT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var k1="FirebaseError",Bt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=k1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}},sn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?L1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Bt(i,c,r)}};function L1(n,e){return n.replace(F1,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var F1=/\{\$([^}]+)}/g;function hi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(fT(o)&&fT(s)){if(!hi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function fT(n){return n!==null&&typeof n=="object"}function em(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DT(n,e){let t=new Jg(n,e);return t.subscribe.bind(t)}var Jg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");V1(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Yg),i.error===void 0&&(i.error=Yg),i.complete===void 0&&(i.complete=Yg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function V1(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yg(){}var w9=4*60*60*1e3;function $t(n){return n&&n._delegate?n._delegate:n}var It=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fi="[DEFAULT]";var tm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new di;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U1(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function j1(n){return n===fi?void 0:n}function U1(n){return n.instantiationMode==="EAGER"}var Gl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new tm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var B1=[],ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ce||{}),$1={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},H1=ce.INFO,z1={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},q1=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=z1[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},bn=class{constructor(e){this.name=e,this._logLevel=H1,this._logHandler=q1,this._userLogHandler=null,B1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var G1=(n,e)=>e.some(t=>n instanceof t),ST,AT;function W1(){return ST||(ST=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return AT||(AT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var MT=new WeakMap,rm=new WeakMap,RT=new WeakMap,nm=new WeakMap,om=new WeakMap;function Q1(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Tn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&MT.set(t,n)}).catch(()=>{}),om.set(e,n),e}function Y1(n){if(rm.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});rm.set(n,e)}var im={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Tn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PT(n){im=n(im)}function Z1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Wl(this),e,...t);return RT.set(r,e.sort?e.sort():[e]),Tn(r)}:K1().includes(n)?function(...e){return n.apply(Wl(this),e),Tn(MT.get(this))}:function(...e){return Tn(n.apply(Wl(this),e))}}function J1(n){return typeof n=="function"?Z1(n):(n instanceof IDBTransaction&&Y1(n),G1(n,W1())?new Proxy(n,im):n)}function Tn(n){if(n instanceof IDBRequest)return Q1(n);if(nm.has(n))return nm.get(n);let e=J1(n);return e!==n&&(nm.set(n,e),om.set(e,n)),e}var Wl=n=>om.get(n);function OT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Tn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Tn(s.result),u.oldVersion,u.newVersion,Tn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var X1=["get","getKey","getAll","getAllKeys","count"],eL=["put","add","delete","clear"],sm=new Map;function xT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=eL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X1.includes(t)))return;let o=function(s,...c){return D(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return sm.set(e,o),o}PT(n=>be(F({},n),{get:(e,t,r)=>xT(e,t)||n.get(e,t,r),has:(e,t)=>!!xT(e,t)||n.has(e,t)}));var cm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function tL(n){let e=n.getComponent();return e?.type==="VERSION"}var um="@firebase/app",NT="0.11.4";var Kn=new bn("@firebase/app"),nL="@firebase/app-compat",rL="@firebase/analytics-compat",iL="@firebase/analytics",oL="@firebase/app-check-compat",sL="@firebase/app-check",aL="@firebase/auth",cL="@firebase/auth-compat",uL="@firebase/database",lL="@firebase/data-connect",dL="@firebase/database-compat",hL="@firebase/functions",fL="@firebase/functions-compat",pL="@firebase/installations",gL="@firebase/installations-compat",mL="@firebase/messaging",yL="@firebase/messaging-compat",vL="@firebase/performance",_L="@firebase/performance-compat",IL="@firebase/remote-config",EL="@firebase/remote-config-compat",wL="@firebase/storage",CL="@firebase/storage-compat",bL="@firebase/firestore",TL="@firebase/vertexai",DL="@firebase/firestore-compat",SL="firebase",AL="11.6.0";var lm="[DEFAULT]",ML={[um]:"fire-core",[nL]:"fire-core-compat",[iL]:"fire-analytics",[rL]:"fire-analytics-compat",[sL]:"fire-app-check",[oL]:"fire-app-check-compat",[aL]:"fire-auth",[cL]:"fire-auth-compat",[uL]:"fire-rtdb",[lL]:"fire-data-connect",[dL]:"fire-rtdb-compat",[hL]:"fire-fn",[fL]:"fire-fn-compat",[pL]:"fire-iid",[gL]:"fire-iid-compat",[mL]:"fire-fcm",[yL]:"fire-fcm-compat",[vL]:"fire-perf",[_L]:"fire-perf-compat",[IL]:"fire-rc",[EL]:"fire-rc-compat",[wL]:"fire-gcs",[CL]:"fire-gcs-compat",[bL]:"fire-fst",[DL]:"fire-fst-compat",[TL]:"fire-vertex","fire-js":"fire-js",[SL]:"fire-js-all"};var Da=new Map,RL=new Map,dm=new Map;function kT(n,e){try{n.container.addComponent(e)}catch(t){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function an(n){let e=n.name;if(dm.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,n);for(let t of Da.values())kT(t,n);for(let t of RL.values())kT(t,n);return!0}function Kl(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qn(n){return n==null?!1:n.settings!==void 0}var PL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new sn("app","Firebase",PL);var hm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};var Po=AL;function gm(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:lm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(t||(t=Xg()),!t)throw Cr.create("no-options");let o=Da.get(i);if(o){if(hi(t,o.options)&&hi(r,o.config))return o;throw Cr.create("duplicate-app",{appName:i})}let s=new Gl(i);for(let u of dm.values())s.addComponent(u);let c=new hm(t,r,s);return Da.set(i,c),c}function xo(n=lm){let e=Da.get(n);if(!e&&n===lm&&Xg())return gm();if(!e)throw Cr.create("no-app",{appName:n});return e}function Ql(){return Array.from(Da.values())}function je(n,e,t){var r;let i=(r=ML[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(c.join(" "));return}an(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var xL="firebase-heartbeat-database",OL=1,Sa="firebase-heartbeat-store",am=null;function jT(){return am||(am=OT(xL,OL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sa)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cr.create("idb-open",{originalErrorMessage:n.message})})),am}function NL(n){return D(this,null,function*(){try{let t=(yield jT()).transaction(Sa),r=yield t.objectStore(Sa).get(UT(n));return yield t.done,r}catch(e){if(e instanceof Bt)Kn.warn(e.message);else{let t=Cr.create("idb-get",{originalErrorMessage:e?.message});Kn.warn(t.message)}}})}function LT(n,e){return D(this,null,function*(){try{let r=(yield jT()).transaction(Sa,"readwrite");yield r.objectStore(Sa).put(e,UT(n)),yield r.done}catch(t){if(t instanceof Bt)Kn.warn(t.message);else{let r=Cr.create("idb-set",{originalErrorMessage:t?.message});Kn.warn(r.message)}}})}function UT(n){return`${n.name}!${n.options.appId}`}var kL=1024,LL=30,fm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new pm(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=FT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>LL){let s=VL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kn.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=FT(),{heartbeatsToSend:r,unsentEntries:i}=FL(this._heartbeatsCache.heartbeats),o=ba(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Kn.warn(t),""}})}};function FT(){return new Date().toISOString().substring(0,10)}function FL(n,e=kL){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),VT(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),VT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var pm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Ta()?TT().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield NL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function VT(n){return ba(JSON.stringify({version:2,heartbeats:n})).length}function VL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function jL(n){an(new It("platform-logger",e=>new cm(e),"PRIVATE")),an(new It("heartbeat",e=>new fm(e),"PRIVATE")),je(um,NT,n),je(um,NT,"esm2017"),je("fire-js","")}jL("");var UL="firebase",BL="11.6.0";je(UL,BL,"app");function mm(n){n===void 0&&(mp(mm),n=M(rt));let e=n.get(Vu);return t=>new ue(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var gi=new uo("ANGULARFIRE2_VERSION");function Zl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var No=(n,e)=>{let t=e?[e]:Ql(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Oo=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Oo||{}),BT=ng()&&typeof Zone<"u"?Oo.WARN:Oo.SILENT;var Yl=class{zone;delegate;constructor(e,t=cf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},mi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(Ee);this.outsideAngular=t.runOutsideAngular(()=>new Yl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Yl(typeof Zone>"u"?void 0:Zone.current,af))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$T=!1;function $L(n,e){!$T&&(BT>Oo.SILENT||ng())&&($T=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),BT>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function HL(n){let e=M(Ee,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function pi(n){let e=M(Ee,{optional:!0});return e?e.run(()=>n()):n()}var zL=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),dt(t,()=>pi(()=>n.apply(void 0,r)))),Dn=(n,e,t)=>(t||=e?Oo.WARN:Oo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=M(mi),s=M(Vu),c=M(ut)}catch{return $L(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=pi(()=>s.add())),i[l]=zL(i[l],r,c));let u=HL(()=>n.apply(this,i));return e?u instanceof ue?u.pipe(ur(o.outsideAngular),cr(o.insideAngular),mm(c)):u instanceof Promise?pi(()=>new Promise((l,f)=>{s.run(()=>u).then(g=>dt(c,()=>pi(()=>l(g))),g=>dt(c,()=>pi(()=>f(g))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:pi(()=>u):u instanceof ue?u.pipe(ur(o.outsideAngular),cr(o.insideAngular)):pi(()=>u)});var yi=class{constructor(e){return e}},Aa=class{constructor(){return Ql()}};function qL(n){return n&&n.length===1?n[0]:new yi(xo())}var ym=new z("angularfire2._apps"),GL={provide:yi,useFactory:qL,deps:[[new Bn,ym]]},WL={provide:Aa,deps:[[new Bn,ym]]};function KL(n){return(e,t)=>{let r=t.get(gr);je("angularfire",gi.full,"core"),je("angularfire",gi.full,"app"),je("angular",$C.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new yi(i)}}function HT(n,...e){return Zr([GL,WL,{provide:ym,useFactory:KL(n),multi:!0,deps:[Ee,rt,mi,...e]}])}var zT=Dn(gm,!0);var QL=new Map,YL={activated:!1,tokenObservers:[]},ZL={initialized:!1,enabled:!1};function cn(n){return QL.get(n)||Object.assign({},YL)}function KT(){return ZL}var JL="https://content-firebaseappcheck.googleapis.com/v1";var XL="exchangeDebugToken",qT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},M6=24*60*60*1e3;var Im=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return D(this,null,function*(){this.stop();try{this.pending=new di,this.pending.promise.catch(t=>{}),yield eF(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new di,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function eF(n){return new Promise(e=>{setTimeout(e,n)})}var tF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},br=new sn("appCheck","AppCheck",tF);function QT(n){if(!cn(n).activated)throw br.create("use-before-activation",{appName:n.name})}function YT(r,i){return D(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(m){throw br.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw br.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw br.create("fetch-parse-error",{originalErrorMessage:m?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw br.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let g=Number(f[1])*1e3,v=Date.now();return{token:l.token,expireTimeMillis:v+g,issuedAtTimeMillis:v}})}function ZT(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${JL}/projects/${t}/apps/${r}:${XL}?key=${i}`,body:{debug_token:e}}}var nF="firebase-app-check-database",rF=1,Em="firebase-app-check-store";var Jl=null;function iF(){return Jl||(Jl=new Promise((n,e)=>{try{let t=indexedDB.open(nF,rF);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(br.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Em,{keyPath:"compositeKey"})}}}catch(t){e(br.create("storage-open",{originalErrorMessage:t?.message}))}}),Jl)}function oF(n,e){return sF(aF(n),e)}function sF(n,e){return D(this,null,function*(){let r=(yield iF()).transaction(Em,"readwrite"),o=r.objectStore(Em).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(br.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function aF(n){return`${n.options.appId}-${n.name}`}var Ma=new bn("@firebase/app-check");function vm(n,e){return Ta()?oF(n,e).catch(t=>{Ma.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function JT(){return KT().enabled}function XT(){return D(this,null,function*(){let n=KT();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var cF={error:"UNKNOWN_ERROR"};function uF(n){return Hl.encodeString(JSON.stringify(n),!1)}function wm(n,e=!1,t=!1){return D(this,null,function*(){let r=n.app;QT(r);let i=cn(r),o=i.token,s;if(o&&!Ra(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ra(l)?o=l:yield vm(r,void 0))}if(!e&&o&&Ra(o))return{token:o.token};let c=!1;if(JT())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=YT(ZT(r,yield XT()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield vm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ma.warn(l.message):t&&Ma.error(l),_m(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield cn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ma.warn(l.message):t&&Ma.error(l),s=l}let u;return o?s?Ra(o)?u={token:o.token,internalError:s}:u=_m(s):(u={token:o.token},i.token=o,yield vm(r,o)):u=_m(s),c&&fF(r,u),u})}function lF(n){return D(this,null,function*(){let e=n.app;QT(e);let{provider:t}=cn(e);if(JT()){let r=yield XT(),{token:i}=yield YT(ZT(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function dF(n,e,t,r){let{app:i}=n,o=cn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ra(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),GT(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>GT(n))}function e0(n,e){let t=cn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function GT(n){let{app:e}=n,t=cn(e),r=t.tokenRefresher;r||(r=hF(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hF(n){let{app:e}=n;return new Im(()=>D(this,null,function*(){let t=cn(e),r;if(t.token?r=yield wm(n,!0):r=yield wm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=cn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},qT.RETRIAL_MIN_WAIT,qT.RETRIAL_MAX_WAIT)}function fF(n,e){let t=cn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ra(n){return n.expireTimeMillis-Date.now()>0}function _m(n){return{token:uF(cF),error:n}}var Cm=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=cn(this.app);for(let t of e)e0(this.app,t.next);return Promise.resolve()}};function pF(n,e){return new Cm(n,e)}function gF(n){return{getToken:e=>wm(n,e),getLimitedUseToken:()=>lF(n),addTokenListener:e=>dF(n,"INTERNAL",e),removeTokenListener:e=>e0(n.app,e)}}var mF="@firebase/app-check",yF="0.8.13";var vF="app-check",WT="app-check-internal";function _F(){an(new It(vF,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return pF(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(WT).initialize()})),an(new It(WT,n=>{let e=n.getProvider("app-check").getImmediate();return gF(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),je(mF,yF)}_F();var IF="app-check";var Xl=class{constructor(){return No(IF)}};var EF=["localhost","0.0.0.0","127.0.0.1"],$6=typeof window<"u"&&EF.includes(window.location.hostname);function c0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var u0=c0,l0=new sn("auth","Firebase",c0());var rd=new bn("@firebase/auth");function CF(n,...e){rd.logLevel<=ce.WARN&&rd.warn(`Auth (${Po}): ${n}`,...e)}function td(n,...e){rd.logLevel<=ce.ERROR&&rd.error(`Auth (${Po}): ${n}`,...e)}function t0(n,...e){throw km(n,...e)}function Nm(n,...e){return km(n,...e)}function d0(n,e,t){let r=Object.assign(Object.assign({},u0()),{[e]:t});return new sn("auth","Firebase",r).create(e,{appName:n.name})}function nd(n){return d0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return l0.create(n,...e)}function _e(n,e,...t){if(!n)throw km(e,...t)}function Pa(n){let e="INTERNAL ASSERTION FAILED: "+n;throw td(e),new Error(e)}function id(n,e){n||Pa(e)}function bF(){return n0()==="http:"||n0()==="https:"}function n0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function TF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bF()||wT()||"connection"in navigator)?navigator.onLine:!0}function DF(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ii=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,id(t>e,"Short delay should be less than long delay!"),this.isMobile=IT()||CT()}get(){return TF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function SF(n,e){id(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var od=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var AF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var MF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RF=new Ii(3e4,6e4);function h0(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ld(o,s,c,u){return D(this,arguments,function*(n,e,t,r,i={}){return f0(n,i,()=>D(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=em(Object.assign({key:n.config.apiKey},f)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:v},l);return ET()||(m.referrerPolicy="no-referrer"),od.fetch()(yield p0(n,n.config.apiHost,t,g),m)}))})}function f0(n,e,t){return D(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},AF),e);try{let i=new Dm(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ed(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ed(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw ed(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw d0(n,f,l);t0(n,f)}}catch(i){if(i instanceof Bt)throw i;t0(n,"network-request-failed",{message:String(i)})}})}function p0(n,e,t,r){return D(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?SF(n.config,i):`${n.config.apiScheme}://${i}`;return MF.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Dm=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nm(this.auth,"network-request-failed")),RF.get())})}};function ed(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Nm(n,e,r);return i.customData._tokenResponse=t,i}function PF(n,e){return D(this,null,function*(){return ld(n,"POST","/v1/accounts:delete",e)})}function sd(n,e){return D(this,null,function*(){return ld(n,"POST","/v1/accounts:lookup",e)})}function xa(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Lm(n,e=!1){return D(this,null,function*(){let t=$t(n),r=yield t.getIdToken(e),i=g0(r);_e(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:xa(bm(i.auth_time)),issuedAtTime:xa(bm(i.iat)),expirationTime:xa(bm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function bm(n){return Number(n)*1e3}function g0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{let i=zl(t);return i?JSON.parse(i):(td("Failed to decode base64 JWT payload"),null)}catch(i){return td("Caught error parsing JWT payload as JSON",i?.toString()),null}}function r0(n){let e=g0(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Sm(n,e,t=!1){return D(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Bt&&xF(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function xF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Am=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),t)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Na=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ad(n){return D(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Sm(n,sd(t,{idToken:r}));_e(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?m0(o.providerUserInfo):[],c=OF(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Na(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,g)})}function Fm(n){return D(this,null,function*(){let e=$t(n);yield ad(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function OF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function m0(n){return n.map(e=>{var{providerId:t}=e,r=uf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function NF(n,e){return D(this,null,function*(){let t=yield f0(n,{},()=>D(this,null,function*(){let r=em({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield p0(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",od.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function kF(n,e){return D(this,null,function*(){return ld(n,"POST","/v2/accounts:revokeToken",h0(n,e))})}var Oa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let t=r0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return D(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield NF(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Pa("not implemented")}};function Tr(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var vi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=uf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Am(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Na(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let t=yield Sm(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Lm(this,e)}reload(){return Fm(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ad(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(Qn(this.auth.app))return Promise.reject(nd(this.auth));let e=yield this.getIdToken();return yield Sm(this,PF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,O=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,q=(l=t.createdAt)!==null&&l!==void 0?l:void 0,me=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:oe,emailVerified:Ae,isAnonymous:gt,providerData:Ie,stsTokenManager:w}=t;_e(oe&&w,e,"internal-error");let y=Oa.fromJSON(this.name,w);_e(typeof oe=="string",e,"internal-error"),Tr(g,e.name),Tr(v,e.name),_e(typeof Ae=="boolean",e,"internal-error"),_e(typeof gt=="boolean",e,"internal-error"),Tr(m,e.name),Tr(A,e.name),Tr(x,e.name),Tr(O,e.name),Tr(q,e.name),Tr(me,e.name);let I=new n({uid:oe,auth:e,email:v,emailVerified:Ae,displayName:g,isAnonymous:gt,photoURL:A,phoneNumber:m,tenantId:x,stsTokenManager:y,createdAt:q,lastLoginAt:me});return Ie&&Array.isArray(Ie)&&(I.providerData=Ie.map(E=>Object.assign({},E))),O&&(I._redirectEventId=O),I}static _fromIdTokenResponse(e,t,r=!1){return D(this,null,function*(){let i=new Oa;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ad(o),o})}static _fromGetAccountInfoResponse(e,t,r){return D(this,null,function*(){let i=t.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?m0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Oa;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Na(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var i0=new Map;function _i(n){id(n instanceof Function,"Expected a class definition");let e=i0.get(n);return e?(id(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,i0.set(n,e),e)}var LF=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(t,r){return D(this,null,function*(){this.storage[t]=r})}_get(t){return D(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return D(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Mm=LF;function Tm(n,e,t){return`firebase:${n}:${e}:${t}`}var cd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Tm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Tm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield sd(this.auth,{idToken:e}).catch(()=>{});return t?vi._fromGetAccountInfoResponse(this.auth,t,e):null}return vi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(this,null,function*(){if(!t.length)return new n(_i(Mm),e,r);let i=(yield Promise.all(t.map(l=>D(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||_i(Mm),s=Tm(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(s);if(f){let g;if(typeof f=="string"){let v=yield sd(e,{idToken:f}).catch(()=>{});if(!v)break;g=yield vi._fromGetAccountInfoResponse(e,v,f)}else g=vi._fromJSON(e,f);l!==o&&(c=g),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>D(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function o0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($F(e))return"Blackberry";if(HF(e))return"Webos";if(VF(e))return"Safari";if((e.includes("chrome/")||jF(e))&&!e.includes("edge/"))return"Chrome";if(BF(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function FF(n=Ot()){return/firefox\//i.test(n)}function VF(n=Ot()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jF(n=Ot()){return/crios\//i.test(n)}function UF(n=Ot()){return/iemobile/i.test(n)}function BF(n=Ot()){return/android/i.test(n)}function $F(n=Ot()){return/blackberry/i.test(n)}function HF(n=Ot()){return/webos/i.test(n)}function y0(n,e=[]){let t;switch(n){case"Browser":t=o0(Ot());break;case"Worker":t=`${o0(Ot())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Po}/${r}`}var Rm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function zF(t){return D(this,arguments,function*(n,e={}){return ld(n,"GET","/v2/passwordPolicy",h0(n,e))})}var qF=6,Pm=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:qF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var xm=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ud(this),this.idTokenSubscription=new ud(this),this.beforeStateQueue=new Rm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_i(t)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield cd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let t=yield sd(this,{idToken:e}),r=yield vi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var t;if(Qn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield ad(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=DF()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(Qn(this.app))return Promise.reject(nd(this));let t=e?$t(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return D(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return Qn(this.app)?Promise.reject(nd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qn(this.app)?Promise.reject(nd(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(_i(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield zF(this),t=new Pm(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield kF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&_i(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=yield cd.create(this,[_i(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return D(this,null,function*(){var e;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&CF(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function GF(n){return $t(n)}var ud=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DT(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var WF={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KF(n){WF=n}function QF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function YF(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_i);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var e5=QF("rcb"),t5=new Ii(3e4,6e4);var n5=new Ii(2e3,1e4);var r5=10*60*1e3;var i5=new Ii(3e4,6e4);var o5=new Ii(5e3,15e3);var s5=encodeURIComponent("fac");var s0="@firebase/auth",a0="1.10.0";var Om=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ZF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JF(n){an(new It("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y0(n)},l=new xm(r,i,o,u);return YF(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),an(new It("auth-internal",e=>{let t=GF(e.getProvider("auth").getImmediate());return(r=>new Om(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(s0,a0,ZF(n)),je(s0,a0,"esm2017")}var XF=5*60,a5=vT("authIdTokenMaxAge")||XF;function eV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}KF({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Nm("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",eV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JF("Browser");var JV="auth";var dd=class{constructor(){return No(JV)}};var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_0={};var Yn,Vm;(function(){var n;function e(w,y){function I(){}I.prototype=y.prototype,w.D=y.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(E,C,T){for(var _=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)_[Pn-2]=arguments[Pn];return y.prototype[C].apply(E,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,y,I){I||(I=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(C=0;16>C;++C)E[C]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=w.g[0],I=w.g[1],C=w.g[2];var T=w.g[3],_=y+(T^I&(C^T))+E[0]+3614090360&4294967295;y=I+(_<<7&4294967295|_>>>25),_=T+(C^y&(I^C))+E[1]+3905402710&4294967295,T=y+(_<<12&4294967295|_>>>20),_=C+(I^T&(y^I))+E[2]+606105819&4294967295,C=T+(_<<17&4294967295|_>>>15),_=I+(y^C&(T^y))+E[3]+3250441966&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(T^I&(C^T))+E[4]+4118548399&4294967295,y=I+(_<<7&4294967295|_>>>25),_=T+(C^y&(I^C))+E[5]+1200080426&4294967295,T=y+(_<<12&4294967295|_>>>20),_=C+(I^T&(y^I))+E[6]+2821735955&4294967295,C=T+(_<<17&4294967295|_>>>15),_=I+(y^C&(T^y))+E[7]+4249261313&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(T^I&(C^T))+E[8]+1770035416&4294967295,y=I+(_<<7&4294967295|_>>>25),_=T+(C^y&(I^C))+E[9]+2336552879&4294967295,T=y+(_<<12&4294967295|_>>>20),_=C+(I^T&(y^I))+E[10]+4294925233&4294967295,C=T+(_<<17&4294967295|_>>>15),_=I+(y^C&(T^y))+E[11]+2304563134&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(T^I&(C^T))+E[12]+1804603682&4294967295,y=I+(_<<7&4294967295|_>>>25),_=T+(C^y&(I^C))+E[13]+4254626195&4294967295,T=y+(_<<12&4294967295|_>>>20),_=C+(I^T&(y^I))+E[14]+2792965006&4294967295,C=T+(_<<17&4294967295|_>>>15),_=I+(y^C&(T^y))+E[15]+1236535329&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(C^T&(I^C))+E[1]+4129170786&4294967295,y=I+(_<<5&4294967295|_>>>27),_=T+(I^C&(y^I))+E[6]+3225465664&4294967295,T=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(T^y))+E[11]+643717713&4294967295,C=T+(_<<14&4294967295|_>>>18),_=I+(T^y&(C^T))+E[0]+3921069994&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(C^T&(I^C))+E[5]+3593408605&4294967295,y=I+(_<<5&4294967295|_>>>27),_=T+(I^C&(y^I))+E[10]+38016083&4294967295,T=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(T^y))+E[15]+3634488961&4294967295,C=T+(_<<14&4294967295|_>>>18),_=I+(T^y&(C^T))+E[4]+3889429448&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(C^T&(I^C))+E[9]+568446438&4294967295,y=I+(_<<5&4294967295|_>>>27),_=T+(I^C&(y^I))+E[14]+3275163606&4294967295,T=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(T^y))+E[3]+4107603335&4294967295,C=T+(_<<14&4294967295|_>>>18),_=I+(T^y&(C^T))+E[8]+1163531501&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(C^T&(I^C))+E[13]+2850285829&4294967295,y=I+(_<<5&4294967295|_>>>27),_=T+(I^C&(y^I))+E[2]+4243563512&4294967295,T=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(T^y))+E[7]+1735328473&4294967295,C=T+(_<<14&4294967295|_>>>18),_=I+(T^y&(C^T))+E[12]+2368359562&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(I^C^T)+E[5]+4294588738&4294967295,y=I+(_<<4&4294967295|_>>>28),_=T+(y^I^C)+E[8]+2272392833&4294967295,T=y+(_<<11&4294967295|_>>>21),_=C+(T^y^I)+E[11]+1839030562&4294967295,C=T+(_<<16&4294967295|_>>>16),_=I+(C^T^y)+E[14]+4259657740&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(I^C^T)+E[1]+2763975236&4294967295,y=I+(_<<4&4294967295|_>>>28),_=T+(y^I^C)+E[4]+1272893353&4294967295,T=y+(_<<11&4294967295|_>>>21),_=C+(T^y^I)+E[7]+4139469664&4294967295,C=T+(_<<16&4294967295|_>>>16),_=I+(C^T^y)+E[10]+3200236656&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(I^C^T)+E[13]+681279174&4294967295,y=I+(_<<4&4294967295|_>>>28),_=T+(y^I^C)+E[0]+3936430074&4294967295,T=y+(_<<11&4294967295|_>>>21),_=C+(T^y^I)+E[3]+3572445317&4294967295,C=T+(_<<16&4294967295|_>>>16),_=I+(C^T^y)+E[6]+76029189&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(I^C^T)+E[9]+3654602809&4294967295,y=I+(_<<4&4294967295|_>>>28),_=T+(y^I^C)+E[12]+3873151461&4294967295,T=y+(_<<11&4294967295|_>>>21),_=C+(T^y^I)+E[15]+530742520&4294967295,C=T+(_<<16&4294967295|_>>>16),_=I+(C^T^y)+E[2]+3299628645&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(C^(I|~T))+E[0]+4096336452&4294967295,y=I+(_<<6&4294967295|_>>>26),_=T+(I^(y|~C))+E[7]+1126891415&4294967295,T=y+(_<<10&4294967295|_>>>22),_=C+(y^(T|~I))+E[14]+2878612391&4294967295,C=T+(_<<15&4294967295|_>>>17),_=I+(T^(C|~y))+E[5]+4237533241&4294967295,I=C+(_<<21&4294967295|_>>>11),_=y+(C^(I|~T))+E[12]+1700485571&4294967295,y=I+(_<<6&4294967295|_>>>26),_=T+(I^(y|~C))+E[3]+2399980690&4294967295,T=y+(_<<10&4294967295|_>>>22),_=C+(y^(T|~I))+E[10]+4293915773&4294967295,C=T+(_<<15&4294967295|_>>>17),_=I+(T^(C|~y))+E[1]+2240044497&4294967295,I=C+(_<<21&4294967295|_>>>11),_=y+(C^(I|~T))+E[8]+1873313359&4294967295,y=I+(_<<6&4294967295|_>>>26),_=T+(I^(y|~C))+E[15]+4264355552&4294967295,T=y+(_<<10&4294967295|_>>>22),_=C+(y^(T|~I))+E[6]+2734768916&4294967295,C=T+(_<<15&4294967295|_>>>17),_=I+(T^(C|~y))+E[13]+1309151649&4294967295,I=C+(_<<21&4294967295|_>>>11),_=y+(C^(I|~T))+E[4]+4149444226&4294967295,y=I+(_<<6&4294967295|_>>>26),_=T+(I^(y|~C))+E[11]+3174756917&4294967295,T=y+(_<<10&4294967295|_>>>22),_=C+(y^(T|~I))+E[2]+718787259&4294967295,C=T+(_<<15&4294967295|_>>>17),_=I+(T^(C|~y))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+T&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var I=y-this.blockSize,E=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=I;)i(this,w,T),T+=this.blockSize;if(typeof w=="string"){for(;T<y;)if(E[C++]=w.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<y;)if(E[C++]=w[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var I=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=I&255,I/=256;for(this.u(w),w=Array(16),y=I=0;4>y;++y)for(var E=0;32>E;E+=8)w[I++]=this.g[y]>>>E&255;return w};function o(w,y){var I=c;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=y(w)}function s(w,y){this.h=y;for(var I=[],E=!0,C=w.length-1;0<=C;C--){var T=w[C]|0;E&&T==y||(I[C]=T,E=!1)}this.g=I}var c={};function u(w){return-128<=w&&128>w?o(w,function(y){return new s([y|0],0>y?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return g;if(0>w)return O(l(-w));for(var y=[],I=1,E=0;w>=I;E++)y[E]=w/I|0,I*=4294967296;return new s(y,0)}function f(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return O(f(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(y,8)),E=g,C=0;C<w.length;C+=8){var T=Math.min(8,w.length-C),_=parseInt(w.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(_))):(E=E.j(I),E=E.add(l(_)))}return E}var g=u(0),v=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(x(this))return-O(this).m();for(var w=0,y=1,I=0;I<this.g.length;I++){var E=this.i(I);w+=(0<=E?E:4294967296+E)*y,y*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(x(this))return"-"+O(this).toString(w);for(var y=l(Math.pow(w,6)),I=this,E="";;){var C=Ae(I,y).g;I=q(I,C.j(y));var T=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=C,A(I))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function x(w){return w.h==-1}n.l=function(w){return w=q(this,w),x(w)?-1:A(w)?0:1};function O(w){for(var y=w.g.length,I=[],E=0;E<y;E++)I[E]=~w.g[E];return new s(I,~w.h).add(v)}n.abs=function(){return x(this)?O(this):this},n.add=function(w){for(var y=Math.max(this.g.length,w.g.length),I=[],E=0,C=0;C<=y;C++){var T=E+(this.i(C)&65535)+(w.i(C)&65535),_=(T>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);E=_>>>16,T&=65535,_&=65535,I[C]=_<<16|T}return new s(I,I[I.length-1]&-2147483648?-1:0)};function q(w,y){return w.add(O(y))}n.j=function(w){if(A(this)||A(w))return g;if(x(this))return x(w)?O(this).j(O(w)):O(O(this).j(w));if(x(w))return O(this.j(O(w)));if(0>this.l(m)&&0>w.l(m))return l(this.m()*w.m());for(var y=this.g.length+w.g.length,I=[],E=0;E<2*y;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<w.g.length;C++){var T=this.i(E)>>>16,_=this.i(E)&65535,Pn=w.i(C)>>>16,as=w.i(C)&65535;I[2*E+2*C]+=_*as,me(I,2*E+2*C),I[2*E+2*C+1]+=T*as,me(I,2*E+2*C+1),I[2*E+2*C+1]+=_*Pn,me(I,2*E+2*C+1),I[2*E+2*C+2]+=T*Pn,me(I,2*E+2*C+2)}for(E=0;E<y;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=y;E<2*y;E++)I[E]=0;return new s(I,0)};function me(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function oe(w,y){this.g=w,this.h=y}function Ae(w,y){if(A(y))throw Error("division by zero");if(A(w))return new oe(g,g);if(x(w))return y=Ae(O(w),y),new oe(O(y.g),O(y.h));if(x(y))return y=Ae(w,O(y)),new oe(O(y.g),y.h);if(30<w.g.length){if(x(w)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var I=v,E=y;0>=E.l(w);)I=gt(I),E=gt(E);var C=Ie(I,1),T=Ie(E,1);for(E=Ie(E,2),I=Ie(I,2);!A(E);){var _=T.add(E);0>=_.l(w)&&(C=C.add(I),T=_),E=Ie(E,1),I=Ie(I,1)}return y=q(w,C.j(y)),new oe(C,y)}for(C=g;0<=w.l(y);){for(I=Math.max(1,Math.floor(w.m()/y.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(I),_=T.j(y);x(_)||0<_.l(w);)I-=E,T=l(I),_=T.j(y);A(T)&&(T=v),C=C.add(T),w=q(w,_)}return new oe(C,w)}n.A=function(w){return Ae(this,w).h},n.and=function(w){for(var y=Math.max(this.g.length,w.g.length),I=[],E=0;E<y;E++)I[E]=this.i(E)&w.i(E);return new s(I,this.h&w.h)},n.or=function(w){for(var y=Math.max(this.g.length,w.g.length),I=[],E=0;E<y;E++)I[E]=this.i(E)|w.i(E);return new s(I,this.h|w.h)},n.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),I=[],E=0;E<y;E++)I[E]=this.i(E)^w.i(E);return new s(I,this.h^w.h)};function gt(w){for(var y=w.g.length+1,I=[],E=0;E<y;E++)I[E]=w.i(E)<<1|w.i(E-1)>>>31;return new s(I,w.h)}function Ie(w,y){var I=y>>5;y%=32;for(var E=w.g.length-I,C=[],T=0;T<E;T++)C[T]=0<y?w.i(T+I)>>>y|w.i(T+I+1)<<32-y:w.i(T+I);return new s(C,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vm=_0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Yn=_0.Integer=s}).apply(typeof v0<"u"?v0:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={};var jm,XV,ko,Um,ka,fd,Bm,$m,Hm;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function v(a,d,h){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function m(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var L=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)L[Ce-2]=arguments[Ce];return d.prototype[b].apply(p,L)}}function x(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function O(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let L=0;L<S;L++)a[b+L]=p[L]}else a.push(p)}}class q{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function me(a){return/^[\s\xa0]*$/.test(a)}function oe(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Ae(a){return Ae[" "](a),a}Ae[" "]=function(){};var gt=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function Ie(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<I.length;S++)h=I[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=ph;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Pn{constructor(){this.h=this.g=null}add(d,h){let p=as.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var as=new q(()=>new zS,a=>a.reset());class zS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let cs,us=!1,ph=new Pn,n_=()=>{let a=c.Promise.resolve(void 0);cs=()=>{a.then(qS)}};var qS=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){T(h)}var d=as;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}us=!1};function rr(){this.s=this.s,this.C=this.C}rr.prototype.s=!1,rr.prototype.ma=function(){this.s||(this.s=!0,this.N())},rr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var GS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function ls(a,d){if(it.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(gt){e:{try{Ae(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:WS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ls.aa.h.call(this)}}A(ls,it);var WS={2:"touch",3:"pen",4:"mouse"};ls.prototype.h=function(){ls.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ds="closure_listenable_"+(1e6*Math.random()|0),KS=0;function QS(a,d,h,p,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=b,this.key=++KS,this.da=this.fa=!1}function cc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function uc(a){this.src=a,this.g={},this.h=0}uc.prototype.add=function(a,d,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var L=mh(a,d,p,b);return-1<L?(d=a[L],h||(d.fa=!1)):(d=new QS(d,this.src,S,!!p,b),d.fa=h,a.push(d)),d};function gh(a,d){var h=d.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(cc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function mh(a,d,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return b}return-1}var yh="closure_lm_"+(1e6*Math.random()|0),vh={};function r_(a,d,h,p,b){if(p&&p.once)return o_(a,d,h,p,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)r_(a,d[S],h,p,b);return null}return h=wh(h),a&&a[ds]?a.K(d,h,l(p)?!!p.capture:!!p,b):i_(a,d,h,!1,p,b)}function i_(a,d,h,p,b,S){if(!d)throw Error("Invalid event type");var L=l(b)?!!b.capture:!!b,Ce=Ih(a);if(Ce||(a[yh]=Ce=new uc(a)),h=Ce.add(d,h,p,L,S),h.proxy)return h;if(p=YS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)GS||(b=L),b===void 0&&(b=!1),a.addEventListener(d.toString(),p,b);else if(a.attachEvent)a.attachEvent(a_(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function YS(){function a(h){return d.call(a.src,a.listener,h)}let d=ZS;return a}function o_(a,d,h,p,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)o_(a,d[S],h,p,b);return null}return h=wh(h),a&&a[ds]?a.L(d,h,l(p)?!!p.capture:!!p,b):i_(a,d,h,!0,p,b)}function s_(a,d,h,p,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)s_(a,d[S],h,p,b);else p=l(p)?!!p.capture:!!p,h=wh(h),a&&a[ds]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=mh(S,h,p,b),-1<h&&(cc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ih(a))&&(d=a.g[d.toString()],a=-1,d&&(a=mh(d,h,p,b)),(h=-1<a?d[a]:null)&&_h(h))}function _h(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ds])gh(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(a_(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Ih(d))?(gh(h,a),h.h==0&&(h.src=null,d[yh]=null)):cc(a)}}}function a_(a){return a in vh?vh[a]:vh[a]="on"+a}function ZS(a,d){if(a.da)a=!0;else{d=new ls(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&_h(a),a=h.call(p,d)}return a}function Ih(a){return a=a[yh],a instanceof uc?a:null}var Eh="__closure_events_fn_"+(1e9*Math.random()>>>0);function wh(a){return typeof a=="function"?a:(a[Eh]||(a[Eh]=function(d){return a.handleEvent(d)}),a[Eh])}function ot(){rr.call(this),this.i=new uc(this),this.M=this,this.F=null}A(ot,rr),ot.prototype[ds]=!0,ot.prototype.removeEventListener=function(a,d,h,p){s_(this,a,d,h,p)};function mt(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new it(d,a);else if(d instanceof it)d.target=d.target||a;else{var b=d;d=new it(p,a),E(d,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var L=d.g=h[S];b=lc(L,p,!0,d)&&b}if(L=d.g=a,b=lc(L,p,!0,d)&&b,b=lc(L,p,!1,d)&&b,h)for(S=0;S<h.length;S++)L=d.g=h[S],b=lc(L,p,!1,d)&&b}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)cc(h[p]);delete a.g[d],a.h--}}this.F=null},ot.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},ot.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function lc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var L=d[S];if(L&&!L.da&&L.capture==h){var Ce=L.listener,tt=L.ha||L.src;L.fa&&gh(a.i,L),b=Ce.call(tt,p)!==!1&&b}}return b&&!p.defaultPrevented}function c_(a,d,h){if(typeof a=="function")h&&(a=v(a,h));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function u_(a){a.g=c_(()=>{a.g=null,a.i&&(a.i=!1,u_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class JS extends rr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:u_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(a){rr.call(this),this.h=a,this.g={}}A(hs,rr);var l_=[];function d_(a){Ie(a.g,function(d,h){this.g.hasOwnProperty(h)&&_h(d)},a),a.g={}}hs.prototype.N=function(){hs.aa.N.call(this),d_(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ch=c.JSON.stringify,XS=c.JSON.parse,eA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function bh(){}bh.prototype.h=null;function h_(a){return a.h||(a.h=a.i())}function f_(){}var fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Th(){it.call(this,"d")}A(Th,it);function Dh(){it.call(this,"c")}A(Dh,it);var xr={},p_=null;function dc(){return p_=p_||new ot}xr.La="serverreachability";function g_(a){it.call(this,xr.La,a)}A(g_,it);function ps(a){let d=dc();mt(d,new g_(d))}xr.STAT_EVENT="statevent";function m_(a,d){it.call(this,xr.STAT_EVENT,a),this.stat=d}A(m_,it);function yt(a){let d=dc();mt(d,new m_(d,a))}xr.Ma="timingevent";function y_(a,d){it.call(this,xr.Ma,a),this.size=d}A(y_,it);function gs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function tA(a,d,h,p,b,S){a.info(function(){if(a.g)if(S)for(var L="",Ce=S.split("&"),tt=0;tt<Ce.length;tt++){var ye=Ce[tt].split("=");if(1<ye.length){var st=ye[0];ye=ye[1];var at=st.split("_");L=2<=at.length&&at[1]=="type"?L+(st+"="+ye+"&"):L+(st+"=redacted&")}}else L=null;else L=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+d+`
`+h+`
`+L})}function nA(a,d,h,p,b,S,L){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+d+`
`+h+`
`+S+" "+L})}function Ri(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+iA(a,h)+(p?" "+p:"")})}function rA(a,d){a.info(function(){return"TIMEOUT: "+d})}ms.prototype.info=function(){};function iA(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var L=1;L<b.length;L++)b[L]=""}}}}return Ch(h)}catch{return d}}var hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},v_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sh;function fc(){}A(fc,bh),fc.prototype.g=function(){return new XMLHttpRequest},fc.prototype.i=function(){return{}},Sh=new fc;function ir(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new __}function __(){this.i=null,this.g="",this.h=!1}var I_={},Ah={};function Mh(a,d,h){a.L=1,a.v=yc(xn(d)),a.m=h,a.P=!0,E_(a,null)}function E_(a,d){a.F=Date.now(),pc(a),a.A=xn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),k_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new __,a.g=X_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new JS(v(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(l_[0]=b.toString()),b=l_);for(var S=0;S<b.length;S++){var L=r_(h,b[S],p||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ps(),tA(a.i,a.u,a.A,a.l,a.R,a.m)}ir.prototype.ca=function(a){a=a.target;let d=this.M;d&&On(a)==3?d.j():this.Y(a)},ir.prototype.Y=function(a){try{if(a==this.g)e:{let at=On(this.g);var d=this.g.Ba();let Oi=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||$_(this.g)))){this.J||at!=4||d==7||(d==8||0>=Oi?ps(3):ps(2)),Rh(this);var h=this.g.Z();this.X=h;t:if(w_(this)){var p=$_(this.g);a="";var b=p.length,S=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),ys(this);var L="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==b-1)});p.length=0,this.h.g+=a,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=h==200,nA(this.i,this.u,this.A,this.l,this.R,at,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,tt=this.g;if((Ce=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!me(Ce)){var ye=Ce;break t}}ye=null}if(h=ye)Ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ph(this,h);else{this.o=!1,this.s=3,yt(12),Or(this),ys(this);break e}}if(this.P){h=!0;let qt;for(;!this.J&&this.C<L.length;)if(qt=oA(this,L),qt==Ah){at==4&&(this.s=4,yt(14),h=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==I_){this.s=4,yt(15),Ri(this.i,this.l,L,"[Invalid Chunk]"),h=!1;break}else Ri(this.i,this.l,qt,null),Ph(this,qt);if(w_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||L.length!=0||this.h.h||(this.s=1,yt(16),h=!1),this.o=this.o&&h,!h)Ri(this.i,this.l,L,"[Invalid Chunked Response]"),Or(this),ys(this);else if(0<L.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Fh(st),st.M=!0,yt(11))}}else Ri(this.i,this.l,L,null),Ph(this,L);at==4&&Or(this),this.o&&!this.J&&(at==4?Q_(this.j,this):(this.o=!1,pc(this)))}else wA(this.g),h==400&&0<L.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Or(this),ys(this)}}}catch{}finally{}};function w_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function oA(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?Ah:(h=Number(d.substring(h,p)),isNaN(h)?I_:(p+=1,p+h>d.length?Ah:(d=d.slice(p,p+h),a.C=p+h,d)))}ir.prototype.cancel=function(){this.J=!0,Or(this)};function pc(a){a.S=Date.now()+a.I,C_(a,a.I)}function C_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=gs(v(a.ba,a),d)}function Rh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ir.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(rA(this.i,this.A),this.L!=2&&(ps(),yt(17)),Or(this),this.s=2,ys(this)):C_(this,this.S-a)};function ys(a){a.j.G==0||a.J||Q_(a.j,a)}function Or(a){Rh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,d_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Ph(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||xh(h.h,a))){if(!a.K&&xh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)wc(h),Ic(h);else break e;Lh(h),yt(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=gs(v(h.Za,h),6e3));if(1>=D_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else kr(h,11)}else if((a.K||h.g==a)&&wc(h),!me(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let ye=b[d];if(h.T=ye[0],ye=ye[1],h.G==2)if(ye[0]=="c"){h.K=ye[1],h.ia=ye[2];let st=ye[3];st!=null&&(h.la=st,h.j.info("VER="+h.la));let at=ye[4];at!=null&&(h.Aa=at,h.j.info("SVER="+h.Aa));let Oi=ye[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(p=1.5*Oi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let qt=a.g;if(qt){let bc=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bc){var S=p.h;S.g||bc.indexOf("spdy")==-1&&bc.indexOf("quic")==-1&&bc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Oh(S,S.h),S.h=null))}if(p.D){let Vh=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vh&&(p.ya=Vh,Me(p.I,p.D,Vh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var L=a;if(p.qa=J_(p,p.J?p.ia:null,p.W),L.K){S_(p.h,L);var Ce=L,tt=p.L;tt&&(Ce.I=tt),Ce.B&&(Rh(Ce),pc(Ce)),p.g=L}else W_(p);0<h.i.length&&Ec(h)}else ye[0]!="stop"&&ye[0]!="close"||kr(h,7);else h.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?kr(h,7):kh(h):ye[0]!="noop"&&h.l&&h.l.ta(ye),h.v=0)}}ps(4)}catch{}}var sA=class{constructor(a,d){this.g=a,this.map=d}};function b_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function T_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function D_(a){return a.h?1:a.g?a.g.size:0}function xh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Oh(a,d){a.g?a.g.add(d):a.h=d}function S_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}b_.prototype.cancel=function(){if(this.i=A_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function A_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return x(a.i)}function aA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function cA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function M_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=cA(a),p=aA(a),b=p.length,S=0;S<b;S++)d.call(void 0,p[S],h&&h[S],a)}var R_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uA(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Nr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Nr){this.h=a.h,gc(this,a.j),this.o=a.o,this.g=a.g,mc(this,a.s),this.l=a.l;var d=a.i,h=new Is;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),P_(this,h),this.m=a.m}else a&&(d=String(a).match(R_))?(this.h=!1,gc(this,d[1]||"",!0),this.o=vs(d[2]||""),this.g=vs(d[3]||"",!0),mc(this,d[4]),this.l=vs(d[5]||"",!0),P_(this,d[6]||"",!0),this.m=vs(d[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}Nr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(_s(d,x_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(_s(d,x_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(_s(h,h.charAt(0)=="/"?hA:dA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",_s(h,pA)),a.join("")};function xn(a){return new Nr(a)}function gc(a,d,h){a.j=h?vs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function mc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function P_(a,d,h){d instanceof Is?(a.i=d,gA(a.i,a.h)):(h||(d=_s(d,fA)),a.i=new Is(d,a.h))}function Me(a,d,h){a.i.set(d,h)}function yc(a){return Me(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function vs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function _s(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,lA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function lA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var x_=/[#\/\?@]/g,dA=/[#\?:]/g,hA=/[#\?]/g,fA=/[#\?@]/g,pA=/#/g;function Is(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function or(a){a.g||(a.g=new Map,a.h=0,a.i&&uA(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Is.prototype,n.add=function(a,d){or(this),this.i=null,a=Pi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function O_(a,d){or(a),d=Pi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function N_(a,d){return or(a),d=Pi(a,d),a.g.has(d)}n.forEach=function(a,d){or(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(d,b,p,this)},this)},this)},n.na=function(){or(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(d[p])}return h},n.V=function(a){or(this);let d=[];if(typeof a=="string")N_(this,a)&&(d=d.concat(this.g.get(Pi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return or(this),this.i=null,a=Pi(this,a),N_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function k_(a,d,h){O_(a,d),0<h.length&&(a.i=null,a.g.set(Pi(a,d),x(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),L=this.V(p);for(p=0;p<L.length;p++){var b=S;L[p]!==""&&(b+="="+encodeURIComponent(String(L[p]))),a.push(b)}}return this.i=a.join("&")};function Pi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function gA(a,d){d&&!a.j&&(or(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(O_(this,p),k_(this,b,h))},a)),a.j=d}function mA(a,d){let h=new ms;if(c.Image){let p=new Image;p.onload=m(sr,h,"TestLoadImage: loaded",!0,d,p),p.onerror=m(sr,h,"TestLoadImage: error",!1,d,p),p.onabort=m(sr,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=m(sr,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function yA(a,d){let h=new ms,p=new AbortController,b=setTimeout(()=>{p.abort(),sr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?sr(h,"TestPingServer: ok",!0,d):sr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),sr(h,"TestPingServer: error",!1,d)})}function sr(a,d,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function vA(){this.g=new eA}function _A(a,d,h){let p=h||"";try{M_(a,function(b,S){let L=b;l(b)&&(L=Ch(b)),d.push(p+S+"="+encodeURIComponent(L))})}catch(b){throw d.push(p+"type="+encodeURIComponent("_badmap")),b}}function Es(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Es,bh),Es.prototype.g=function(){return new vc(this.l,this.j)},Es.prototype.i=function(a){return function(){return a}}({});function vc(a,d){ot.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(vc,ot),n=vc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Cs(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Cs(this)),this.g&&(this.readyState=3,Cs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;L_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function L_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ws(this):Cs(this),this.readyState==3&&L_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ws(this))},n.Qa=function(a){this.g&&(this.response=a,ws(this))},n.ga=function(){this.g&&ws(this)};function ws(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Cs(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Cs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function F_(a){let d="";return Ie(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function Nh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=F_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Me(a,d,h))}function Oe(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Oe,ot);var IA=/^https?$/i,EA=["POST","PUT"];n=Oe.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sh.g(),this.v=this.o?h_(this.o):h_(Sh),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){V_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(EA,d,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,L]of h)this.g.setRequestHeader(S,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{B_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){V_(this,S)}};function V_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,j_(a),_c(a)}function j_(a){a.A||(a.A=!0,mt(a,"complete"),mt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,mt(this,"complete"),mt(this,"abort"),_c(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_c(this,!0)),Oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?U_(this):this.bb())},n.bb=function(){U_(this)};function U_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||On(a)!=4||a.Z()!=2)){if(a.u&&On(a)==4)c_(a.Ea,0,a);else if(mt(a,"readystatechange"),On(a)==4){a.h=!1;try{let L=a.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=L===0){var b=String(a.D).match(R_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!IA.test(b?b.toLowerCase():"")}h=p}if(h)mt(a,"complete"),mt(a,"success");else{a.m=6;try{var S=2<On(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",j_(a)}}finally{_c(a)}}}}function _c(a,d){if(a.g){B_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||mt(a,"ready");try{h.onreadystatechange=p}catch{}}}function B_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function On(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),XS(d)}};function $_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function wA(a){let d={};a=(a.g&&2<=On(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(me(a[p]))continue;var h=C(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[b]||[];d[b]=S,S.push(h)}w(d,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function H_(a){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,a),this.cb=bs("retryDelaySeedMs",1e4,a),this.Wa=bs("forwardChannelMaxRetries",2,a),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new b_(a&&a.concurrentRequestLimit),this.Da=new vA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=H_.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,p){yt(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=J_(this,null,this.W),Ec(this)};function kh(a){if(z_(a),a.G==3){var d=a.U++,h=xn(a.I);if(Me(h,"SID",a.K),Me(h,"RID",d),Me(h,"TYPE","terminate"),Ts(a,h),d=new ir(a,a.j,d),d.L=2,d.v=yc(xn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=X_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),pc(d)}Z_(a)}function Ic(a){a.g&&(Fh(a),a.g.cancel(),a.g=null)}function z_(a){Ic(a),a.u&&(c.clearTimeout(a.u),a.u=null),wc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ec(a){if(!T_(a.h)&&!a.s){a.s=!0;var d=a.Ga;cs||n_(),us||(cs(),us=!0),ph.add(d,a),a.B=0}}function CA(a,d){return D_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=gs(v(a.Ga,a,d),Y_(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new ir(this,this.j,a),S=this.o;if(this.S&&(S?(S=y(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=G_(this,b,d),h=xn(this.I),Me(h,"RID",a),Me(h,"CVER",22),this.D&&Me(h,"X-HTTP-Session-Id",this.D),Ts(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(F_(S)))+"&"+d:this.m&&Nh(h,this.m,S)),Oh(this.h,b),this.Ua&&Me(h,"TYPE","init"),this.P?(Me(h,"$req",d),Me(h,"SID","null"),b.T=!0,Mh(b,h,null)):Mh(b,h,d),this.G=2}}else this.G==3&&(a?q_(this,a):this.i.length==0||T_(this.h)||q_(this))};function q_(a,d){var h;d?h=d.l:h=a.U++;let p=xn(a.I);Me(p,"SID",a.K),Me(p,"RID",h),Me(p,"AID",a.T),Ts(a,p),a.m&&a.o&&Nh(p,a.m,a.o),h=new ir(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=G_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Oh(a.h,h),Mh(h,p,d)}function Ts(a,d){a.H&&Ie(a.H,function(h,p){Me(d,p,h)}),a.l&&M_({},function(h,p){Me(d,p,h)})}function G_(a,d,h){h=Math.min(a.i.length,h);var p=a.l?v(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let L=["count="+h];S==-1?0<h?(S=b[0].g,L.push("ofs="+S)):S=0:L.push("ofs="+S);let Ce=!0;for(let tt=0;tt<h;tt++){let ye=b[tt].g,st=b[tt].map;if(ye-=S,0>ye)S=Math.max(0,b[tt].g-100),Ce=!1;else try{_A(st,L,"req"+ye+"_")}catch{p&&p(st)}}if(Ce){p=L.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function W_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;cs||n_(),us||(cs(),us=!0),ph.add(d,a),a.v=0}}function Lh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=gs(v(a.Fa,a),Y_(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,K_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=gs(v(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Ic(this),K_(this))};function Fh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function K_(a){a.g=new ir(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=xn(a.qa);Me(d,"RID","rpc"),Me(d,"SID",a.K),Me(d,"AID",a.T),Me(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Me(d,"TO",a.ja),Me(d,"TYPE","xmlhttp"),Ts(a,d),a.m&&a.o&&Nh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=yc(xn(d)),h.m=null,h.P=!0,E_(h,a)}n.Za=function(){this.C!=null&&(this.C=null,Ic(this),Lh(this),yt(19))};function wc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Q_(a,d){var h=null;if(a.g==d){wc(a),Fh(a),a.g=null;var p=2}else if(xh(a.h,d))h=d.D,S_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;p=dc(),mt(p,new y_(p,h)),Ec(a)}else W_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(p==1&&CA(a,d)||p==2&&Lh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:kr(a,5);break;case 4:kr(a,10);break;case 3:kr(a,6);break;default:kr(a,2)}}}function Y_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function kr(a,d){if(a.j.info("Error code "+d),d==2){var h=v(a.fb,a),p=a.Xa;let b=!p;p=new Nr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||gc(p,"https"),yc(p),b?mA(p.toString(),h):yA(p.toString(),h)}else yt(2);a.G=0,a.l&&a.l.sa(d),Z_(a),z_(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Z_(a){if(a.G=0,a.ka=[],a.l){let d=A_(a.h);(d.length!=0||a.i.length!=0)&&(O(a.ka,d),O(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function J_(a,d,h){var p=h instanceof Nr?xn(h):new Nr(h);if(p.g!="")d&&(p.g=d+"."+p.g),mc(p,p.s);else{var b=c.location;p=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Nr(null);p&&gc(S,p),d&&(S.g=d),b&&mc(S,b),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&Me(p,h,d),Me(p,"VER",a.la),Ts(a,p),p}function X_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Oe(new Es({eb:h})):new Oe(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eI(){}n=eI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Cc(){}Cc.prototype.g=function(a,d){return new Dt(a,d)};function Dt(a,d){ot.call(this),this.g=new H_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!me(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!me(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new xi(this)}A(Dt,ot),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){kh(this.g)},Dt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Ch(a),a=h);d.i.push(new sA(d.Ya++,a)),d.G==3&&Ec(d)},Dt.prototype.N=function(){this.g.l=null,delete this.j,kh(this.g),delete this.g,Dt.aa.N.call(this)};function tI(a){Th.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(tI,Th);function nI(){Dh.call(this),this.status=1}A(nI,Dh);function xi(a){this.g=a}A(xi,eI),xi.prototype.ua=function(){mt(this.g,"a")},xi.prototype.ta=function(a){mt(this.g,new tI(a))},xi.prototype.sa=function(a){mt(this.g,new nI)},xi.prototype.ra=function(){mt(this.g,"b")},Cc.prototype.createWebChannel=Cc.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,Hm=Zn.createWebChannelTransport=function(){return new Cc},$m=Zn.getStatEventTarget=function(){return dc()},Bm=Zn.Event=xr,fd=Zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hc.NO_ERROR=0,hc.TIMEOUT=8,hc.HTTP_ERROR=6,ka=Zn.ErrorCode=hc,v_.COMPLETE="complete",Um=Zn.EventType=v_,f_.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",ot.prototype.listen=ot.prototype.K,ko=Zn.WebChannel=f_,XV=Zn.FetchXmlHttpFactory=Es,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,jm=Zn.XhrIo=Oe}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});var I0="@firebase/firestore",E0="4.7.10";var Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");var rs="11.5.0";var Ti=new bn("@firebase/firestore");function Lo(){return Ti.logLevel}function j(n,...e){if(Ti.logLevel<=ce.DEBUG){let t=e.map(Ov);Ti.debug(`Firestore (${rs}): ${n}`,...t)}}function Xn(n,...e){if(Ti.logLevel<=ce.ERROR){let t=e.map(Ov);Ti.error(`Firestore (${rs}): ${n}`,...t)}}function qo(n,...e){if(Ti.logLevel<=ce.WARN){let t=e.map(Ov);Ti.warn(`Firestore (${rs}): ${n}`,...t)}}function Ov(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Y(n="Unexpected state"){let e=`FIRESTORE (${rs}) INTERNAL ASSERTION FAILED: `+n;throw Xn(e),new Error(e)}function xe(n,e){n||Y()}function fe(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Bt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Dr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Id=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Qm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xe.UNAUTHENTICATED))}shutdown(){}},Ym=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Zm=class{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new Id(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Xe(e)}},Jm=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},Xm=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Jm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ed=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ey=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){xe(this.o===void 0);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ed(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xe(typeof t.token=="string"),this.R=t.token,new Ed(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function e2(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function fD(){return new TextEncoder}var ty=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=e2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ie(n,e){return n<e?-1:n>e?1:0}function ny(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ie(r,i);{let o=fD(),s=t2(o.encode(w0(n,t)),o.encode(w0(e,t)));return s!==0?s:ie(r,i)}}t+=r>65535?2:1}return ie(n.length,e.length)}function w0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function t2(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ie(n[t],e[t]);return ie(n.length,e.length)}function Go(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var C0=-62135596800,b0=1e6,ft=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*b0);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<C0)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-C0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ft(0,0))}static max(){return new n(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var T0="__name__",wd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(),r===void 0?r=e.length-t:r>e.length-t&&Y(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):ny(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yn.fromString(e.substring(4,e.length-2))}},Ue=class n extends wd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},n2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class n extends wd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return n2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T0}static keyField(){return new n([T0])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ue.fromString(e))}static fromName(e){return new n(Ue.fromString(e).popFirst(5))}static empty(){return new n(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ue(e.slice()))}};var $a=-1,ry=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ry.UNKNOWN_ID=-1;function r2(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new Di(i,G.empty(),e)}function i2(n){return new Di(n.readTime,n.key,$a)}var Di=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),G.empty(),$a)}static max(){return new n(ee.max(),G.empty(),$a)}};function o2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:ie(n.largestBatchId,e.largestBatchId))}var s2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",iy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Yd(n){return D(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==s2)throw n;j("LocalStore","Unexpectedly lost primary lease")})}var R=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function a2(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function is(n){return n.name==="IndexedDbTransactionError"}var Nv=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),c2=-1;function Zd(n){return n==null}function Ha(n){return n===0&&1/n==-1/0}function u2(n){return typeof n=="number"&&Number.isInteger(n)&&!Ha(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var pD="";function l2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=D0(e)),e=d2(n.get(t),e);return D0(e)}function d2(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case pD:t+="";break;default:t+=o}}return t}function D0(n){return n+pD+""}var h2="remoteDocuments",gD="owner";var mD="mutationQueues";var yD="mutations";var vD="documentMutations",f2="remoteDocumentsV14";var _D="remoteDocumentGlobal";var ID="targets";var ED="targetDocuments";var wD="targetGlobal",CD="collectionParents";var bD="clientMetadata";var TD="bundles";var DD="namedQueries";var p2="indexConfiguration";var g2="indexState";var m2="indexEntries";var SD="documentOverlays";var y2="globals";var v2=[mD,yD,vD,h2,ID,gD,wD,ED,bD,_D,CD,TD,DD],l8=[...v2,SD],_2=[mD,yD,vD,f2,ID,gD,wD,ED,bD,_D,CD,TD,DD,SD],I2=_2,E2=[...I2,p2,g2,m2];var d8=[...E2,y2];function S0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function os(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AD(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Be=class n{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uo(this.root,e,this.comparator,!0)}},Uo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Sn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var et=class n{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cd(this.data.getIterator())}getIteratorFrom(e){return new Cd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Cd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ei=class n{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new n([])}unionWith(e){let t=new et(zt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var bd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bd("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pt.EMPTY_BYTE_STRING=new pt("");var w2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(n){if(xe(!!n),typeof n=="string"){let e=0,t=w2.exec(n);if(xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function tr(n){return typeof n=="string"?pt.fromBase64String(n):pt.fromUint8Array(n)}var MD="server_timestamp",RD="__type__",PD="__previous_value__",xD="__local_write_time__";function kv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[RD])===null||t===void 0?void 0:t.stringValue)===MD}function Jd(n){let e=n.mapValue.fields[PD];return kv(e)?Jd(e):e}function za(n){let e=er(n.mapValue.fields[xD].timestampValue);return new ft(e.seconds,e.nanos)}var oy=class{constructor(e,t,r,i,o,s,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Td="(default)",Dd=class n{constructor(e,t){this.projectId=e,this.database=t||Td}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Td}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Lv="__type__",OD="__max__",pd={mapValue:{fields:{__type__:{stringValue:OD}}}},Fv="__vector__",Wo="value";function Sr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kv(n)?4:kD(n)?9007199254740991:ND(n)?10:11:Y()}function Mn(n,e){if(n===e)return!0;let t=Sr(n);if(t!==Sr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return za(n).isEqual(za(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=er(i.timestampValue),c=er(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return tr(i.bytesValue).isEqual(tr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),c=Re(o.doubleValue);return s===c?Ha(s)===Ha(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Go(n.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(S0(s)!==S0(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Mn(s[u],c[u])))return!1;return!0}(n,e);default:return Y()}}function qa(n,e){return(n.values||[]).find(t=>Mn(t,e))!==void 0}function Ko(n,e){if(n===e)return 0;let t=Sr(n),r=Sr(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return A0(n.timestampValue,e.timestampValue);case 4:return A0(za(n),za(e));case 5:return ny(n.stringValue,e.stringValue);case 6:return function(o,s){let c=tr(o),u=tr(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ie(c[l],u[l]);if(f!==0)return f}return ie(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ie(Re(o.latitude),Re(s.latitude));return c!==0?c:ie(Re(o.longitude),Re(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return M0(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let g=o.fields||{},v=s.fields||{},m=(c=g[Wo])===null||c===void 0?void 0:c.arrayValue,A=(u=v[Wo])===null||u===void 0?void 0:u.arrayValue,x=ie(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:M0(m,A)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===pd.mapValue&&s===pd.mapValue)return 0;if(o===pd.mapValue)return 1;if(s===pd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let v=ny(u[g],f[g]);if(v!==0)return v;let m=Ko(c[u[g]],l[f[g]]);if(m!==0)return m}return ie(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Y()}}function A0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ie(n,e);let t=er(n),r=er(e),i=ie(t.seconds,r.seconds);return i!==0?i:ie(t.nanos,r.nanos)}function M0(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ko(t[i],r[i]);if(o)return o}return ie(t.length,r.length)}function Qo(n){return sy(n)}function sy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=er(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return tr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=sy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${sy(t.fields[s])}`;return i+"}"}(n.mapValue):Y()}function yd(n){switch(Sr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Jd(n);return e?16+yd(e):16;case 5:return 2*n.stringValue.length;case 6:return tr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+yd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return os(r.fields,(o,s)=>{i+=o.length+yd(s)}),i}(n.mapValue);default:throw Y()}}function R0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ay(n){return!!n&&"integerValue"in n}function Vv(n){return!!n&&"arrayValue"in n}function P0(n){return!!n&&"nullValue"in n}function x0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zm(n){return!!n&&"mapValue"in n}function ND(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lv])===null||t===void 0?void 0:t.stringValue)===Fv}function Fa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return os(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fa(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===OD}var f8={mapValue:{fields:{[Lv]:{stringValue:Fv},[Wo]:{arrayValue:{}}}}};var Jn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(t)}setAll(e){let t=zt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=Fa(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){os(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Fa(this.value))}};var un=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Jn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Jn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Yo=class{constructor(e,t){this.position=e,this.inclusive=t}};function O0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),t.key):r=Ko(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function N0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mn(n.position[t],e.position[t]))return!1;return!0}var Si=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function C2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Sd=class{},Ke=class n extends Sd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uy(e,t,r):t==="array-contains"?new hy(e,r):t==="in"?new fy(e,r):t==="not-in"?new py(e,r):t==="array-contains-any"?new gy(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ly(e,r):new dy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ko(t,this.value)):t!==null&&Sr(this.value)===Sr(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ln=class n extends Sd{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return LD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function LD(n){return n.op==="and"}function FD(n){return b2(n)&&LD(n)}function b2(n){for(let e of n.filters)if(e instanceof ln)return!1;return!0}function cy(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(FD(n))return n.filters.map(e=>cy(e)).join(",");{let e=n.filters.map(t=>cy(t)).join(",");return`${n.op}(${e})`}}function VD(n,e){return n instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Mn(r.value,i.value)}(n,e):n instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&VD(s,i.filters[c]),!0):!1}(n,e):void Y()}function jD(n){return n instanceof Ke?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(n):n instanceof ln?function(t){return t.op.toString()+" {"+t.getFilters().map(jD).join(" ,")+"}"}(n):"Filter"}var uy=class extends Ke{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},ly=class extends Ke{constructor(e,t){super(e,"in",t),this.keys=UD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},dy=class extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=UD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function UD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>G.fromName(r.referenceValue))}var hy=class extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Vv(t)&&qa(t.arrayValue,this.value)}},fy=class extends Ke{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&qa(this.value.arrayValue,t)}},py=class extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!qa(this.value.arrayValue,t)}},gy=class extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Vv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qa(this.value.arrayValue,r))}};var my=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.le=null}};function k0(n,e=null,t=[],r=[],i=null,o=null,s=null){return new my(n,e,t,r,i,o,s)}function jv(n){let e=fe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Zd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qo(r)).join(",")),e.le=t}return e.le}function Uv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!C2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!N0(n.startAt,e.startAt)&&N0(n.endAt,e.endAt)}function yy(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ar=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function T2(n,e,t,r,i,o,s,c){return new Ar(n,e,t,r,i,o,s,c)}function Bv(n){return new Ar(n)}function L0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BD(n){return n.collectionGroup!==null}function Va(n){let e=fe(n);if(e.he===null){e.he=[];let t=new Set;for(let o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new et(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Si(o,r))}),t.has(zt.keyField().canonicalString())||e.he.push(new Si(zt.keyField(),r))}return e.he}function An(n){let e=fe(n);return e.Pe||(e.Pe=D2(e,Va(n))),e.Pe}function D2(n,e){if(n.limitType==="F")return k0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Si(i.field,o)});let t=n.endAt?new Yo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yo(n.startAt.position,n.startAt.inclusive):null;return k0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function vy(n,e){let t=n.filters.concat([e]);return new Ar(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _y(n,e,t){return new Ar(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xd(n,e){return Uv(An(n),An(e))&&n.limitType===e.limitType}function $D(n){return`${jv(An(n))}|lt:${n.limitType}`}function Fo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>jD(i)).join(", ")}]`),Zd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Qo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Qo(i)).join(",")),`Target(${r})`}(An(n))}; limitType=${n.limitType})`}function eh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Va(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=O0(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Va(r),i)||r.endAt&&!function(s,c,u){let l=O0(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Va(r),i))}(n,e)}function S2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HD(n){return(e,t)=>{let r=!1;for(let i of Va(n)){let o=A2(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function A2(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Ko(u,l):Y()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var nr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return AD(this.inner)}size(){return this.innerSize}};var M2=new Be(G.comparator);function Mr(){return M2}var zD=new Be(G.comparator);function La(...n){let e=zD;for(let t of n)e=e.insert(t.key,t);return e}function R2(n){let e=zD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wi(){return ja()}function qD(){return ja()}function ja(){return new nr(n=>n.toString(),(n,e)=>n.isEqual(e))}var p8=new Be(G.comparator),P2=new et(G.comparator);function ge(...n){let e=P2;for(let t of n)e=e.add(t);return e}var x2=new et(ie);function O2(){return x2}function $v(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ha(e)?"-0":e}}function GD(n){return{integerValue:""+n}}function N2(n,e){return u2(e)?GD(e):$v(n,e)}var Zo=class{constructor(){this._=void 0}};function k2(n,e,t){return n instanceof Ga?function(i,o){let s={fields:{[RD]:{stringValue:MD},[xD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&kv(o)&&(o=Jd(o)),o&&(s.fields[PD]=o),{mapValue:s}}(t,e):n instanceof Jo?WD(n,e):n instanceof Xo?KD(n,e):function(i,o){let s=F2(i,o),c=F0(s)+F0(i.Ie);return ay(s)&&ay(i.Ie)?GD(c):$v(i.serializer,c)}(n,e)}function L2(n,e,t){return n instanceof Jo?WD(n,e):n instanceof Xo?KD(n,e):t}function F2(n,e){return n instanceof Wa?function(r){return ay(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ga=class extends Zo{},Jo=class extends Zo{constructor(e){super(),this.elements=e}};function WD(n,e){let t=QD(e);for(let r of n.elements)t.some(i=>Mn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Xo=class extends Zo{constructor(e){super(),this.elements=e}};function KD(n,e){let t=QD(e);for(let r of n.elements)t=t.filter(i=>!Mn(i,r));return{arrayValue:{values:t}}}var Wa=class extends Zo{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function F0(n){return Re(n.integerValue||n.doubleValue)}function QD(n){return Vv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function V2(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Jo&&i instanceof Jo||r instanceof Xo&&i instanceof Xo?Go(r.elements,i.elements,Mn):r instanceof Wa&&i instanceof Wa?Mn(r.Ie,i.Ie):r instanceof Ga&&i instanceof Ga}(n.transform,e.transform)}var Ua=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function vd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ka=class{};function YD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Iy(n.key,Ua.none()):new Qa(n.key,n.data,Ua.none());{let t=n.data,r=Jn.empty(),i=new et(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new es(n.key,r,new Ei(i.toArray()),Ua.none())}}function j2(n,e,t){n instanceof Qa?function(i,o,s){let c=i.value.clone(),u=j0(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof es?function(i,o,s){if(!vd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=j0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(ZD(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ba(n,e,t,r){return n instanceof Qa?function(o,s,c,u){if(!vd(o.precondition,s))return c;let l=o.value.clone(),f=U0(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof es?function(o,s,c,u){if(!vd(o.precondition,s))return c;let l=U0(o.fieldTransforms,u,s),f=s.data;return f.setAll(ZD(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,c){return vd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function V0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Go(r,i,(o,s)=>V2(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Qa=class extends Ka{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},es=class extends Ka{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ZD(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function j0(n,e,t){let r=new Map;xe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,L2(s,c,t[i]))}return r}function U0(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,k2(o,s,e))}return r}var Iy=class extends Ka{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Ey=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&j2(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ba(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ba(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=qD();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=YD(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(t,r)=>V0(t,r))&&Go(this.baseMutations,e.baseMutations,(t,r)=>V0(t,r))}};var wy=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Cy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ge,he;function JD(n){if(n===void 0)return Xn("GRPC error has no .code"),k.UNKNOWN;switch(n){case Ge.OK:return k.OK;case Ge.CANCELLED:return k.CANCELLED;case Ge.UNKNOWN:return k.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return k.INTERNAL;case Ge.UNAVAILABLE:return k.UNAVAILABLE;case Ge.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ge.NOT_FOUND:return k.NOT_FOUND;case Ge.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ge.ABORTED:return k.ABORTED;case Ge.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ge.DATA_LOSS:return k.DATA_LOSS;default:return Y()}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var B0=null;var U2=new Yn([4294967295,4294967295],0);function $0(n){let e=fD().encode(n),t=new Vm;return t.update(e),new Uint8Array(t.digest())}function H0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yn([t,r],0),new Yn([i,o],0)]}var by=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ci(`Invalid padding: ${t}`);if(r<0)throw new Ci(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ci(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ci(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Yn.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Yn.fromNumber(r)));return i.compare(U2)===1&&(i=new Yn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=$0(e),[r,i]=H0(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ee===0)return;let t=$0(e),[r,i]=H0(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ci=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ad=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new Be(ie),Mr(),ge())}},Ya=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var Bo=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},Md=class{constructor(e,t){this.targetId=e,this.ge=t}},Rd=class{constructor(e,t,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Pd=class{constructor(){this.pe=0,this.ye=z0(),this.we=pt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ge(),t=ge(),r=ge();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Ya(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=z0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,xe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},Ty=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Mr(),this.$e=gd(),this.Ue=gd(),this.Ke=new Be(ie)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let o=i.target;if(yy(o))if(r===0){let s=new G(o.path);this.ze(t,s,un.newNoDocument(s,ee.min()))}else xe(r===1);else{let s=this.et(t);if(s!==r){let c=this.tt(e),u=c?this.nt(c,e,s):1;if(u!==0){this.Ye(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}B0?.rt(function(f,g,v,m,A){var x,O,q,me,oe,Ae;let gt={localCacheCount:f,existenceFilterCount:g.count,databaseId:v.database,projectId:v.projectId},Ie=g.unchangedNames;return Ie&&(gt.bloomFilter={applied:A===0,hashCount:(x=Ie?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(me=(q=(O=Ie?.bits)===null||O===void 0?void 0:O.bitmap)===null||q===void 0?void 0:q.length)!==null&&me!==void 0?me:0,padding:(Ae=(oe=Ie?.bits)===null||oe===void 0?void 0:oe.padding)!==null&&Ae!==void 0?Ae:0,mightContain:w=>{var y;return(y=m?.mightContain(w))!==null&&y!==void 0&&y}}),gt}(s,e.ge,this.ke.it(),c,u))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=tr(r).toUint8Array()}catch(u){if(u instanceof bd)return qo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new by(s,i,o)}catch(u){return qo(u instanceof Ci?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ke.it(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((o,s)=>{let c=this.Xe(s);if(c){if(o.current&&yy(c.target)){let u=new G(c.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,un.newNoDocument(u,e))}o.ve&&(t.set(s,o.Fe()),o.Me())}});let r=ge();this.Ue.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));let i=new Ad(e,t,this.Ke,this.Qe,r);return this.Qe=Mr(),this.$e=gd(),this.Ue=gd(),this.Ke=new Be(ie),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Pd,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new et(ie),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new et(ie),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||j("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Pd),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function gd(){return new Be(G.comparator)}function z0(){return new Be(G.comparator)}var B2={asc:"ASCENDING",desc:"DESCENDING"},$2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H2={and:"AND",or:"OR"},Dy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Sy(n,e){return n.useProto3Json||Zd(e)?e:{value:e}}function Ay(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $o(n){return xe(!!n),ee.fromTimestamp(function(t){let r=er(t);return new ft(r.seconds,r.nanos)}(n))}function eS(n,e){return My(n,e).canonicalString()}function My(n,e){let t=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tS(n){let e=Ue.fromString(n);return xe(sS(e)),e}function qm(n,e){let t=tS(e);if(t.get(1)!==n.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(rS(t))}function nS(n,e){return eS(n.databaseId,e)}function z2(n){let e=tS(n);return e.length===4?Ue.emptyPath():rS(e)}function q0(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rS(n){return xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function q2(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(xe(f===void 0||typeof f=="string"),pt.fromBase64String(f||"")):(xe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),pt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?k.UNKNOWN:JD(l.code);return new B(f,l.message||"")}(s);t=new Rd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=qm(n,r.document.name),o=$o(r.document.updateTime),s=r.document.createTime?$o(r.document.createTime):ee.min(),c=new Jn({mapValue:{fields:r.document.fields}}),u=un.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new Bo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=qm(n,r.document),o=r.readTime?$o(r.readTime):ee.min(),s=un.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Bo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=qm(n,r.document),o=r.removedTargetIds||[];t=new Bo([],o,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Cy(i,o),c=r.targetId;t=new Md(c,s)}}return t}function G2(n,e){return{documents:[nS(n,e.path)]}}function W2(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nS(n,i);let o=function(l){if(l.length!==0)return oS(ln.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(v){return{field:Vo(v.field),direction:Y2(v.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=Sy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:t,parent:i}}function K2(n){let e=z2(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){xe(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(g){let v=iS(g);return v instanceof ln&&FD(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(v=>function(A){return new Si(jo(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,Zd(v)?null:v}(t.limit));let u=null;t.startAt&&(u=function(g){let v=!!g.before,m=g.values||[];return new Yo(m,v)}(t.startAt));let l=null;return t.endAt&&(l=function(g){let v=!g.before,m=g.values||[];return new Yo(m,v)}(t.endAt)),T2(e,i,s,o,c,"F",u,l)}function Q2(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=jo(t.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=jo(t.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=jo(t.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=jo(t.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(n):n.fieldFilter!==void 0?function(t){return Ke.create(jo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ln.create(t.compositeFilter.filters.map(r=>iS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(t.compositeFilter.op))}(n):Y()}function Y2(n){return B2[n]}function Z2(n){return $2[n]}function J2(n){return H2[n]}function Vo(n){return{fieldPath:n.canonicalString()}}function jo(n){return zt.fromServerFormat(n.fieldPath)}function oS(n){return n instanceof Ke?function(t){if(t.op==="=="){if(x0(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(P0(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(x0(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(P0(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:Z2(t.op),value:t.value}}}(n):n instanceof ln?function(t){let r=t.getFilters().map(i=>oS(i));return r.length===1?r[0]:{compositeFilter:{op:J2(t.op),filters:r}}}(n):Y()}function sS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Za=class n{constructor(e,t,r,i,o=ee.min(),s=ee.min(),c=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ry=class{constructor(e){this.Tt=e}};function X2(n){let e=K2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_y(e,e.limit,"L"):e}var xd=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Ha(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=er(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(tr(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?kD(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ND(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Y()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=Wo,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Re(c)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),G.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};xd.xt=new xd;var Py=class{constructor(){this.Tn=new xy}addToCollectionParentIndex(e,t){return this.Tn.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(Di.min())}updateCollectionGroup(e,t,r){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}},xy=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new et(Ue.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Ue.comparator)).toArray()}};var g8=new Uint8Array(0);var G0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aS=41943040,Ht=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(aS,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);var Ja=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new n(0)}static Kn(){return new n(-1)}};var W0="LruGarbageCollector",ej=1048576;function K0([n,e],[t,r]){let i=ie(n,t);return i===0?ie(e,r):i}var Oy=class{constructor(e){this.Hn=e,this.buffer=new et(K0),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();K0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Ny=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){j(W0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>D(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){is(t)?j(W0,"Ignoring IndexedDB error during garbage collection: ",t):yield Yd(t)}yield this.er(3e5)}))}},ky=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return R.resolve(Nv.ae);let r=new Oy(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(G0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),Lo()<=ce.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function tj(n,e){return new ky(n,e)}var Ly=class{constructor(){this.changes=new nr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?R.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Fy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Vy=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ba(r.mutation,i,Ei.empty(),ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=wi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=La();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=wi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=Mr(),s=ja(),c=function(){return ja()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof es)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Ba(f.mutation,l,f.mutation.getFieldMask(),ft.now())):s.set(l.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var g;return c.set(l,new Fy(f,(g=s.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let r=ja(),i=new Be((s,c)=>s-c),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||Ei.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||ge()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=qD();f.forEach(v=>{if(!o.has(v)){let m=YD(t.get(v),r.get(v));m!==null&&g.set(v,m),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):R.resolve(wi()),c=$a,u=o;return s.next(l=>R.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?R.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(f=>({batchId:c,changes:R2(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=La();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=La();return this.indexManager.getCollectionParents(e,o).next(c=>R.forEach(c,u=>{let l=function(g,v){return new Ar(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,un.newInvalidDocument(f)))});let c=La();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Ba(f.mutation,l,Ei.empty(),ft.now()),eh(t,l)&&(c=c.insert(u,l))}),c})}};var jy=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return R.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:$o(i.createTime)}}(t)),R.resolve()}getNamedQuery(e,t){return R.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:X2(i.bundledQuery),readTime:$o(i.readTime)}}(t)),R.resolve()}};var Uy=class{constructor(){this.overlays=new Be(G.comparator),this.Rr=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){let r=wi();return R.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),R.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),R.resolve()}getOverlaysForCollection(e,t,r){let i=wi(),o=t.length+1,s=new G(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return R.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Be((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=wi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=wi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return R.resolve(c)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wy(t,r));let o=this.Rr.get(t);o===void 0&&(o=ge(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}};var By=class{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,R.resolve()}};var Xa=class{constructor(){this.Vr=new et(We.mr),this.gr=new et(We.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new We(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new We(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new G(new Ue([])),r=new We(t,e),i=new We(t,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new G(new Ue([])),r=new We(t,e),i=new We(t,e+1),o=ge();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new We(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return G.comparator(e.key,t.key)||ie(e.Cr,t.Cr)}static pr(e,t){return ie(e.Cr,t.Cr)||G.comparator(e.key,t.key)}};var $y=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new et(We.mr)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ey(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Mr=this.Mr.add(new We(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,t){return R.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?c2:this.Fr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new We(t,0),i=new We(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let c=this.Or(s.Cr);o.push(c)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new et(ie);return t.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],c=>{r=r.add(c.Cr)})}),R.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new We(new G(o),0),c=new et(ie);return this.Mr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Cr)),!0)},s),R.resolve(this.Br(c))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return R.forEach(t.mutations,i=>{let o=new We(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new We(t,0),i=this.Mr.firstAfterOrEqual(r);return R.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Hy=class{constructor(e){this.kr=e,this.docs=function(){return new Be(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return R.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=Mr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Mr(),s=t.path,c=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||o2(i2(f),r)<=0||(i.has(f.key)||eh(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Y()}qr(e,t){return R.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zy(this)}getSize(e){return R.resolve(this.size)}},zy=class extends Ly{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),R.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var qy=class{constructor(e){this.persistence=e,this.Qr=new nr(t=>jv(t),Uv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Xa,this.targetCount=0,this.Kr=Ja.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),R.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Kr=new Ja(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.zn(t),R.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Qr.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return R.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),R.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),R.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ur.vr(t);return R.resolve(r)}containsKey(e,t){return R.resolve(this.Ur.containsKey(t))}};var Od=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Nv(0),this.zr=!1,this.zr=!0,this.jr=new By,this.referenceDelegate=e(this),this.Hr=new qy(this),this.indexManager=new Py,this.remoteDocumentCache=function(i){return new Hy(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Ry(t),this.Yr=new jy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Uy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new $y(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){j("MemoryPersistence","Starting transaction:",e);let i=new Gy(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return R.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},Gy=class extends iy{constructor(e){super(),this.currentSequenceNumber=e}},Wy=class n{constructor(e){this.persistence=e,this.ti=new Xa,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw Y()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),R.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),R.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.ii,r=>{let i=G.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,ee.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return R.or([()=>R.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},Nd=class n{constructor(e,t){this.persistence=e,this.oi=new nr(r=>l2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=tj(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return R.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return R.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?R.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,t).next(c=>{c||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),R.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),R.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),R.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),R.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yd(e.data.value)),t}ar(e,t,r){return R.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return R.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Ky=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Qy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Yy=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return bT()?8:a2(Ot())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Qy;return this._s(e,t,s).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,s,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Lo()<=ce.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),R.resolve()):(Lo()<=ce.DEBUG&&j("QueryEngine","Query:",Fo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Lo()<=ce.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(t))):R.resolve())}rs(e,t){if(L0(t))return R.resolve(null);let r=An(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=_y(t,null,"F"),r=An(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.ns.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.cs(t,c);return this.ls(t,l,s,u.readTime)?this.rs(e,_y(t,null,"F")):this.hs(e,l,t,u)}))})))}ss(e,t,r,i){return L0(t)||i.isEqual(ee.min())?R.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(t,o);return this.ls(t,s,r,i)?R.resolve(null):(Lo()<=ce.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fo(t)),this.hs(e,s,t,r2(i,$a)).next(c=>c))})}cs(e,t){let r=new et(HD(e));return t.forEach((i,o)=>{eh(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Lo()<=ce.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Fo(t)),this.ns.getDocumentsMatchingQuery(e,t,Di.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Hv="LocalStore",nj=3e8,Zy=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Be(ie),this.Is=new nr(o=>jv(o),Uv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vy(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function rj(n,e,t,r){return new Zy(n,e,t,r)}function cS(n,e){return D(this,null,function*(){let t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ge();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Rs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function uS(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function ij(n,e){let t=fe(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let c=[];e.targetChanges.forEach((f,g)=>{let v=i.get(g);if(!v)return;c.push(t.Hr.removeMatchingKeys(o,f.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(o,f.addedDocuments,g)));let m=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?m=m.withResumeToken(pt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(g,m),function(x,O,q){return x.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=nj?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(v,m,f)&&c.push(t.Hr.updateTargetData(o,m))});let u=Mr(),l=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(oj(o,s,e.documentUpdates).next(f=>{u=f.Vs,l=f.fs})),!r.isEqual(ee.min())){let f=t.Hr.getLastRemoteSnapshotVersion(o).next(g=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return R.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ts=i,o))}function oj(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Mr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):j(Hv,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function sj(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):t.Hr.allocateTargetId(r).next(s=>(i=new Za(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function Jy(n,e,t){return D(this,null,function*(){let r=fe(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!is(s))throw s;j(Hv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function Q0(n,e,t){let r=fe(n),i=ee.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let g=fe(u),v=g.Is.get(f);return v!==void 0?R.resolve(g.Ts.get(v)):g.Hr.getTargetData(l,f)}(r,s,An(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,t?i:ee.min(),t?o:ge())).next(c=>(aj(r,S2(e),c),{documents:c,gs:o})))}function aj(n,e,t){let r=n.Es.get(e)||ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}var kd=class{constructor(){this.activeTargetIds=O2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Xy=class{constructor(){this.ho=new kd,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new kd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ev=class{To(e){}shutdown(){}};var Y0="ConnectivityMonitor",Ld=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){j(Y0,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){j(Y0,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var md=null;function tv(){return md===null?md=function(){return 268435456+Math.round(2147483648*Math.random())}():md++,"0x"+md.toString(16)}var Gm="RestConnection",cj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},nv=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Td?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){let s=tv(),c=this.bo(e,t.toUriEncodedString());j(Gm,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,c,u,r).then(l=>(j(Gm,`Received RPC '${e}' ${s}: `,l),l),l=>{throw qo(Gm,`RPC '${e}' ${s} failed with error: `,l,"url: ",c,"request:",r),l})}Co(e,t,r,i,o,s){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){let r=cj[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var rv=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var ht="WebChannelConnection",iv=class extends nv{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let o=tv();return new Promise((s,c)=>{let u=new jm;u.setWithCredentials(!0),u.listenOnce(Um.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ka.NO_ERROR:let f=u.getResponseJson();j(ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ka.TIMEOUT:j(ht,`RPC '${e}' ${o} timed out`),c(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case ka.HTTP_ERROR:let g=u.getStatus();if(j(ht,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let m=v?.error;if(m&&m.status&&m.message){let A=function(O){let q=O.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(q)>=0?q:k.UNKNOWN}(m.status);c(new B(A,m.message))}else c(new B(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new B(k.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{j(ht,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);j(ht,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Wo(e,t,r){let i=tv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hm(),c=$m(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");j(ht,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=s.createWebChannel(f,u),v=!1,m=!1,A=new rv({Fo:O=>{m?j(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(v||(j(ht,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),j(ht,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Mo:()=>g.close()}),x=(O,q,me)=>{O.listen(q,oe=>{try{me(oe)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return x(g,ko.EventType.OPEN,()=>{m||(j(ht,`RPC '${e}' stream ${i} transport opened.`),A.Qo())}),x(g,ko.EventType.CLOSE,()=>{m||(m=!0,j(ht,`RPC '${e}' stream ${i} transport closed`),A.Uo())}),x(g,ko.EventType.ERROR,O=>{m||(m=!0,qo(ht,`RPC '${e}' stream ${i} transport errored:`,O),A.Uo(new B(k.UNAVAILABLE,"The operation could not be completed")))}),x(g,ko.EventType.MESSAGE,O=>{var q;if(!m){let me=O.data[0];xe(!!me);let oe=me,Ae=oe?.error||((q=oe[0])===null||q===void 0?void 0:q.error);if(Ae){j(ht,`RPC '${e}' stream ${i} received error:`,Ae);let gt=Ae.status,Ie=function(I){let E=Ge[I];if(E!==void 0)return JD(E)}(gt),w=Ae.message;Ie===void 0&&(Ie=k.INTERNAL,w="Unknown error status: "+gt+" with message "+Ae.message),m=!0,A.Uo(new B(Ie,w)),g.close()}else j(ht,`RPC '${e}' stream ${i} received:`,me),A.Ko(me)}}),x(c,Bm.STAT_EVENT,O=>{O.stat===fd.PROXY?j(ht,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===fd.NOPROXY&&j(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}};function Wm(){return typeof document<"u"?document:null}function th(n){return new Dy(n,!0)}var Fd=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var Z0="PersistentStream",ov=class{constructor(e,t,r,i,o,s,c,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Fd(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return D(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return D(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return D(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Xn(t.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>D(this,null,function*(){this.state=0,this.start()}))}m_(e){return j(Z0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(j(Z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sv=class extends ov{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=q2(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?$o(s.readTime):ee.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=q0(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=yy(u)?{documents:G2(o,u)}:{query:W2(o,u).ht},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=XD(o,s.resumeToken);let l=Sy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=Ay(o,s.snapshotVersion.toTimestamp());let l=Sy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=Q2(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=q0(this.serializer),t.removeTarget=e,this.I_(t)}};var av=class{},cv=class extends av{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,My(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Co(e,My(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},uv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xn(t),this.N_=!1):j("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var ts="RemoteStore",lv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>D(this,null,function*(){ac(this)&&(j(ts,"Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let l=fe(u);l.W_.add(4),yield sc(l),l.j_.set("Unknown"),l.W_.delete(4),yield nh(l)})}(this))}))}),this.j_=new uv(r,i)}};function nh(n){return D(this,null,function*(){if(ac(n))for(let e of n.G_)yield e(!0)})}function sc(n){return D(this,null,function*(){for(let e of n.G_)yield e(!1)})}function lS(n,e){let t=fe(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Wv(t)?Gv(t):ss(t).c_()&&qv(t,e))}function zv(n,e){let t=fe(n),r=ss(t);t.K_.delete(e),r.c_()&&dS(t,e),t.K_.size===0&&(r.c_()?r.P_():ac(t)&&t.j_.set("Unknown"))}function qv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ss(n).y_(e)}function dS(n,e){n.H_.Ne(e),ss(n).w_(e)}function Gv(n){n.H_=new Ty({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ss(n).start(),n.j_.B_()}function Wv(n){return ac(n)&&!ss(n).u_()&&n.K_.size>0}function ac(n){return fe(n).W_.size===0}function hS(n){n.H_=void 0}function uj(n){return D(this,null,function*(){n.j_.set("Online")})}function lj(n){return D(this,null,function*(){n.K_.forEach((e,t)=>{qv(n,e)})})}function dj(n,e){return D(this,null,function*(){hS(n),Wv(n)?(n.j_.q_(e),Gv(n)):n.j_.set("Unknown")})}function hj(n,e,t){return D(this,null,function*(){if(n.j_.set("Online"),e instanceof Rd&&e.state===2&&e.cause)try{yield function(i,o){return D(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.K_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.K_.delete(c),i.H_.removeTarget(c))})}(n,e)}catch(r){j(ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield J0(n,r)}else if(e instanceof Bo?n.H_.We(e):e instanceof Md?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ee.min()))try{let r=yield uS(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.H_.ot(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.K_.get(l);f&&o.K_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.K_.get(u);if(!f)return;o.K_.set(u,f.withResumeToken(pt.EMPTY_BYTE_STRING,f.snapshotVersion)),dS(o,u);let g=new Za(f.target,u,l,f.sequenceNumber);qv(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){j(ts,"Failed to raise snapshot:",r),yield J0(n,r)}})}function J0(n,e,t){return D(this,null,function*(){if(!is(e))throw e;n.W_.add(1),yield sc(n),n.j_.set("Offline"),t||(t=()=>uS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){j(ts,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield nh(n)}))})}function X0(n,e){return D(this,null,function*(){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),j(ts,"RemoteStore received new credentials");let r=ac(t);t.W_.add(3),yield sc(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield nh(t)})}function fj(n,e){return D(this,null,function*(){let t=fe(n);e?(t.W_.delete(2),yield nh(t)):e||(t.W_.add(2),yield sc(t),t.j_.set("Unknown"))})}function ss(n){return n.J_||(n.J_=function(t,r,i){let o=fe(t);return o.M_(),new sv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:uj.bind(null,n),No:lj.bind(null,n),Lo:dj.bind(null,n),p_:hj.bind(null,n)}),n.G_.push(e=>D(this,null,function*(){e?(n.J_.h_(),Wv(n)?Gv(n):n.j_.set("Unknown")):(yield n.J_.stop(),hS(n))}))),n.J_}var dv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fS(n,e){if(Xn("AsyncQueue",`${e}: ${n}`),is(n))return new B(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Vd=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=La(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var jd=class{constructor(){this.Z_=new Be(G.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Y():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},ns=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Vd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var hv=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},fv=class{constructor(){this.queries=eD(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=fe(t),o=i.queries;i.queries=eD(),o.forEach((s,c)=>{for(let u of c.ta)u.onError(r)})})(this,new B(k.ABORTED,"Firestore shutting down"))}};function eD(){return new nr(n=>$D(n),Xd)}function pj(n,e){return D(this,null,function*(){let t=fe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new hv,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield t.onListen(i,!0);break;case 1:o.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=fS(s,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Kv(t)})}function gj(n,e){return D(this,null,function*(){let t=fe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function mj(n,e){let t=fe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.ta)c.oa(i)&&(r=!0);s.ea=i}}r&&Kv(t)}function yj(n,e,t){let r=fe(n),i=r.queries.get(e);if(i)for(let o of i.ta)o.onError(t);r.queries.delete(e)}function Kv(n){n.ia.forEach(e=>{e.next()})}var pv,tD;(tD=pv||(pv={}))._a="default",tD.Cache="cache";var gv=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==pv.Cache}};var Ud=class{constructor(e){this.key=e}},Bd=class{constructor(e){this.key=e}},mv=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ge(),this.mutatedKeys=ge(),this.ya=HD(e),this.wa=new Vd(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new jd,i=t?t.wa:this.wa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let v=i.get(f),m=eh(this.query,g)?g:null,A=!!v&&this.mutatedKeys.has(v.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),O=!1;v&&m?v.data.isEqual(m.data)?A!==x&&(r.track({type:3,doc:m}),O=!0):this.va(v,m)||(r.track({type:2,doc:m}),O=!0,(u&&this.ya(m,u)>0||l&&this.ya(m,l)<0)&&(c=!0)):!v&&m?(r.track({type:0,doc:m}),O=!0):v&&!m&&(r.track({type:1,doc:v}),O=!0,(u||l)&&(c=!0)),O&&(m?(s=s.add(m),o=x?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{wa:s,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((f,g)=>function(m,A){let x=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return x(m)-x(A)}(f.type,g.type)||this.ya(f.doc,g.doc)),this.Ca(r),i=i!=null&&i;let c=t&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,l=u!==this.ga;return this.ga=u,s.length!==0||l?{snapshot:new ns(this.query,e.wa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new jd,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=ge(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Bd(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Ud(r))}),t}Oa(e){this.fa=e.gs,this.pa=ge();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ns.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},Qv="SyncEngine",yv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},vv=class{constructor(e){this.key=e,this.Ba=!1}},_v=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new nr(c=>$D(c),Xd),this.qa=new Map,this.Qa=new Set,this.$a=new Be(G.comparator),this.Ua=new Map,this.Ka=new Xa,this.Wa={},this.Ga=new Map,this.za=Ja.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function vj(n,e,t=!0){return D(this,null,function*(){let r=vS(n),i,o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield pS(r,e,t,!0),i})}function _j(n,e){return D(this,null,function*(){let t=vS(n);yield pS(t,e,!0,!1)})}function pS(n,e,t,r){return D(this,null,function*(){let i=yield sj(n.localStore,An(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield Ij(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&lS(n.remoteStore,i),c})}function Ij(n,e,t,r,i){return D(this,null,function*(){n.Ha=(g,v,m)=>function(x,O,q,me){return D(this,null,function*(){let oe=O.view.ba(q);oe.ls&&(oe=yield Q0(x.localStore,O.query,!1).then(({documents:w})=>O.view.ba(w,oe)));let Ae=me&&me.targetChanges.get(O.targetId),gt=me&&me.targetMismatches.get(O.targetId)!=null,Ie=O.view.applyChanges(oe,x.isPrimaryClient,Ae,gt);return rD(x,O.targetId,Ie.Ma),Ie.snapshot})}(n,g,v,m);let o=yield Q0(n.localStore,e,!0),s=new mv(e,o.gs),c=s.ba(o.documents),u=Ya.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);rD(n,t,l.Ma);let f=new yv(e,t,s);return n.ka.set(e,f),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),l.snapshot})}function Ej(n,e,t){return D(this,null,function*(){let r=fe(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!Xd(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Jy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&zv(r.remoteStore,i.targetId),Iv(r,i.targetId)}).catch(Yd))):(Iv(r,i.targetId),yield Jy(r.localStore,i.targetId,!0))})}function wj(n,e){return D(this,null,function*(){let t=fe(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zv(t.remoteStore,r.targetId))})}function gS(n,e){return D(this,null,function*(){let t=fe(n);try{let r=yield ij(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ua.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?xe(s.Ba):i.removedDocuments.size>0&&(xe(s.Ba),s.Ba=!1))}),yield yS(t,r,e)}catch(r){yield Yd(r)}})}function nD(n,e,t){let r=fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((o,s)=>{let c=s.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=fe(s);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let v of g.ta)v.sa(c)&&(l=!0)}),l&&Kv(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cj(n,e,t){return D(this,null,function*(){let r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ua.get(e),o=i&&i.key;if(o){let s=new Be(G.comparator);s=s.insert(o,un.newNoDocument(o,ee.min()));let c=ge().add(o),u=new Ad(ee.min(),new Map,new Be(ie),s,c);yield gS(r,u),r.$a=r.$a.remove(o),r.Ua.delete(e),Yv(r)}else yield Jy(r.localStore,e,!1).then(()=>Iv(r,e,t)).catch(Yd)})}function Iv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||mS(n,r)})}function mS(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(zv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Yv(n))}function rD(n,e,t){for(let r of t)r instanceof Ud?(n.Ka.addReference(r.key,e),bj(n,r)):r instanceof Bd?(j(Qv,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||mS(n,r.key)):Y()}function bj(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(j(Qv,"New document in limbo: "+t),n.Qa.add(r),Yv(n))}function Yv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new G(Ue.fromString(e)),r=n.za.next();n.Ua.set(r,new vv(t)),n.$a=n.$a.insert(t,r),lS(n.remoteStore,new Za(An(Bv(t.path)),r,"TargetPurposeLimboResolution",Nv.ae))}}function yS(n,e,t){return D(this,null,function*(){let r=fe(n),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((c,u)=>{s.push(r.Ha(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=Ky.Yi(u.targetId,l);o.push(g)}}))}),yield Promise.all(s),r.La.p_(i),yield function(u,l){return D(this,null,function*(){let f=fe(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>R.forEach(l,v=>R.forEach(v.Hi,m=>f.persistence.referenceDelegate.addReference(g,v.targetId,m)).next(()=>R.forEach(v.Ji,m=>f.persistence.referenceDelegate.removeReference(g,v.targetId,m)))))}catch(g){if(!is(g))throw g;j(Hv,"Failed to update sequence numbers: "+g)}for(let g of l){let v=g.targetId;if(!g.fromCache){let m=f.Ts.get(v),A=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(A);f.Ts=f.Ts.insert(v,x)}}})}(r.localStore,o))})}function Tj(n,e){return D(this,null,function*(){let t=fe(n);if(!t.currentUser.isEqual(e)){j(Qv,"User change. New user:",e.toKey());let r=yield cS(t.localStore,e);t.currentUser=e,function(o,s){o.Ga.forEach(c=>{c.forEach(u=>{u.reject(new B(k.CANCELLED,s))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yS(t,r.Rs)}})}function Dj(n,e){let t=fe(n),r=t.Ua.get(e);if(r&&r.Ba)return ge().add(r.key);{let i=ge(),o=t.qa.get(e);if(!o)return i;for(let s of o){let c=t.ka.get(s);i=i.unionWith(c.view.Sa)}return i}}function vS(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cj.bind(null,e),e.La.p_=mj.bind(null,e.eventManager),e.La.Ja=yj.bind(null,e.eventManager),e}var _S=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return D(this,null,function*(){this.serializer=th(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return rj(this.persistence,new Yy,t.initialUser,this.serializer)}Xa(t){return new Od(Wy.ri,this.serializer)}Za(t){return new Xy}terminate(){return D(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Ev=class extends _S{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){xe(this.persistence.referenceDelegate instanceof Nd);let r=this.persistence.referenceDelegate.garbageCollector;return new Ny(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new Od(r=>Nd.ri(r,t),this.serializer)}};var Sj=(()=>{class n{initialize(t,r){return D(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nD(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tj.bind(null,this.syncEngine),yield fj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new fv}()}createDatastore(t){let r=th(t.databaseInfo.databaseId),i=function(s){return new iv(s)}(t.databaseInfo);return function(s,c,u,l){return new cv(s,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,c,u){return new lv(i,o,s,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>nD(this.syncEngine,r,0),function(){return Ld.D()?new Ld:new ev}())}createSyncEngine(t,r){return function(o,s,c,u,l,f,g){let v=new _v(o,s,c,u,l,f);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var t,r;yield function(o){return D(this,null,function*(){let s=fe(o);j(ts,"RemoteStore shutting down."),s.W_.add(5),yield sc(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var wv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Rr="FirestoreClient",Cv=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>D(this,null,function*(){j(Rr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(Rr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=fS(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Km(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),j(Rr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield cS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function iD(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Aj(n);j(Rr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>X0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>X0(e.remoteStore,i)),n._onlineComponents=e})}function Aj(n){return D(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){j(Rr,"Using user provided OfflineComponentProvider");try{yield Km(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),yield Km(n,new _S)}}else j(Rr,"Using default OfflineComponentProvider"),yield Km(n,new Ev(void 0));return n._offlineComponents})}function Mj(n){return D(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(j(Rr,"Using user provided OnlineComponentProvider"),yield iD(n,n._uninitializedComponentsProvider._online)):(j(Rr,"Using default OnlineComponentProvider"),yield iD(n,new Sj))),n._onlineComponents})}function oD(n){return D(this,null,function*(){let e=yield Mj(n),t=e.eventManager;return t.onListen=vj.bind(null,e.syncEngine),t.onUnlisten=Ej.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_j.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wj.bind(null,e.syncEngine),t})}function IS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var sD=new Map;function Rj(n,e,t){if(!t)throw new B(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Pj(n,e,t,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aD(n){if(G.isDocumentKey(n))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y()}function _d(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=rh(n);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var ES="firestore.googleapis.com",cD=!0,$d=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ES,this.ssl=cD}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:cD;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ej)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ec=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $d({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $d(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qm;switch(r.type){case"firstParty":return new Xm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=sD.get(t);r&&(j("ComponentProvider","Removing Datastore"),sD.delete(t),r.terminate())}(this),Promise.resolve()}};function wS(n,e,t,r={}){var i;let o=(n=_d(n,ec))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==ES&&o.host!==c&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!hi(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=Xe.MOCK_USER;else{l=_T(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Xe(g)}n._authCredentials=new Ym(new Id(l,f))}}var Ai=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Rn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ho=class n extends Ai{constructor(e,t,r){super(e,t,Bv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function CS(n,e,...t){if(n=$t(n),Rj("collection","path",e),n instanceof ec){let r=Ue.fromString(e,...t);return aD(r),new Ho(n,null,r)}{if(!(n instanceof Rn||n instanceof Ho))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return aD(r),new Ho(n.firestore,null,r)}}var uD="AsyncQueue",Hd=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Fd(this,"async_queue_retry"),this.Su=()=>{let r=Wm();r&&j(uD,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=Wm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=Wm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new Dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return D(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!is(e))throw e;j(uD,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=dv.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Y()}verifyOperationInProgress(){}Mu(){return D(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};function lD(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var tc=class extends ec{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Hd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Hd(e),this._firestoreClient=void 0,yield e}})}};function bS(n,e){let t=typeof n=="object"?n:xo(),r=typeof n=="string"?n:e||Td,i=Kl(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=yT("firestore");o&&wS(i,...o)}return i}function xj(n){if(n._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Oj(n),n._firestoreClient}function Oj(n){var e,t,r;let i=n._freezeSettings(),o=function(c,u,l,f){return new oy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,IS(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Cv(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var nc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(pt.fromBase64String(e))}catch(t){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var zd=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qd=class{constructor(e){this._methodName=e}};var rc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var ic=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Nj=/^__.*__$/;function TS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var bv=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dv(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(TS(this.Lu)&&Nj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},Tv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||th(e)}ju(e,t,r,i=!1){return new bv({Lu:e,methodName:t,zu:r,path:zt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kj(n){let e=n._freezeSettings(),t=th(n._databaseId);return new Tv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lj(n,e,t,r=!1){return Zv(t,n.ju(r?4:3,e))}function Zv(n,e){if(DS(n=$t(n)))return Vj("Unsupported field value:",e,n),Fj(n,e);if(n instanceof qd)return function(r,i){if(!TS(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Zv(c,i.Ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ft.fromDate(r);return{timestampValue:Ay(i.serializer,o)}}if(r instanceof ft){let o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ay(i.serializer,o)}}if(r instanceof rc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nc)return{bytesValue:XD(i.serializer,r._byteString)};if(r instanceof Rn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:eS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ic)return function(s,c){return{mapValue:{fields:{[Lv]:{stringValue:Fv},[Wo]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.Wu("VectorValues must only contain numeric values.");return $v(c.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${rh(r)}`)}(n,e)}function Fj(n,e){let t={};return AD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(n,(r,i)=>{let o=Zv(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function DS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof rc||n instanceof nc||n instanceof Rn||n instanceof qd||n instanceof ic)}function Vj(n,e,t){if(!DS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=rh(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}var jj=new RegExp("[~\\*/\\[\\]]");function Uj(n,e,t){if(e.search(jj)>=0)throw Dv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw Dv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dv(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(k.INVALID_ARGUMENT,c+n+u)}var Gd=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Sv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Jv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Sv=class extends Gd{data(){return super.data()}};function Jv(n,e){return typeof e=="string"?Uj(n,e):e instanceof zd?e._internalPath:e._delegate._internalPath}function Bj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oc=class{},Wd=class extends oc{};function SS(n,e,...t){let r=[];e instanceof oc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof Mv).length,c=o.filter(u=>u instanceof Av).length;if(s>1||s>0&&c>0)throw new B(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Av=class n extends Wd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return MS(e._query,t),new Ai(e.firestore,e.converter,vy(e._query,t))}_parse(e){let t=kj(e.firestore);return function(o,s,c,u,l,f,g){let v;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){hD(g,f);let A=[];for(let x of g)A.push(dD(u,o,x));v={arrayValue:{values:A}}}else v=dD(u,o,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||hD(g,f),v=Lj(c,s,g,f==="in"||f==="not-in");return Ke.create(l,f,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var Mv=class n extends oc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ln.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)MS(s,u),s=vy(s,u)}(e._query,t),new Ai(e.firestore,e.converter,vy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Rv=class n extends Wd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Si(o,s)}(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Ar(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function AS(n,e="asc"){let t=e,r=Jv("orderBy",n);return Rv._create(r,t)}function dD(n,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new B(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BD(e)&&t.indexOf("/")!==-1)throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ue.fromString(t));if(!G.isDocumentKey(r))throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R0(n,new G(r))}if(t instanceof Rn)return R0(n,t._key);throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(t)}.`)}function hD(n,e){if(!Array.isArray(n)||n.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MS(n,e){let t=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Pv=class{convertValue(e,t="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return os(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Wo].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Re(s.doubleValue));return new ic(o)}convertGeoPoint(e){return new rc(Re(e.latitude),Re(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Jd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(za(e));default:return null}}convertTimestamp(e){let t=er(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ue.fromString(e);xe(sS(r));let i=new Dd(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(t)||Xn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var bi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Kd=class extends Gd{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Jv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},zo=class extends Kd{data(e={}){return super.data(e)}},xv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zo(this._firestore,this._userDataWriter,r.key,r,new bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new zo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new bi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new zo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new bi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:$j(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function $j(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}var Qd=class extends Pv{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}};function Xv(n,...e){var t,r,i;n=$t(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lD(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lD(e[s])){let g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,l,f;if(n instanceof Rn)l=_d(n.firestore,tc),f=Bv(n._key.path),u={next:g=>{e[s]&&e[s](Hj(l,n,g))},error:e[s+1],complete:e[s+2]};else{let g=_d(n,Ai);l=_d(g.firestore,tc),f=g._query;let v=new Qd(l);u={next:m=>{e[s]&&e[s](new xv(l,v,g,m))},error:e[s+1],complete:e[s+2]},Bj(n._query)}return function(v,m,A,x){let O=new wv(x),q=new gv(m,O,A);return v.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return pj(yield oD(v),q)})),()=>{O.su(),v.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return gj(yield oD(v),q)}))}}(xj(l),f,c,u)}function Hj(n,e,t){let r=t.docs.get(e._key),i=new Qd(n);return new Kd(n,i,e._key,r,new bi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){rs=i})(Po),an(new It("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new tc(new Zm(r.getProvider("auth-internal")),new ey(s,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),je(I0,E0,e),je(I0,E0,"esm2017")})();var ih=function(){return ih=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ih.apply(this,arguments)};var Gj={includeMetadataChanges:!1};function RS(n,e){return e===void 0&&(e=Gj),new ue(function(t){var r=Xv(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function PS(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:ih(ih({},r),(t={},t[e.idField]=n.id,t))}function xS(n){return RS(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function OS(n,e){return e===void 0&&(e={}),xS(n).pipe(te(function(t){return t.map(function(r){return PS(r,e)})}))}var Mi=class{constructor(e){return e}},NS="firestore",e_=class{constructor(){return No(NS)}};var t_=new z("angularfire2.firestore-instances");function Wj(n,e){let t=Zl(NS,n,e);return t&&new Mi(t)}function Kj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Mi(r)}}var Qj={provide:e_,deps:[[new Bn,t_]]},Yj={provide:Mi,useFactory:Wj,deps:[[new Bn,t_],yi]};function kS(n,...e){return je("angularfire",gi.full,"fst"),Zr([Yj,Qj,{provide:t_,useFactory:Kj(n),multi:!0,deps:[Ee,rt,mi,Aa,[new Bn,dd],[new Bn,Xl],...e]}])}var LS=Dn(OS,!0);var FS=Dn(CS,!0,2);var VS=Dn(bS,!0);var jS=Dn(AS,!0,2),US=Dn(SS,!0,2);var Pr=class n{isVideoLoadedSubject=new He(!1);isDataLoadedSubject=new He(!1);emitLoadedVideo(e){this.isVideoLoadedSubject.next(e)}emitLoadedDta(e){this.isDataLoadedSubject.next(e)}get showSpinner$(){return Ur([this.isVideoLoadedSubject.asObservable(),this.isVideoLoadedSubject.asObservable()]).pipe(te(([e,t])=>!(e&&t)))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var oh=class n{firestore=M(Mi);spinnerService=M(Pr);getCollection(){return this.getCollections().pipe(ze(e=>this.spinnerService.emitLoadedDta(!0)),te(e=>e.map(t=>{let r=t;return r.url=r.url.replace("embed/","watch?v="),r})))}getCollections(){this.spinnerService.emitLoadedDta(!1);let e=FS(this.firestore,"indexElements"),t=US(e,jS("order","asc"));return LS(t,{idField:"id"})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function Zj(n,e){if(n&1){let t=Xt();vn(0),P(1,"app-project-element",2),Rt("sendProject",function(i){Zt(t);let o=ke();return Jt(o.toggleExpand(i))}),N(),_n()}if(n&2){let t=e.$implicit,r=e.index,i=ke();$(),J("projectElement",t)("expand",i.expandedIndex===r)}}var sh=class n{itemExpanded=!1;expandedIndex;elementsList;observable$;indexArray;subscription;indexElementsService=M(oh);constructor(){this.subscription=this.indexElementsService.getCollection().subscribe(e=>{this.indexArray=e})}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){}toggleExpand(e){let t=e.id,r=e.elementRef;this.expandedIndex=this.expandedIndex===t&&!e.isActive?void 0:t}focusOnElement(e){e.nativeElement.scrollIntoView({behavior:"smooth",block:"end"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qe({type:n,selectors:[["app-indice"]],decls:2,vars:1,consts:[[1,"mainIndex"],[4,"ngFor","ngForOf"],[3,"sendProject","projectElement","expand"]],template:function(t,r){t&1&&(P(0,"main",0),Se(1,Zj,2,2,"ng-container",1),N()),t&2&&($(),J("ngForOf",r.indexArray))},dependencies:[Ut,$l],styles:["main[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;padding-left:10px;padding-right:10px}"]})};var ah=class n{email="info@gmartnewmedia.com";location="Ometusco 96, Colonia Hip\xF3dromo Condesa, C.P 01600, Ciudad de M\xE9xico.";phone="+52 331-1336-736";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qe({type:n,selectors:[["app-privacy"]],decls:108,vars:3,template:function(t,r){t&1&&(P(0,"section")(1,"p"),U(2,"En GM aArt New Media valoramos y respetamos tu privacidad. Esta Pol\xEDtica de Privacidad describe c\xF3mo recopilamos, utilizamos, compartimos y protegemos la informaci\xF3n personal que obtenemos a trav\xE9s de nuestro sitio web www.gmartnewmedia.com. Al utilizar nuestro sitio, aceptas las pr\xE1cticas descritas en esta pol\xEDtica. "),N(),re(3,"br"),P(4,"h1"),U(5,"1. Informaci\xF3n que Recopilamos"),N(),P(6,"p"),U(7,"Podemos recopilar los siguientes tipos de informaci\xF3n:"),N(),re(8,"br"),P(9,"ul")(10,"li")(11,"p"),U(12,"Informaci\xF3n personal: Nombre, direcci\xF3n de correo electr\xF3nico, n\xFAmero de tel\xE9fono y otra informaci\xF3n que nos proporciones voluntariamente al registrarte, suscribirte a nuestro bolet\xEDn, o contactarnos. "),N()(),P(13,"li")(14,"p"),U(15,"Informaci\xF3n de uso: Datos sobre c\xF3mo interact\xFAas con nuestro sitio, como tu direcci\xF3n IP, tipo de navegador, p\xE1ginas visitadas, tiempo de visita y otros datos anal\xEDticos."),N()(),P(16,"li")(17,"p"),U(18,"Cookies y tecnolog\xEDas similares: Utilizamos cookies y tecnolog\xEDas similares para mejorar la experiencia del usuario y analizar el tr\xE1fico del sitio. Puedes gestionar tus preferencias de cookies a trav\xE9s de la configuraci\xF3n de tu navegador."),N()()(),re(19,"br"),P(20,"h1"),U(21,"2. Uso de la Informaci\xF3n"),N(),P(22,"p"),U(23,"Utilizamos la informaci\xF3n recopilada para los siguientes fines:"),N(),re(24,"br"),P(25,"ul")(26,"li")(27,"p"),U(28,"Proporcionar, operar y mantener nuestro sitio."),N()(),re(29,"li"),P(30,"li")(31,"p"),U(32,"Mejorar, personalizar y expandir las funcionalidades del sitio."),N()(),P(33,"li")(34,"p"),U(35,"Comunicarnos contigo, incluyendo el env\xEDo de boletines, actualizaciones y respuestas a consultas."),N()(),P(36,"li")(37,"p"),U(38,"Analizar el uso del sitio y realizar investigaciones para mejorar nuestros servicios."),N()(),P(39,"li")(40,"p"),U(41,"Cumplir con obligaciones legales y proteger nuestros derechos."),N()()(),re(42,"br"),P(43,"h1"),U(44,"3. Compartir Informaci\xF3n"),N(),P(45,"p"),U(46,"No vendemos, comercializamos ni transferimos tu informaci\xF3n personal a terceros sin tu consentimiento, excepto en los siguientes casos:"),N(),re(47,"br"),P(48,"ul")(49,"li")(50,"p"),U(51,"Proveedores de servicios: Podemos compartir informaci\xF3n con terceros que nos ayudan a operar nuestro sitio (por ejemplo, proveedores de hosting, herramientas de an\xE1lisis y servicios de marketing)."),N()(),P(52,"li")(53,"p"),U(54,"Cumplimiento legal: Podemos divulgar informaci\xF3n si es requerido por ley o para proteger nuestros derechos, propiedad o seguridad, o los de otros usuarios."),N()(),P(55,"li")(56,"p"),U(57,"Transferencias empresariales: En caso de fusi\xF3n, adquisici\xF3n o venta de activos, tu informaci\xF3n podr\xEDa ser transferida al nuevo propietario. "),N()()(),re(58,"br"),P(59,"h1"),U(60,"4. Seguridad de la Informaci\xF3n"),N(),P(61,"p"),U(62,"Implementamos medidas de seguridad t\xE9cnicas y organizativas para proteger tu informaci\xF3n personal contra accesos no autorizados, alteraciones, divulgaciones o destrucci\xF3n. Sin embargo, ning\xFAn sistema es completamente seguro, por lo que no podemos garantizar la seguridad absoluta de tus datos."),N(),re(63,"br"),P(64,"h1"),U(65,"5. Tus Derechos "),N(),P(66,"p"),U(67,"Dependiendo de tu jurisdicci\xF3n, puedes tener los siguientes derechos respecto a tu informaci\xF3n personal:"),N(),re(68,"br"),P(69,"ul")(70,"li")(71,"p"),U(72,"Acceso: Solicitar una copia de la informaci\xF3n que tenemos sobre ti."),N()(),P(73,"p"),U(74,"Rectificaci\xF3n: Solicitar la correcci\xF3n de informaci\xF3n inexacta o incompleta."),N(),P(75,"li")(76,"p"),U(77,"Eliminaci\xF3n: Solicitar la eliminaci\xF3n de tus datos personales."),N()(),P(78,"p"),U(79,"Oposici\xF3n: Oponerte al procesamiento de tus datos en ciertas circunstancias."),N(),P(80,"li")(81,"p"),U(82,"Retiro del consentimiento: Retirar tu consentimiento para el uso de tus datos, cuando corresponda."),N()(),P(83,"li")(84,"p"),U(85,"Para ejercer estos derechos, cont\xE1ctanos a trav\xE9s de la informaci\xF3n proporcionada al final de esta pol\xEDtica."),N()()(),re(86,"br"),P(87,"h1"),U(88,"6. Enlaces a Terceros"),N(),P(89,"p"),U(90,"Nuestro sitio puede contener enlaces a sitios web de terceros. No somos responsables de las pr\xE1cticas de privacidad o el contenido de estos sitios. Te recomendamos revisar sus pol\xEDticas de privacidad antes de proporcionarles cualquier informaci\xF3n personal."),N(),re(91,"br"),P(92,"h1"),U(93,"7. Cambios a esta Pol\xEDtica"),N(),P(94,"p"),U(95,"Podemos actualizar esta Pol\xEDtica de Privacidad ocasionalmente. Cualquier cambio ser\xE1 publicado en esta p\xE1gina con la fecha de la \xFAltima actualizaci\xF3n. Te recomendamos revisar esta pol\xEDtica peri\xF3dicamente para estar informado sobre c\xF3mo protegemos tu informaci\xF3n."),N(),re(96,"br"),P(97,"h1"),U(98,"8. Contacto"),N(),P(99,"p"),U(100,"Si tienes preguntas, comentarios o inquietudes sobre esta Pol\xEDtica de Privacidad o el manejo de tus datos personales, no dudes en contactarnos a:"),N(),re(101,"br"),P(102,"p"),U(103),N(),P(104,"p"),U(105),N(),P(106,"p"),U(107),N()()),t&2&&($(103),_t("Correo electr\xF3nico: ",r.email,""),$(2),_t("Direcci\xF3n: ",r.location,""),$(2),_t("Tel\xE9fono: ",r.phone,""))},encapsulation:2})};var BS=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:sh},{path:"privacy",component:ah},{path:"**",redirectTo:"index"}];var $S={firebaseConfig:{production:!0,apiKey:"AIzaSyAVzD198amuR8UIZ5Zu-XqCWUritGxW9k8",authDomain:"gmapp-f6d70.firebaseapp.com",databaseURL:"https://gmapp-f6d70-default-rtdb.firebaseio.com",projectId:"gmapp-f6d70",storageBucket:"gmapp-f6d70.firebasestorage.app",messagingSenderId:"999905388732",appId:"1:999905388732:web:8a671ff9e202ba59ac08b9",measurementId:"G-JDYRP554XE"}};var HS={providers:[zC({eventCoalescing:!0}),Wg(BS),HT(()=>zT($S.firebaseConfig)),kS(()=>VS())]};var ch=class n{HEADER={videoPlayBack:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/videoplayback_1.mp4?alt=media&token=993e343b-cdb0-4a74-8cf4-9b29521f4677",detalles:["G.M. ART NEW MEDIA","MULTIDISCIPLINARY CREATION"],listado:["(A) Augmented Reality","(B) Interactive Installations","(C) Music, Sound Design, and 5.1 Mixing","(D) Virtual Reality"],menu:[{title:"gmartnewmedia@gmail.com",url:"https://mail.google.com/mail/?view=cm&fs=1&to=gmartnewmedia@gmail.com"},{title:"@gmartnewmedia",url:"https://www.instagram.com/gmartnewmedia/"},{title:"+52 33 1133 6736",url:"https://w.app/rnmeh6"}],logo:""};getHeaderInfo(){return this.HEADER}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var Jj=["videoElement"],Xj=(n,e)=>({"video-container-desktop":n,"video-container-expanded-desktop":e});function eU(n,e){if(n&1&&re(0,"source",12),n&2){let t=ke(2);J("src",t.videoSource,ti)}}function tU(n,e){if(n&1&&(P(0,"video",10,0),Se(2,eU,1,1,"source",11),N()),n&2){let t=ke();$(2),J("ngIf",t.videoLoaded)}}function nU(n,e){if(n&1&&(P(0,"p"),U(1),N()),n&2){let t=e.$implicit;$(),_t(" ",t," ")}}function rU(n,e){if(n&1&&(P(0,"p"),U(1),N()),n&2){let t=e.$implicit;$(),_t(" ",t," ")}}function iU(n,e){if(n&1){let t=Xt();P(0,"p")(1,"a",13),Rt("click",function(){let i=Zt(t).$implicit,o=ke();return Jt(o.handleContact(i.url))}),U(2),N()()}if(n&2){let t=e.$implicit;$(2),Ve(t.title)}}var uh=class n{constructor(e,t){this.router=e;this.expandElementService=t}headerService=M(ch);spinnerService=M(Pr);hasExpandedSubcription;videoSource;headerInfo;videoLoaded=!1;hasExpanded;videoRef;ngAfterViewInit(){this.videoRef&&this.playVideoElement(this.videoRef)}ngOnDestroy(){this.hasExpandedSubcription?.unsubscribe()}ngOnInit(){this.spinnerService.emitLoadedVideo(!1),this.headerInfo=this.headerService.getHeaderInfo(),this.videoSource=this.headerService.getHeaderInfo().videoPlayBack,this.hasExpandedSubcription=this.expandElementService.events$.subscribe(e=>{this.hasExpanded=e.isActive})}playVideoElement(e){let t=e.nativeElement;t.src=this.headerInfo.videoPlayBack,t.onloadeddata=()=>D(this,null,function*(){this.videoLoaded=!0,this.spinnerService.emitLoadedVideo(this.videoLoaded);try{yield t.play(),t.hidden=!1}catch(r){console.warn("Autoplay bloqueado:",r)}t.onerror=()=>{console.error("Error al cargar el video"),this.videoLoaded=!1,this.spinnerService.emitLoadedVideo(this.videoLoaded)}})}onIndex(){console.log("index"),this.router.navigateByUrl("index")}onImages(){console.log("images"),this.router.navigateByUrl("images")}handleContact(e){e!=null&&window.open(e,"_blanks")}static \u0275fac=function(t){return new(t||n)(vt(on),vt(Ro))};static \u0275cmp=qe({type:n,selectors:[["app-header"]],viewQuery:function(t,r){if(t&1&&Yu(Jj,5),t&2){let i;Ks(i=Qs())&&(r.videoRef=i.first)}},decls:11,vars:8,consts:[["videoElement",""],[3,"ngClass"],["class","video-background","autoplay","","muted","","playsinline","","loop","",4,"ngIf"],[1,"content-over-video"],[1,"detalles"],[4,"ngFor","ngForOf"],[1,"listado"],[1,"menu"],[1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/logo.png?alt=media&token=e25e6eb8-f15c-43fe-a6ee-1f0b7a708a2a"],["autoplay","","muted","","playsinline","","loop","",1,"video-background"],["type","video/mp4",3,"src",4,"ngIf"],["type","video/mp4",3,"src"],[3,"click"]],template:function(t,r){t&1&&(P(0,"header",1),Se(1,tU,3,1,"video",2),P(2,"div",3)(3,"div",4),Se(4,nU,2,1,"p",5),N(),P(5,"div",6),Se(6,rU,2,1,"p",5),N(),P(7,"div",7),Se(8,iU,3,1,"p",5),N(),P(9,"div",8),re(10,"img",9),N()()()),t&2&&(J("ngClass",Ju(5,Xj,!r.hasExpanded,r.hasExpanded)),$(),J("ngIf",!r.hasExpanded),$(3),J("ngForOf",r.headerInfo.detalles),$(2),J("ngForOf",r.headerInfo.listado),$(2),J("ngForOf",r.headerInfo.menu))},dependencies:[Ut,tn,Qg,Xs],styles:['@charset "UTF-8";[class*=mobile][_ngcontent-%COMP%]{display:none!important}header.video-container-desktop[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]{width:100%;height:90vh;overflow:hidden;isolation:isolate}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:14% 66% 15% 5%;justify-content:right;margin-top:10px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{justify-self:left;margin-left:10px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%]{margin-left:10%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{justify-self:right;display:block;width:50px;height:50px;margin-right:10px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}header.video-container-expanded-desktop[_ngcontent-%COMP%]{margin-bottom:50px}header.video-container-desktop[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:-10px;position:relative;overflow:hidden}header.video-container-desktop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}header.video-container-desktop[_ngcontent-%COMP%]   video.video-background[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:-30px;left:0;z-index:-1;transform:translateZ(0);backface-visibility:hidden;will-change:transform;perspective:1000px}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]{z-index:1;position:relative;top:auto}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:inherit;filter:invert(1)}','@charset "UTF-8";@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)){header.video-container-desktop[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]{display:flex;margin-bottom:0;padding-bottom:0;margin-left:0;padding-left:0}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]{display:grid;grid-template-columns:25% 54% 20%;max-width:100%;width:100%;padding:10px 10px 0;margin:0}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{margin-left:0;max-width:60%}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child:after, header.video-container-expanded-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child:after{content:"\\ae"}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child, header.video-container-expanded-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%]{margin:0}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{display:none;flex:none}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:none}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], header.video-container-expanded-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin:0}header.video-container-desktop[_ngcontent-%COMP%]{display:flex;width:100%;max-height:100vh;margin-bottom:-40px}header.video-container-desktop[_ngcontent-%COMP%]   video.video-background[_ngcontent-%COMP%]{object-fit:fill;width:100%;top:-60px}}','@charset "UTF-8";@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){header.video-container-desktop[_ngcontent-%COMP%]{padding-bottom:0;width:100%;height:480px;margin-bottom:-20px}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]{grid-template-columns:25% 25% 25% 25%}header.video-container-desktop[_ngcontent-%COMP%]   div.content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child:after{content:"\\ae"}header.video-container-desktop[_ngcontent-%COMP%]   video.video-background[_ngcontent-%COMP%]{object-fit:fill;width:100%;top:-40px}}']})};var lh=class n{FOOTER={clientes:{title:"CLIENTS",clients:[{title:"OMR",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/omr.png?alt=media&token=808b4d51-8238-44b8-a889-aa5c3cdf8c18"},{title:"MUSEO CABA\xD1AS",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/museoCabanas.png?alt=media&token=b14205bd-b445-42ce-b155-42c5e7f8ff3d"},{title:"AMBULANTE",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/ambulante.png?alt=media&token=f7f6b1b3-3bc8-4c3c-805b-8634d7a5d019"},{title:"JALISCO - GOBIERNO DEL ESTADO",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/jaliscoGob.png?alt=media&token=e0c0df65-9848-44cc-8278-b895d62cc4be"},{title:"CENTRO CULTURAL DIGITAL",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/centroCulturalDigital.png?alt=media&token=c423fe75-a7b6-497b-8411-b6a7ca0dbcdd"},{title:"LAGO ALGO",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/lagoAlgo.png?alt=media&token=36b05b05-3d59-4e57-8931-60b5e2c9b69a"},{title:"BLACK CUBE NOMADIC ART MUSEUM",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/blackCubeNomadicArt.png?alt=media&token=10071a09-3f6f-4383-baaf-6e19b24f9132"},{title:"MUSEO MEMORIA Y TOLERANCIA",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/museoMemoriaTolerancia.png?alt=media&token=5225cc4e-b992-420c-b8c8-52bf311412ff"},{title:"FICUNAM",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/ficunam.png?alt=media&token=2c977ebf-3129-498c-b67c-d06e9770a0a7"},{title:"ITESO - UNIVERSIDAD JESUITA DE GUADALAJARA",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/iteso.png?alt=media&token=bcbf6b86-3e05-4da3-92a5-dcd4387cc080"},{title:"LIVERPOOL",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/liverpool.png?alt=media&token=e0cda087-0668-4841-9024-a572c3d671d8"},{title:"TELCEL",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/telcel.png?alt=media&token=4249b076-0944-484b-a113-719f0f1ec017"},{title:"REVISTA AO",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/revistaAo.png?alt=media&token=788d7b8f-f796-4030-be9c-3851e3c1e6b2"},{title:"IDENTO",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/idento.png?alt=media&token=73c2034e-7e93-42bb-8d52-2189d5270029"},{title:"COLMENA",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/colMena.png?alt=media&token=a6e57577-756a-4211-9f78-16f5a307b881"},{title:"GABRIEL RICO STUDIO",url:"https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/gabrielRicoStudio.png?alt=media&token=25e2e08b-8d5f-4607-90aa-9258895c4726"}]},nosotros:{title:"G.M. ART NEW MEDIA",contact:[{title:"gmartnewmedia@gmail.com",url:"https://mail.google.com/mail/?view=cm&fs=1&to=gmartnewmedia@gmail.com"},{title:"@gmartnewmedia",url:"https://www.instagram.com/gmartnewmedia/"},{title:"+52 33 1133 6736",url:"https://w.app/rnmeh6"}],descriptions:["We are a pioneering organization that merges art and technology to create unique experiences in a social context. We focus on delivering high-quality services with cutting-edge technology and creative concepts for clients seeking the extraordinary.","At GM Art New Media, we believe technology is a powerful tool to enhance art and creativity. Specializing in projects that combine advanced technology with art, design, and storytelling, we generate immersive and unforgettable experiences,  we are committed to delivering customized solutions for every project.","Our team of technology experts and creatives approaches each project from multiple perspectives to offer innovative and effective solutions. We work closely with our clients to understand their needs and objectives, designing tailor-made experiences."]}};getFooterInfo(){return this.FOOTER}static \u0275fac=function(t){return new(t||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};function oU(n,e){if(n&1){let t=Xt();P(0,"p")(1,"a",12),Rt("click",function(){let i=Zt(t).$implicit,o=ke();return Jt(o.handleContact(i.url))}),U(2),N()()}if(n&2){let t=e.$implicit;$(2),Ve(t.title)}}function sU(n,e){if(n&1&&(P(0,"span")(1,"p"),U(2),N()()),n&2){let t=e.$implicit;$(2),Ve(t)}}function aU(n,e){if(n&1){let t=Xt();P(0,"p")(1,"a",12),Rt("click",function(){let i=Zt(t).$implicit,o=ke();return Jt(o.handleContact(i.url))}),U(2),N()()}if(n&2){let t=e.$implicit;$(2),Ve(t.title)}}function cU(n,e){if(n&1&&re(0,"img",13),n&2){let t=e.$implicit;eg("src",t.url,ti)}}var dh=class n{footerService=M(lh);footerInfo;clientsInfo;constructor(){this.footerInfo=this.footerService.getFooterInfo(),this.clientsInfo=this.footerInfo.clientes.clients.map(e=>e.title).join(", ")}handleContact(e){e!=null&&window.open(e,"_blanks")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qe({type:n,selectors:[["app-footer"]],decls:24,vars:7,consts:[[1,"nosotros"],[1,"title"],[1,"contact"],[4,"ngFor","ngForOf"],[1,"descripcion"],[1,"contactDevice"],[1,"clientes"],[1,"empty"],[1,"info"],[1,"clientImages"],[3,"src",4,"ngFor","ngForOf"],[1,"text"],[3,"click"],[3,"src"]],template:function(t,r){t&1&&(P(0,"footer")(1,"div",0)(2,"div",1)(3,"p"),U(4),N(),P(5,"p"),U(6,"Contact"),N()(),P(7,"div",2),Se(8,oU,3,1,"p",3),N(),P(9,"div",4),Se(10,sU,3,1,"span",3),P(11,"div",5),Se(12,aU,3,1,"p",3),N()()(),P(13,"div",6)(14,"div",1)(15,"p"),U(16),N()(),re(17,"div",7),P(18,"div",8)(19,"div",9),Se(20,cU,1,1,"img",10),N(),P(21,"div",11)(22,"p"),U(23),N()()()()()),t&2&&($(4),Ve(r.footerInfo.nosotros.title),$(4),J("ngForOf",r.footerInfo.nosotros.contact),$(2),J("ngForOf",r.footerInfo.nosotros.descriptions),$(2),J("ngForOf",r.footerInfo.nosotros.contact),$(4),Ve(r.footerInfo.clientes.title),$(4),J("ngForOf",r.footerInfo.clientes.clients),$(3),_t("",r.clientsInfo,"."))},dependencies:[Ut],styles:["footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.5;margin-left:10px;margin-right:10px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:1px}footer[_ngcontent-%COMP%]:first-child{border-top:.5mm solid rgb(207,207,207)}footer[_ngcontent-%COMP%]:last-child{border-bottom:none}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% 20% 60%;grid-template-rows:100%;padding:5px 10px 10px 0}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;overflow-wrap:break-word;padding-bottom:60px;line-height:1.2}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .contactDevice[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]{display:grid;border-top:.5mm solid rgb(207,207,207);grid-template-columns:15% 25% 60%;grid-template-rows:100%;padding:10px 10px 10px 0}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:rows}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:left}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(1);opacity:.25;max-height:70px;max-width:120px;margin:5px}","@media (max-device-width: 767px) or ((max-device-height: 767px)){footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]{padding:5px 5px 5px 0;grid-template-columns:25% 1fr}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .contactDevice[_ngcontent-%COMP%]{display:block}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{justify-self:start;width:60%}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   .nosotros[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{padding:0;margin:0 0 10px}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]{padding:5px;padding-top:50;grid-template-columns:25% 75%}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;max-width:50px}}","@media only screen and ((min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait)){footer[_ngcontent-%COMP%]   .clientes[_ngcontent-%COMP%]{grid-template-columns:20% 0% 80%;padding-top:0}}"]})};function uU(n,e){n&1&&(P(0,"div",1)(1,"div",2),re(2,"div",3),N()())}var hh=class n{isLoading=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qe({type:n,selectors:[["app-spinner"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner-container"],[1,"spinner"]],template:function(t,r){t&1&&Se(0,uU,3,0,"div",0),t&2&&J("ngIf",r.isLoading)},dependencies:[tn],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#fff;display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top-color:#3f51b5;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}.spinner-text[_ngcontent-%COMP%]{color:#333;font-size:1rem;font-weight:500}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};var fh=class n{title="gm-web";shouldShowSpinner;showSpinner$;spinnerSubscription;spinnerService=M(Pr);constructor(){this.showSpinner$=this.spinnerService.showSpinner$}ngOnDestroy(){this.spinnerSubscription.unsubscribe()}ngOnInit(){this.spinnerSubscription=this.showSpinner$.subscribe(e=>this.shouldShowSpinner=e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=qe({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[3,"isLoading"]],template:function(t,r){t&1&&re(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-spinner",0),t&2&&($(3),J("isLoading",r.shouldShowSpinner))},dependencies:[_a,uh,dh,hh],encapsulation:2})};_g(fh,HS).catch(n=>console.error(n));
