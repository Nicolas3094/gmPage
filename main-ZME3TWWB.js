var BA=Object.defineProperty,$A=Object.defineProperties;var HA=Object.getOwnPropertyDescriptors;var wI=Object.getOwnPropertySymbols;var zA=Object.prototype.hasOwnProperty,qA=Object.prototype.propertyIsEnumerable;var EI=(n,e,t)=>e in n?BA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})zA.call(e,t)&&EI(n,t,e[t]);if(wI)for(var t of wI(e))qA.call(e,t)&&EI(n,t,e[t]);return n},Ae=(n,e)=>$A(n,HA(e));var D=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});function CI(n,e){return Object.is(n,e)}var Ye=null,Ac=!1,of=1,Fi=Symbol("SIGNAL");function pe(n){let e=Ye;return Ye=n,e}function sf(){return Ye}var Mc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function af(n){if(Ac)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(Pc(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&Ps(Ye)){let t=Ye.producerNode[e];Rc(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=Ps(Ye)?AI(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function TI(){of++}function bI(n){if(!(Ps(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===of)){if(!n.producerMustRecompute(n)&&!lf(n)){rf(n);return}n.producerRecomputeValue(n),rf(n)}}function cf(n){if(n.liveConsumerNode===void 0)return;let e=Ac;Ac=!0;try{for(let t of n.liveConsumerNode)t.dirty||WA(t)}finally{Ac=e}}function DI(){return Ye?.consumerAllowSignalWrites!==!1}function WA(n){n.dirty=!0,cf(n),n.consumerMarkedDirty?.(n)}function rf(n){n.dirty=!1,n.lastCleanEpoch=of}function uf(n){return n&&(n.nextProducerIndex=0),pe(n)}function SI(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ps(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Rc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function lf(n){Pc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(bI(t),r!==t.version))return!0}return!1}function df(n){if(Pc(n),Ps(n))for(let e=0;e<n.producerNode.length;e++)Rc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function AI(n,e,t){if(MI(n),n.liveConsumerNode.length===0&&RI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=AI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Rc(n,e){if(MI(n),n.liveConsumerNode.length===1&&RI(n))for(let r=0;r<n.producerNode.length;r++)Rc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Pc(i),i.producerIndexOfThis[r]=e}}function Ps(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Pc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function MI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function RI(n){return n.producerNode!==void 0}function GA(){throw new Error}var PI=GA;function KA(n){PI(n)}function hf(n){PI=n}var QA=null;function ff(n,e){DI()||KA(n),n.equal(n.value,e)||(n.value=e,YA(n))}var pf=Ae(j({},Mc),{equal:CI,value:void 0,kind:"signal"});function YA(n){n.version++,TI(),cf(n),QA?.()}var gf;function xs(){return gf}function Fn(n){let e=gf;return gf=n,e}var xc=Symbol("NotFound");function X(n){return typeof n=="function"}function Li(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Nc=Li(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Vr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Te=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof Nc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{xI(o)}catch(s){e=e??[],s instanceof Nc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Nc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)xI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Vr(t,e)}remove(e){let{_finalizers:t}=this;t&&Vr(t,e),e instanceof n&&e._removeParent(this)}};Te.EMPTY=(()=>{let n=new Te;return n.closed=!0,n})();var mf=Te.EMPTY;function Oc(n){return n instanceof Te||n&&"closed"in n&&X(n.remove)&&X(n.add)&&X(n.unsubscribe)}function xI(n){X(n)?n():n.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vi={setTimeout(n,e,...t){let{delegate:r}=Vi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Vi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function kc(n){Vi.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(n);else throw n})}function Ns(){}var NI=yf("C",void 0,void 0);function OI(n){return yf("E",void 0,n)}function kI(n){return yf("N",n,void 0)}function yf(n,e,t){return{kind:n,value:e,error:t}}var jr=null;function ji(n){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!jr;if(e&&(jr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=jr;if(jr=null,t)throw r}}else n()}function FI(n){Xt.useDeprecatedSynchronousErrorHandling&&jr&&(jr.errorThrown=!0,jr.error=n)}var Ur=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Oc(e)&&e.add(this)):this.destination=sM}static create(e,t,r){return new Ui(e,t,r)}next(e){this.isStopped?_f(kI(e),this):this._next(e)}error(e){this.isStopped?_f(OI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_f(NI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iM=Function.prototype.bind;function vf(n,e){return iM.call(n,e)}var If=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Fc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Fc(r)}else Fc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Fc(t)}}},Ui=class extends Ur{constructor(e,t,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vf(e.next,o),error:e.error&&vf(e.error,o),complete:e.complete&&vf(e.complete,o)}):i=e}this.destination=new If(i)}};function Fc(n){Xt.useDeprecatedSynchronousErrorHandling?FI(n):kc(n)}function oM(n){throw n}function _f(n,e){let{onStoppedNotification:t}=Xt;t&&Vi.setTimeout(()=>t(n,e))}var sM={closed:!0,next:Ns,error:oM,complete:Ns};var Bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(n){return n}function Lc(...n){return wf(n)}function wf(n){return n.length===0?Nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=cM(t)?t:new Ui(t,r,i);return ji(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=LI(r),new r((i,o)=>{let s=new Ui({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Bi](){return this}pipe(...t){return wf(t)(this)}toPromise(t){return t=LI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function LI(n){var e;return(e=n??Xt.Promise)!==null&&e!==void 0?e:Promise}function aM(n){return n&&X(n.next)&&X(n.error)&&X(n.complete)}function cM(n){return n&&n instanceof Ur||aM(n)&&Oc(n)}function Ef(n){return X(n?.lift)}function de(n){return e=>{if(Ef(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(n,e,t,r,i){return new Cf(n,e,t,r,i)}var Cf=class extends Ur{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $i(){return de((n,e)=>{let t=null;n._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Hi=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ef(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let t=this.getSubject();e.add(this.source.subscribe(le(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return $i()(this)}};var VI=Li(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Vc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new VI}next(t){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?mf:(this.currentObservers=null,o.push(t),new Te(()=>{this.currentObservers=null,Vr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new Vc(e,t),n})(),Vc=class extends ze{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:mf}};var Ue=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Tf={now(){return(Tf.delegate||Date).now()},delegate:void 0};var jc=class extends Te{constructor(e,t){super()}schedule(e,t=0){return this}};var Os={setInterval(n,e,...t){let{delegate:r}=Os;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Os;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var zi=class extends jc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Os.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Os.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Vr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var qi=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};qi.now=Tf.now;var Wi=class extends qi{constructor(e,t=qi.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var bf=new Wi(zi);var Uc=class extends zi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Bc=class extends Wi{};var Df=new Bc(Uc);var Tt=new ie(n=>n.complete());function jI(n){return n&&X(n.schedule)}function UI(n){return n[n.length-1]}function $c(n){return X(UI(n))?n.pop():void 0}function lr(n){return jI(UI(n))?n.pop():void 0}function Sf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function $I(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(g){s(g)}}function u(f){try{l(r.throw(f))}catch(g){s(g)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function BI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(n){return this instanceof Br?(this.v=n,this):new Br(n)}function HI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(A){return Promise.resolve(A).then(m,g)}}function c(m,A){r[m]&&(i[m]=function(x){return new Promise(function(O,q){o.push([m,x,O,q])>1||u(m,x)})},A&&(i[m]=A(i[m])))}function u(m,A){try{l(r[m](A))}catch(x){v(o[0][3],x)}}function l(m){m.value instanceof Br?Promise.resolve(m.value.v).then(f,g):v(o[0][2],m)}function f(m){u("next",m)}function g(m){u("throw",m)}function v(m,A){m(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function zI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof BI=="function"?BI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Hc=n=>n&&typeof n.length=="number"&&typeof n!="function";function zc(n){return X(n?.then)}function qc(n){return X(n[Bi])}function Wc(n){return Symbol.asyncIterator&&X(n?.[Symbol.asyncIterator])}function Gc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kc=uM();function Qc(n){return X(n?.[Kc])}function Yc(n){return HI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Br(t.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{t.releaseLock()}})}function Zc(n){return X(n?.getReader)}function qe(n){if(n instanceof ie)return n;if(n!=null){if(qc(n))return lM(n);if(Hc(n))return dM(n);if(zc(n))return hM(n);if(Wc(n))return qI(n);if(Qc(n))return fM(n);if(Zc(n))return pM(n)}throw Gc(n)}function lM(n){return new ie(e=>{let t=n[Bi]();if(X(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dM(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function hM(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,kc)})}function fM(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function qI(n){return new ie(e=>{gM(n,e).catch(t=>e.error(t))})}function pM(n){return qI(Yc(n))}function gM(n,e){var t,r,i,o;return $I(this,void 0,void 0,function*(){try{for(t=zI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function bt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function dr(n,e=0){return de((t,r)=>{t.subscribe(le(r,i=>bt(r,n,()=>r.next(i),e),()=>bt(r,n,()=>r.complete(),e),i=>bt(r,n,()=>r.error(i),e)))})}function hr(n,e=0){return de((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function WI(n,e){return qe(n).pipe(hr(e),dr(e))}function GI(n,e){return qe(n).pipe(hr(e),dr(e))}function KI(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function QI(n,e){return new ie(t=>{let r;return bt(t,e,()=>{r=n[Kc](),bt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function Jc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{bt(t,e,()=>{let r=n[Symbol.asyncIterator]();bt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function YI(n,e){return Jc(Yc(n),e)}function ZI(n,e){if(n!=null){if(qc(n))return WI(n,e);if(Hc(n))return KI(n,e);if(zc(n))return GI(n,e);if(Wc(n))return Jc(n,e);if(Qc(n))return QI(n,e);if(Zc(n))return YI(n,e)}throw Gc(n)}function we(n,e){return e?ZI(n,e):qe(n)}function G(...n){let e=lr(n);return we(n,e)}function Gi(n,e){let t=X(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function Af(n){return!!n&&(n instanceof ie||X(n.lift)&&X(n.subscribe))}var Ln=Li(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function K(n,e){return de((t,r)=>{let i=0;t.subscribe(le(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:mM}=Array;function yM(n,e){return mM(e)?n(...e):n(e)}function Xc(n){return K(e=>yM(n,e))}var{isArray:vM}=Array,{getPrototypeOf:_M,prototype:IM,keys:wM}=Object;function eu(n){if(n.length===1){let e=n[0];if(vM(e))return{args:e,keys:null};if(EM(e)){let t=wM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function EM(n){return n&&typeof n=="object"&&_M(n)===IM}function tu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function $r(...n){let e=lr(n),t=$c(n),{args:r,keys:i}=eu(n);if(r.length===0)return we([],e);let o=new ie(CM(r,e,i?s=>tu(i,s):Nt));return t?o.pipe(Xc(t)):o}function CM(n,e,t=Nt){return r=>{JI(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)JI(e,()=>{let l=we(n[u],e),f=!1;l.subscribe(le(r,g=>{o[u]=g,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function JI(n,e,t){n?bt(t,n,e):e()}function XI(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,g=!1,v=()=>{g&&!u.length&&!l&&e.complete()},m=x=>l<r?A(x):u.push(x),A=x=>{o&&e.next(x),l++;let O=!1;qe(t(x,f++)).subscribe(le(e,q=>{i?.(q),o?m(q):e.next(q)},()=>{O=!0},void 0,()=>{if(O)try{for(l--;u.length&&l<r;){let q=u.shift();s?bt(e,s,()=>A(q)):A(q)}v()}catch(q){e.error(q)}}))};return n.subscribe(le(e,m,()=>{g=!0,v()})),()=>{c?.()}}function Be(n,e,t=1/0){return X(e)?Be((r,i)=>K((o,s)=>e(r,o,i,s))(qe(n(r,i))),t):(typeof e=="number"&&(t=e),de((r,i)=>XI(r,i,n,t)))}function Ki(n=1/0){return Be(Nt,n)}function ew(){return Ki(1)}function Qi(...n){return ew()(we(n,lr(n)))}function nu(n){return new ie(e=>{qe(n()).subscribe(e)})}function ks(...n){let e=$c(n),{args:t,keys:r}=eu(n),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let g=!1;qe(t[f]).subscribe(le(o,v=>{g||(g=!0,l--),c[f]=v},()=>u--,void 0,()=>{(!u||!g)&&(l||o.next(r?tu(r,c):c),o.complete())}))}});return e?i.pipe(Xc(e)):i}function Dt(n,e){return de((t,r)=>{let i=0;t.subscribe(le(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Vn(n){return de((e,t)=>{let r=null,i=!1,o;r=e.subscribe(le(t,void 0,void 0,s=>{o=qe(n(s,Vn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function tw(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(le(s,f=>{let g=l++;u=c?n(u,f,g):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function fr(n,e){return X(e)?Be(n,e,1):Be(n,1)}function pr(n){return de((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function jn(n){return n<=0?()=>Tt:de((e,t)=>{let r=0;e.subscribe(le(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ru(n=TM){return de((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function TM(){return new Ln}function Fs(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Un(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):Nt,jn(1),t?pr(e):ru(()=>new Ln))}function Yi(n){return n<=0?()=>Tt:de((e,t)=>{let r=[];e.subscribe(le(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Mf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):Nt,Yi(1),t?pr(e):ru(()=>new Ln))}function iu(n,e){return de(tw(n,e,arguments.length>=2,!0))}function ou(...n){let e=lr(n);return de((t,r)=>{(e?Qi(n,t,e):Qi(n,t)).subscribe(r)})}function rt(n,e){return de((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(le(r,u=>{i?.unsubscribe();let l=0,f=o++;qe(n(u,f)).subscribe(i=le(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Rf(n){return de((e,t)=>{qe(n).subscribe(le(t,()=>t.complete(),Ns)),!t.closed&&e.subscribe(t)})}function We(n,e,t){let r=X(n)||e||t?{next:n,error:e,complete:t}:n;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(le(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}var Bw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super($w(e,t)),this.code=e}};function bM(n){return`NG0${Math.abs(n)}`}function $w(n,e){return`${bM(n)}${e?": "+e:""}`}var Hw=Symbol("InputSignalNode#UNSET"),DM=Ae(j({},pf),{transformFn:void 0,applyValueToInputSignal(n,e){ff(n,e)}});function zw(n,e){let t=Object.create(DM);t.value=n,t.transformFn=e?.transform;function r(){if(af(t),t.value===Hw){let i=null;throw new H(-950,i)}return t.value}return r[Fi]=t,r}function Gs(n){return{toString:n}.toString()}var su="__parameters__";function SM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function qw(n,e,t){return Gs(()=>{let r=SM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let g=u.hasOwnProperty(su)?u[su]:Object.defineProperty(u,su,{value:[]})[su];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function Ot(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ot).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function nw(n,e){return n?e?`${n} ${e}`:n:e||""}var AM=Me({__forward_ref__:Me});function Ww(n){return n.__forward_ref__=Ww,n.toString=function(){return Ot(this())},n}function Bt(n){return Gw(n)?n():n}function Gw(n){return typeof n=="function"&&n.hasOwnProperty(AM)&&n.__forward_ref__===Ww}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ks(n){return{providers:n.providers||[],imports:n.imports||[]}}function ku(n){return rw(n,Qw)||rw(n,Yw)}function Kw(n){return ku(n)!==null}function rw(n,e){return n.hasOwnProperty(e)?n[e]:null}function MM(n){let e=n&&(n[Qw]||n[Yw]);return e||null}function iw(n){return n&&(n.hasOwnProperty(ow)||n.hasOwnProperty(RM))?n[ow]:null}var Qw=Me({\u0275prov:Me}),ow=Me({\u0275inj:Me}),Yw=Me({ngInjectableDef:Me}),RM=Me({ngInjectorDef:Me}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Zw(n){return n&&!!n.\u0275providers}var PM=Me({\u0275cmp:Me}),xM=Me({\u0275dir:Me}),NM=Me({\u0275pipe:Me}),OM=Me({\u0275mod:Me}),fu=Me({\u0275fac:Me}),Us=Me({__NG_ELEMENT_ID__:Me}),sw=Me({__NG_ENV_ID__:Me});function Mp(n){return typeof n=="string"?n:n==null?"":String(n)}function kM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Mp(n)}function Jw(n,e){throw new H(-200,n)}function Rp(n,e){throw new H(-201,!1)}var re=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(re||{}),Vf;function Xw(){return Vf}function Ut(n){let e=Vf;return Vf=n,e}function eE(n,e,t){let r=ku(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&re.Optional)return null;if(e!==void 0)return e;Rp(n,"Injector")}var FM={},Hr=FM,jf="__NG_DI_FLAG__",pu=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?xc:Hr,r)}},gu="ngTempTokenPath",LM="ngTokenPath",VM=/\n/gm,jM="\u0275",aw="__source";function UM(n,e=re.Default){if(xs()===void 0)throw new H(-203,!1);if(xs()===null)return eE(n,void 0,e);{let t=xs(),r;return t instanceof pu?r=t.injector:r=t,r.get(n,e&re.Optional?null:void 0,e)}}function Q(n,e=re.Default){return(Xw()||UM)(Bt(n),e)}function M(n,e=re.Default){return Q(n,Fu(e))}function Fu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Uf(n){let e=[];for(let t=0;t<n.length;t++){let r=Bt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){let c=r[s],u=BM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Q(i,o))}else e.push(Q(r))}return e}function tE(n,e){return n[jf]=e,n.prototype[jf]=e,n}function BM(n){return n[jf]}function $M(n,e,t,r){let i=n[gu];throw e[aw]&&i.unshift(e[aw]),n.message=HM(`
`+n.message,i,t,r),n[LM]=i,n[gu]=null,n}function HM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==jM?n.slice(2):n;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Ot(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(VM,`
  `)}`}var Hn=tE(qw("Optional"),8);var zM=tE(qw("SkipSelf"),4);function ro(n,e){let t=n.hasOwnProperty(fu);return t?n[fu]:null}function qM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function WM(n){return n.flat(Number.POSITIVE_INFINITY)}function Pp(n,e){n.forEach(t=>Array.isArray(t)?Pp(t,e):e(t))}function nE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function mu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var io={},gn=[],Bs=new z(""),rE=new z("",-1),iE=new z(""),yu=class{get(e,t=Hr){if(t===Hr){let r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return t}};function oE(n,e){let t=n[OM]||null;if(!t&&e===!0)throw new Error(`Type ${Ot(n)} does not have '\u0275mod' property.`);return t}function qr(n){return n[PM]||null}function GM(n){return n[xM]||null}function KM(n){return n[NM]||null}function Xr(n){return{\u0275providers:n}}function QM(...n){return{\u0275providers:sE(!0,n),\u0275fromNgModule:!0}}function sE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Pp(e,s=>{let c=s;Bf(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&aE(i,o),t}function aE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];xp(i,o=>{e(o,r)})}}function Bf(n,e,t,r){if(n=Bt(n),!n)return!1;let i=null,o=iw(n),s=!o&&qr(n);if(!o&&!s){let u=n.ngModule;if(o=iw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Bf(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Pp(o.imports,f=>{Bf(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&aE(l,e)}if(!c){let l=ro(i)||(()=>new i);e({provide:i,useFactory:l,deps:gn},i),e({provide:iE,useValue:i,multi:!0},i),e({provide:Bs,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;xp(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function xp(n,e){for(let t of n)Zw(t)&&(t=t.\u0275providers),Array.isArray(t)?xp(t,e):e(t)}var YM=Me({provide:String,useValue:Me});function cE(n){return n!==null&&typeof n=="object"&&YM in n}function ZM(n){return!!(n&&n.useExisting)}function JM(n){return!!(n&&n.useFactory)}function $f(n){return typeof n=="function"}var Lu=new z(""),au={},cw={},Pf;function Np(){return Pf===void 0&&(Pf=new yu),Pf}var dt=class{},$s=class extends dt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,zf(e,s=>this.processProvider(s)),this.records.set(rE,Zi(void 0,this)),i.has("environment")&&this.records.set(dt,Zi(void 0,this));let o=this.records.get(Lu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(iE,gn,re.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?xc:Hr,r)}destroy(){Vs(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return Vs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Vs(this);let t=Fn(this),r=Ut(void 0),i;try{return e()}finally{Fn(t),Ut(r)}}get(e,t=Hr,r=re.Default){if(Vs(this),e.hasOwnProperty(sw))return e[sw](this);r=Fu(r);let i,o=Fn(this),s=Ut(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=iR(e)&&ku(e);l&&this.injectableDefInScope(l)?u=Zi(Hf(e),au):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&re.Self?Np():this.parent;return t=r&re.Optional&&t===Hr?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[gu]=c[gu]||[]).unshift(Ot(e)),o)throw c;return $M(c,e,"R3InjectorError",this.source)}else throw c}finally{Ut(s),Fn(o)}}resolveInjectorInitializers(){let e=pe(null),t=Fn(this),r=Ut(void 0),i;try{let o=this.get(Bs,gn,re.Self);for(let s of o)s()}finally{Fn(t),Ut(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Bt(e);let t=$f(e)?e:Bt(e&&e.provide),r=eR(e);if(!$f(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Zi(void 0,au,!0),i.factory=()=>Uf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=pe(null);try{return t.value===cw?Jw(Ot(e)):t.value===au&&(t.value=cw,t.value=t.factory()),typeof t.value=="object"&&t.value&&rR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Bt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Hf(n){let e=ku(n),t=e!==null?e.factory:ro(n);if(t!==null)return t;if(n instanceof z)throw new H(204,!1);if(n instanceof Function)return XM(n);throw new H(204,!1)}function XM(n){if(n.length>0)throw new H(204,!1);let t=MM(n);return t!==null?()=>t.factory(n):()=>new n}function eR(n){if(cE(n))return Zi(void 0,n.useValue);{let e=tR(n);return Zi(e,au)}}function tR(n,e,t){let r;if($f(n)){let i=Bt(n);return ro(i)||Hf(i)}else if(cE(n))r=()=>Bt(n.useValue);else if(JM(n))r=()=>n.useFactory(...Uf(n.deps||[]));else if(ZM(n))r=()=>Q(Bt(n.useExisting));else{let i=Bt(n&&(n.useClass||n.provide));if(nR(n))r=()=>new i(...Uf(n.deps));else return ro(i)||Hf(i)}return r}function Vs(n){if(n.destroyed)throw new H(205,!1)}function Zi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nR(n){return!!n.deps}function rR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function iR(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function zf(n,e){for(let t of n)Array.isArray(t)?zf(t,e):t&&Zw(t)?zf(t.\u0275providers,e):e(t)}function ft(n,e){let t;n instanceof $s?(Vs(n),t=n):t=new pu(n);let r,i=Fn(t),o=Ut(void 0);try{return e()}finally{Fn(i),Ut(o)}}function uE(){return Xw()!==void 0||xs()!=null}function Op(n){if(!uE())throw new H(-203,!1)}function oR(n){return typeof n=="function"}var zn=0,ae=1,Z=2,ht=3,tn=4,rn=5,vu=6,_u=7,St=8,oo=9,Bn=10,it=11,Hs=12,uw=13,fo=14,yn=15,Wr=16,Ji=17,$n=18,Vu=19,lE=20,gr=21,xf=22,Iu=23,$t=24,to=25,nn=26,dE=1;var Gr=7,wu=8,so=9,kt=10;function mr(n){return Array.isArray(n)&&typeof n[dE]=="object"}function qn(n){return Array.isArray(n)&&n[dE]===!0}function kp(n){return(n.flags&4)!==0}function po(n){return n.componentOffset>-1}function ju(n){return(n.flags&1)===1}function ei(n){return!!n.template}function Eu(n){return(n[Z]&512)!==0}function Qs(n){return(n[Z]&256)===256}var qf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function hE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Uu=(()=>{let n=()=>fE;return n.ngInherit=!0,n})();function fE(n){return n.type.prototype.ngOnChanges&&(n.setInput=aR),sR}function sR(){let n=gE(this),e=n?.current;if(e){let t=n.previous;if(t===io)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function aR(n,e,t,r,i){let o=this.declaredInputs[r],s=gE(n)||cR(n,{previous:io,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new qf(l&&l.currentValue,t,u===io),hE(n,e,i,t)}var pE="__ngSimpleChanges__";function gE(n){return n[pE]||null}function cR(n,e){return n[pE]=e}var lw=null;var be=function(n,e=null,t){lw?.(n,e,t)},uR="svg",lR="math";function vn(n){for(;Array.isArray(n);)n=n[zn];return n}function dR(n,e){return vn(e[n])}function Wn(n,e){return vn(e[n.index])}function mE(n,e){return n.data[e]}function hR(n,e){return n[e]}function _n(n,e){let t=e[n];return mr(t)?t:t[zn]}function fR(n){return(n[Z]&4)===4}function Fp(n){return(n[Z]&128)===128}function pR(n){return qn(n[ht])}function ao(n,e){return e==null?null:n[e]}function yE(n){n[Ji]=0}function vE(n){n[Z]&1024||(n[Z]|=1024,Fp(n)&&Ys(n))}function gR(n,e){for(;n>0;)e=e[fo],n--;return e}function Bu(n){return!!(n[Z]&9216||n[$t]?.dirty)}function Wf(n){n[Bn].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),Bu(n)&&Ys(n)}function Ys(n){n[Bn].changeDetectionScheduler?.notify(0);let e=Kr(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Fp(e)));)e=Kr(e)}function _E(n,e){if(Qs(n))throw new H(911,!1);n[gr]===null&&(n[gr]=[]),n[gr].push(e)}function mR(n,e){if(n[gr]===null)return;let t=n[gr].indexOf(e);t!==-1&&n[gr].splice(t,1)}function Kr(n){let e=n[ht];return qn(e)?e[ht]:e}function Lp(n){return n[_u]??=[]}function Vp(n){return n.cleanup??=[]}function yR(n,e,t,r){let i=Lp(e);i.push(t),n.firstCreatePass&&Vp(n).push(r,i.length-1)}var ce={lFrame:AE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Gf=!1;function vR(){return ce.lFrame.elementDepthCount}function _R(){ce.lFrame.elementDepthCount++}function IR(){ce.lFrame.elementDepthCount--}function jp(){return ce.bindingsEnabled}function wR(){return ce.skipHydrationRootTNode!==null}function ER(n){return ce.skipHydrationRootTNode===n}function CR(){ce.skipHydrationRootTNode=null}function Re(){return ce.lFrame.lView}function Ht(){return ce.lFrame.tView}function En(n){return ce.lFrame.contextLView=n,n[St]}function Cn(n){return ce.lFrame.contextLView=null,n}function zt(){let n=IE();for(;n!==null&&n.type===64;)n=n.parent;return n}function IE(){return ce.lFrame.currentTNode}function TR(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ti(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function Up(){return ce.lFrame.isParent}function wE(){ce.lFrame.isParent=!1}function bR(){return ce.lFrame.contextLView}function EE(){return Gf}function dw(n){let e=Gf;return Gf=n,e}function CE(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function DR(n){return ce.lFrame.bindingIndex=n}function TE(){return ce.lFrame.bindingIndex++}function SR(){return ce.lFrame.inI18n}function AR(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Kf(e)}function MR(){return ce.lFrame.currentDirectiveIndex}function Kf(n){ce.lFrame.currentDirectiveIndex=n}function bE(){return ce.lFrame.currentQueryIndex}function Bp(n){ce.lFrame.currentQueryIndex=n}function RR(n){let e=n[ae];return e.type===2?e.declTNode:e.type===1?n[rn]:null}function DE(n,e,t){if(t&re.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&re.Host);)if(i=RR(o),i===null||(o=o[fo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=SE();return r.currentTNode=e,r.lView=n,!0}function $p(n){let e=SE(),t=n[ae];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function SE(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?AE(n):e}function AE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ME(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var RE=ME;function Hp(){let n=ME();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function PR(n){return(ce.lFrame.contextLView=gR(n,ce.lFrame.contextLView))[St]}function zp(){return ce.lFrame.selectedIndex}function Qr(n){ce.lFrame.selectedIndex=n}function PE(){let n=ce.lFrame;return mE(n.tView,n.selectedIndex)}function xR(){return ce.lFrame.currentNamespace}var xE=!0;function $u(){return xE}function Hu(n){xE=n}function NR(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=fE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function qp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function cu(n,e,t){NE(n,e,3,t)}function uu(n,e,t,r){(n[Z]&3)===t&&NE(n,e,t,r)}function Nf(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function NE(n,e,t,r){let i=r!==void 0?n[Ji]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Ji]+=65536),(c<o||o==-1)&&(OR(n,t,e,u),n[Ji]=(n[Ji]&4294901760)+u+2),u++}function hw(n,e){be(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),be(5,n,e)}}function OR(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[Z]>>14<n[Ji]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,hw(c,o)):hw(c,o)}var no=-1,zs=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function kR(n){return(n.flags&8)!==0}function FR(n){return(n.flags&16)!==0}function LR(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];jR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function VR(n){return n===3||n===4||n===6}function jR(n){return n.charCodeAt(0)===64}function zu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?fw(n,t,i,null,e[++r]):fw(n,t,i,null,null))}}return n}function fw(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function OE(n){return n!==no}function Cu(n){return n&32767}function UR(n){return n>>16}function Tu(n,e){let t=UR(n),r=e;for(;t>0;)r=r[fo],t--;return r}var Qf=!0;function pw(n){let e=Qf;return Qf=n,e}var BR=256,kE=BR-1,FE=5,$R=0,mn={};function HR(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Us)&&(r=t[Us]),r==null&&(r=t[Us]=$R++);let i=r&kE,o=1<<i;e.data[n+(i>>FE)]|=o}function LE(n,e){let t=VE(n,e);if(t!==-1)return t;let r=e[ae];r.firstCreatePass&&(n.injectorIndex=e.length,Of(r.data,n),Of(e,null),Of(r.blueprint,null));let i=Wp(n,e),o=n.injectorIndex;if(OE(i)){let s=Cu(i),c=Tu(i,e),u=c[ae].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Of(n,e){n.push(0,0,0,0,0,0,0,0,e)}function VE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Wp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=HE(i),r===null)return no;if(t++,i=i[fo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return no}function zR(n,e,t){HR(n,e,t)}function jE(n,e,t){if(t&re.Optional||n!==void 0)return n;Rp(e,"NodeInjector")}function UE(n,e,t,r){if(t&re.Optional&&r===void 0&&(r=null),(t&(re.Self|re.Host))===0){let i=n[oo],o=Ut(void 0);try{return i?i.get(e,r,t&re.Optional):eE(e,r,t&re.Optional)}finally{Ut(o)}}return jE(r,e,t)}function BE(n,e,t,r=re.Default,i){if(n!==null){if(e[Z]&2048&&!(r&re.Self)){let s=KR(n,e,t,r,mn);if(s!==mn)return s}let o=$E(n,e,t,r,mn);if(o!==mn)return o}return UE(e,t,r,i)}function $E(n,e,t,r,i){let o=WR(t);if(typeof o=="function"){if(!DE(e,n,r))return r&re.Host?jE(i,t,r):UE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&re.Optional))Rp(t);else return s}finally{RE()}}else if(typeof o=="number"){let s=null,c=VE(n,e),u=no,l=r&re.Host?e[yn][rn]:null;for((c===-1||r&re.SkipSelf)&&(u=c===-1?Wp(n,e):e[c+8],u===no||!mw(r,!1)?c=-1:(s=e[ae],c=Cu(u),e=Tu(u,e)));c!==-1;){let f=e[ae];if(gw(o,c,f.data)){let g=qR(c,e,t,s,r,l);if(g!==mn)return g}u=e[c+8],u!==no&&mw(r,e[ae].data[c+8]===l)&&gw(o,c,e)?(s=f,c=Cu(u),e=Tu(u,e)):c=-1}}return i}function qR(n,e,t,r,i,o){let s=e[ae],c=s.data[n+8],u=r==null?po(c)&&Qf:r!=s&&(c.type&3)!==0,l=i&re.Host&&o===c,f=lu(c,s,t,u,l);return f!==null?bu(e,s,f,c):mn}function lu(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,g=r?c:c+f,v=i?c+f:l;for(let m=g;m<v;m++){let A=s[m];if(m<u&&t===A||m>=u&&A.type===t)return m}if(i){let m=s[u];if(m&&ei(m)&&m.type===t)return u}return null}function bu(n,e,t,r){let i=n[t],o=e.data;if(i instanceof zs){let s=i;s.resolving&&Jw(kM(o[t]));let c=pw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ut(s.injectImpl):null,f=DE(n,r,re.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&NR(t,o[t],e)}finally{l!==null&&Ut(l),pw(c),s.resolving=!1,RE()}}return i}function WR(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Us)?n[Us]:void 0;return typeof e=="number"?e>=0?e&kE:GR:e}function gw(n,e,t){let r=1<<n;return!!(t[e+(n>>FE)]&r)}function mw(n,e){return!(n&re.Self)&&!(n&re.Host&&e)}var zr=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return BE(this._tNode,this._lView,e,Fu(r),t)}};function GR(){return new zr(zt(),Re())}function Gp(n){return Gs(()=>{let e=n.prototype.constructor,t=e[fu]||Yf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[fu]||Yf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yf(n){return Gw(n)?()=>{let e=Yf(Bt(n));return e&&e()}:ro(n)}function KR(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!Eu(s);){let c=$E(o,s,t,r|re.Self,mn);if(c!==mn)return c;let u=o.parent;if(!u){let l=s[lE];if(l){let f=l.get(t,mn,r);if(f!==mn)return f}u=HE(s),s=s[fo]}o=u}return i}function HE(n){let e=n[ae],t=e.type;return t===2?e.declTNode:t===1?n[rn]:null}function yw(n,e=null,t=null,r){let i=zE(n,e,t,r);return i.resolveInjectorInitializers(),i}function zE(n,e=null,t=null,r,i=new Set){let o=[t||gn,QM(n)];return r=r||(typeof n=="object"?void 0:Ot(n)),new $s(o,e||Np(),r||null,i)}var ot=class n{static THROW_IF_NOT_FOUND=Hr;static NULL=new yu;static create(e,t){if(Array.isArray(e))return yw({name:""},t,e,"");{let r=e.name??"";return yw({name:r},e.parent,e.providers,r)}}static \u0275prov=L({token:n,providedIn:"any",factory:()=>Q(rE)});static __NG_ELEMENT_ID__=-1};var QR=new z("");QR.__NG_ELEMENT_ID__=n=>{let e=zt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&re.Optional)return null;throw new H(204,!1)};var qE=!1,go=(()=>{class n{static __NG_ELEMENT_ID__=YR;static __NG_ENV_ID__=t=>t}return n})(),Zf=class extends go{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return _E(this._lView,e),()=>mR(this._lView,e)}};function YR(){return new Zf(Re())}var Yr=class{},Kp=new z("",{providedIn:"root",factory:()=>!1});var WE=new z(""),GE=new z(""),ni=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ue(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),qu=(()=>{class n{internalPendingTasks=M(ni);scheduler=M(Yr);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return D(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Jf=class extends ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,uE()&&(this.destroyRef=M(go,{optional:!0})??void 0,this.pendingTasks=M(ni,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Te&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},lt=Jf;function Du(...n){}function KE(n){let e,t;function r(){n=Du;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function vw(n){return queueMicrotask(()=>n()),()=>{n=Du}}var Qp="isAngularZone",Su=Qp+"_ID",ZR=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new lt(!1);onMicrotaskEmpty=new lt(!1);onStable=new lt(!1);onError=new lt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qE}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,eP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,JR,Du,Du);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},JR={};function Yp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function XR(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){KE(()=>{n.callbackScheduled=!1,Xf(n),n.isCheckStableRunning=!0,Yp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Xf(n)}function eP(n){let e=()=>{XR(n)},t=ZR++;n._inner=n._inner.fork({name:"angular",properties:{[Qp]:!0,[Su]:t,[Su+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(tP(u))return r.invokeTask(o,s,c,u);try{return _w(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Iw(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return _w(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!nP(u)&&e(),Iw(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Xf(n),Yp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Xf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function _w(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Iw(n){n._nesting--,Yp(n)}var ep=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new lt;onMicrotaskEmpty=new lt;onStable=new lt;onError=new lt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function tP(n){return QE(n,"__ignore_ng_zone__")}function nP(n){return QE(n,"__scheduler_tick__")}function QE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var In=class{_console=console;handleError(e){this._console.error("ERROR",e)}},rP=new z("",{providedIn:"root",factory:()=>{let n=M(Ee),e=M(In);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function ww(n,e){return zw(n,e)}function iP(n){return zw(Hw,n)}var YE=(ww.required=iP,ww);function oP(){return mo(zt(),Re())}function mo(n,e){return new yr(Wn(n,e))}var yr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=oP}return n})();function sP(n){return n instanceof yr?n.nativeElement:n}function aP(){return this._results[Symbol.iterator]()}var tp=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ze}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=WM(e);(this._changesDetected=!qM(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=aP};function ZE(n){return(n.flags&128)===128}var JE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(JE||{}),XE=new Map,cP=0;function uP(){return cP++}function lP(n){XE.set(n[Vu],n)}function np(n){XE.delete(n[Vu])}var Ew="__ngContext__";function yo(n,e){mr(e)?(n[Ew]=e[Vu],lP(e)):n[Ew]=e}function eC(n){return nC(n[Hs])}function tC(n){return nC(n[tn])}function nC(n){for(;n!==null&&!qn(n);)n=n[tn];return n}var rp;function rC(n){rp=n}function dP(){if(rp!==void 0)return rp;if(typeof document<"u")return document;throw new H(210,!1)}var Zp=new z("",{providedIn:"root",factory:()=>hP}),hP="ng",Jp=new z(""),vr=new z("",{providedIn:"platform",factory:()=>"unknown"});var Xp=new z("",{providedIn:"root",factory:()=>dP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fP="h",pP="b";var iC=!1,gP=new z("",{providedIn:"root",factory:()=>iC});var eg=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(eg||{}),vo=new z(""),Cw=new Set;function Wu(n){Cw.has(n)||(Cw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var oC=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=mP}return n})();function mP(){return new oC(Re(),zt())}var Xi=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Xi||{}),sC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),yP=[Xi.EarlyRead,Xi.Write,Xi.MixedReadWrite,Xi.Read],vP=(()=>{class n{ngZone=M(Ee);scheduler=M(Yr);errorHandler=M(In,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(vo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&be(16),this.executing=!0;for(let r of yP)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&be(17)}register(t){let{view:r}=t;r!==void 0?((r[to]??=[]).push(t),Ys(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(eg.AFTER_NEXT_RENDER,t):t()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),ip=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[to];e&&(this.view[to]=e.filter(t=>t!==this))}};function tg(n,e){!e?.injector&&Op(tg);let t=e?.injector??M(ot);return Wu("NgAfterNextRender"),IP(n,t,e,!0)}function _P(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function IP(n,e,t,r){let i=e.get(sC);i.impl??=e.get(vP);let o=e.get(vo,null,{optional:!0}),s=t?.phase??Xi.MixedReadWrite,c=t?.manualCleanup!==!0?e.get(go):null,u=e.get(oC,null,{optional:!0}),l=new ip(i.impl,_P(n,s),u?.view,r,c,o?.snapshot(null));return i.impl.register(l),l}var wP=()=>null;function aC(n,e,t=!1){return wP(n,e,t)}function cC(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Bp(o),c.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function op(n,e,t){Bp(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function ng(n,e,t){if(kp(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{pe(r)}}}var wn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(wn||{});var Au=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bw})`}};function uC(n){return n instanceof Au?n.changingThisBreaksApplicationSecurity:n}function EP(n,e){let t=CP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Bw})`)}return t===e}function CP(n){return n instanceof Au&&n.getTypeName()||null}var TP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bP(n){return n=String(n),n.match(TP)?n:"unsafe:"+n}var lC=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(lC||{});function ri(n){let e=DP();return e?e.sanitize(lC.URL,n)||"":EP(n,"URL")?uC(n):bP(Mp(n))}function DP(){let n=Re();return n&&n[Bn].sanitizer}var SP=/^>|^->|<!--|-->|--!>|<!-$/g,AP=/(<|>)/g,MP="\u200B$1\u200B";function RP(n){return n.replace(SP,e=>e.replace(AP,MP))}function dC(n){return n instanceof Function?n():n}function PP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var hC="ng-template";function xP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&PP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(rg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function rg(n){return n.type===4&&n.value!==hC}function NP(n,e,t){let r=n.type===4&&!t?hC:n.value;return e===r}function OP(n,e,t){let r=4,i=n.attrs,o=i!==null?LP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!en(r)&&!en(u))return!1;if(s&&en(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!NP(n,u,t)||u===""&&e.length===1){if(en(r))return!1;s=!0}}else if(r&8){if(i===null||!xP(n,i,u,t)){if(en(r))return!1;s=!0}}else{let l=e[++c],f=kP(u,i,rg(n),t);if(f===-1){if(en(r))return!1;s=!0;continue}if(l!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(en(r))return!1;s=!0}}}}return en(r)||s}function en(n){return(n&1)===0}function kP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return VP(e,n)}function FP(n,e,t=!1){for(let r=0;r<e.length;r++)if(OP(n,e[r],t))return!0;return!1}function LP(n){for(let e=0;e<n.length;e++){let t=n[e];if(VR(t))return e}return n.length}function VP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Tw(n,e){return n?":not("+e.trim()+")":e}function jP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!en(s)&&(e+=Tw(o,i),i=""),r=s,o=o||!en(r);t++}return i!==""&&(e+=Tw(o,i)),e}function UP(n){return n.map(jP).join(",")}function BP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!en(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var _o={};function $P(n,e){return n.createText(e)}function HP(n,e,t){n.setValue(e,t)}function zP(n,e){return n.createComment(RP(e))}function fC(n,e,t){return n.createElement(e,t)}function Mu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function pC(n,e,t){n.appendChild(e,t)}function bw(n,e,t,r,i){r!==null?Mu(n,e,t,r,i):pC(n,e,t)}function qP(n,e,t){n.removeChild(null,e,t)}function WP(n,e,t){n.setAttribute(e,"style",t)}function GP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function gC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&LR(n,e,r),i!==null&&GP(n,e,i),o!==null&&WP(n,e,o)}function ig(n,e,t,r,i,o,s,c,u,l,f){let g=nn+r,v=g+i,m=KP(g,v),A=typeof l=="function"?l():l;return m[ae]={type:n,blueprint:m,template:t,queries:null,viewQuery:c,declTNode:e,data:m.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function KP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:_o);return t}function QP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ig(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function og(n,e,t,r,i,o,s,c,u,l,f){let g=e.blueprint.slice();return g[zn]=i,g[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(g[Z]|=2048),yE(g),g[ht]=g[fo]=n,g[St]=t,g[Bn]=s||n&&n[Bn],g[it]=c||n&&n[it],g[oo]=u||n&&n[oo]||null,g[rn]=o,g[Vu]=uP(),g[vu]=f,g[lE]=l,g[yn]=e.type==2?n[yn]:g,g}function YP(n,e,t){let r=Wn(e,n),i=QP(t),o=n[Bn].rendererFactory,s=sg(n,og(n,i,null,mC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function mC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function yC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function sg(n,e){return n[Hs]?n[uw][tn]=e:n[Hs]=e,n[uw]=e,e}function $(n=1){vC(Ht(),Re(),zp()+n,!1)}function vC(n,e,t,r){if(!r)if((e[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&cu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&uu(e,o,0,t)}Qr(t)}var Gu=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Gu||{});function sp(n,e,t,r){let i=pe(null);try{let[o,s,c]=n.inputs[t],u=null;(s&Gu.SignalBased)!==0&&(u=e[o][Fi]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):hE(e,u,o,r)}finally{pe(i)}}function _C(n,e,t,r,i){let o=zp(),s=r&2;try{Qr(-1),s&&e.length>nn&&vC(n,e,nn,!1),be(s?2:0,i),t(r,i)}finally{Qr(o),be(s?3:1,i)}}function Ku(n,e,t){nx(n,e,t),(t.flags&64)===64&&rx(n,e,t)}function ag(n,e,t=Wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function ZP(n,e,t,r){let o=r.get(gP,iC)||t===wn.ShadowDom,s=n.selectRootElement(e,o);return JP(s),s}function JP(n){XP(n)}var XP=()=>null;function ex(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function IC(n,e,t,r,i,o,s,c){if(!c&&ug(e,n,t,r,i)){po(e)&&tx(t,e.index);return}if(e.type&3){let u=Wn(e,t);r=ex(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function tx(n,e){let t=_n(e,n);t[Z]&16||(t[Z]|=64)}function nx(n,e,t){let r=t.directiveStart,i=t.directiveEnd;po(t)&&YP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||LE(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=bu(e,n,s,t);if(yo(u,e),o!==null&&ox(e,s-r,u,c,t,o),ei(c)){let l=_n(t.index,e);l[St]=bu(e,n,s,t)}}}function rx(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=MR();try{Qr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Kf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ix(u,l)}}finally{Qr(-1),Kf(s)}}function ix(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function cg(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];FP(e,o.selectors,!1)&&(r??=[],ei(o)?r.unshift(o):r.push(o))}return r}function ox(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];sp(r,t,u,l)}}function sx(n,e){let t=n[oo],r=t?t.get(In,null):null;r&&r.handleError(e)}function ug(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],g=e.data[l];sp(g,t[l],f,i),c=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];sp(f,l,r,i),c=!0}return c}function ax(n,e){let t=_n(e,n),r=t[ae];cx(r,t);let i=t[zn];i!==null&&t[vu]===null&&(t[vu]=aC(i,t[oo])),be(18),lg(r,t,t[St]),be(19,t[St])}function cx(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function lg(n,e,t){$p(e);try{let r=n.viewQuery;r!==null&&op(1,r,t);let i=n.template;i!==null&&_C(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[$n]?.finishViewCreation(n),n.staticContentQueries&&cC(n,e),n.staticViewQueries&&op(2,n.viewQuery,t);let o=n.components;o!==null&&ux(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,Hp()}}function ux(n,e){for(let t=0;t<e.length;t++)ax(n,e[t])}function lx(n,e,t,r){let i=pe(null);try{let o=e.tView,c=n[Z]&4096?4096:16,u=og(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Wr]=l;let f=n[$n];return f!==null&&(u[$n]=f.createEmbeddedView(o)),lg(o,u,t),u}finally{pe(i)}}function Dw(n,e){return!e||e.firstChild===null||ZE(n)}var dx;function dg(n,e){return dx(n,e)}var ii=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ii||{});function wC(n){return(n.flags&32)===32}function eo(n,e,t,r,i){if(r!=null){let o,s=!1;qn(r)?o=r:mr(r)&&(s=!0,r=r[zn]);let c=vn(r);n===0&&t!==null?i==null?pC(e,t,c):Mu(e,t,c,i||null,!0):n===1&&t!==null?Mu(e,t,c,i||null,!0):n===2?qP(e,c,s):n===3&&e.destroyNode(c),o!=null&&Cx(e,n,o,t,i)}}function hx(n,e){EC(n,e),e[zn]=null,e[rn]=null}function fx(n,e,t,r,i,o){r[zn]=i,r[rn]=e,Yu(n,r,t,1,i,o)}function EC(n,e){e[Bn].changeDetectionScheduler?.notify(9),Yu(n,e,e[it],2,null,null)}function px(n){let e=n[Hs];if(!e)return kf(n[ae],n);for(;e;){let t=null;if(mr(e))t=e[Hs];else{let r=e[kt];r&&(t=r)}if(!t){for(;e&&!e[tn]&&e!==n;)mr(e)&&kf(e[ae],e),e=e[ht];e===null&&(e=n),mr(e)&&kf(e[ae],e),t=e&&e[tn]}e=t}}function hg(n,e){let t=n[so],r=t.indexOf(e);t.splice(r,1)}function CC(n,e){if(Qs(e))return;let t=e[it];t.destroyNode&&Yu(n,e,t,3,null,null),px(e)}function kf(n,e){if(Qs(e))return;let t=pe(null);try{e[Z]&=-129,e[Z]|=256,e[$t]&&df(e[$t]),mx(n,e),gx(n,e),e[ae].type===1&&e[it].destroy();let r=e[Wr];if(r!==null&&qn(e[ht])){r!==e[ht]&&hg(r,e);let i=e[$n];i!==null&&i.detachView(n)}np(e)}finally{pe(t)}}function gx(n,e){let t=n.cleanup,r=e[_u];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[_u]=null);let i=e[gr];if(i!==null){e[gr]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Iu];if(o!==null){e[Iu]=null;for(let s of o)s.destroy()}}function mx(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof zs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];be(4,c,u);try{u.call(c)}finally{be(5,c,u)}}else{be(4,i,o);try{o.call(i)}finally{be(5,i,o)}}}}}function yx(n,e,t){return vx(n,e.parent,t)}function vx(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[zn];if(po(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===wn.None||i===wn.Emulated)return null}return Wn(r,t)}function _x(n,e,t){return wx(n,e,t)}function Ix(n,e,t){return n.type&40?Wn(n,t):null}var wx=Ix,Sw;function Qu(n,e,t,r){let i=yx(n,r,e),o=e[it],s=r.parent||e[rn],c=_x(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)bw(o,i,t[u],c,!1);else bw(o,i,t,c,!1);Sw!==void 0&&Sw(o,r,e,t,i)}function js(n,e){if(e!==null){let t=e.type;if(t&3)return Wn(e,n);if(t&4)return ap(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return js(n,r);{let i=n[e.index];return qn(i)?ap(-1,i):vn(i)}}else{if(t&128)return js(n,e.next);if(t&32)return dg(e,n)()||vn(n[e.index]);{let r=TC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Kr(n[yn]);return js(i,r)}else return js(n,e.next)}}}return null}function TC(n,e){if(e!==null){let r=n[yn][rn],i=e.projection;return r.projection[i]}return null}function ap(n,e){let t=kt+n+1;if(t<e.length){let r=e[t],i=r[ae].firstChild;if(i!==null)return js(r,i)}return e[Gr]}function fg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&yo(vn(c),r),t.flags|=2),!wC(t))if(u&8)fg(n,e,t.child,r,i,o,!1),eo(e,n,i,c,o);else if(u&32){let l=dg(t,r),f;for(;f=l();)eo(e,n,i,f,o);eo(e,n,i,c,o)}else u&16?Ex(n,e,r,t,i,o):eo(e,n,i,c,o);t=s?t.projectionNext:t.next}}function Yu(n,e,t,r,i,o){fg(t,r,n.firstChild,e,i,o,!1)}function Ex(n,e,t,r,i,o){let s=t[yn],u=s[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];eo(e,n,i,f,o)}else{let l=u,f=s[ht];ZE(r)&&(l.flags|=128),fg(n,e,l,f,i,o,!0)}}function Cx(n,e,t,r,i){let o=t[Gr],s=vn(t);o!==s&&eo(e,n,r,o,i);for(let c=kt;c<t.length;c++){let u=t[c];Yu(u[ae],u,n,e,r,o)}}function Ru(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(vn(o)),qn(o)&&Tx(o,r);let s=t.type;if(s&8)Ru(n,e,t.child,r);else if(s&32){let c=dg(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=TC(e,t);if(Array.isArray(c))r.push(...c);else{let u=Kr(e[yn]);Ru(u[ae],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function Tx(n,e){for(let t=kt;t<n.length;t++){let r=n[t],i=r[ae].firstChild;i!==null&&Ru(r[ae],r,i,e)}n[Gr]!==n[zn]&&e.push(n[Gr])}function bC(n){if(n[to]!==null){for(let e of n[to])e.impl.addSequence(e);n[to].length=0}}var DC=[];function bx(n){return n[$t]??Dx(n)}function Dx(n){let e=DC.pop()??Object.create(Ax);return e.lView=n,e}function Sx(n){n.lView[$t]!==n&&(n.lView=null,DC.push(n))}var Ax=Ae(j({},Mc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ys(n.lView)},consumerOnSignalRead(){this.lView[$t]=this}});function Mx(n){let e=n[$t]??Object.create(Rx);return e.lView=n,e}var Rx=Ae(j({},Mc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Kr(n.lView);for(;e&&!SC(e[ae]);)e=Kr(e);e&&vE(e)},consumerOnSignalRead(){this.lView[$t]=this}});function SC(n){return n.type!==2}function AC(n){if(n[Iu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Iu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var Px=100;function MC(n,e=!0,t=0){let i=n[Bn].rendererFactory,o=!1;o||i.begin?.();try{xx(n,t)}catch(s){throw e&&sx(n,s),s}finally{o||i.end?.()}}function xx(n,e){let t=EE();try{dw(!0),cp(n,e);let r=0;for(;Bu(n);){if(r===Px)throw new H(103,!1);r++,cp(n,1)}}finally{dw(t)}}function Nx(n,e,t,r){if(Qs(e))return;let i=e[Z],o=!1,s=!1;$p(e);let c=!0,u=null,l=null;o||(SC(n)?(l=bx(e),u=uf(l)):sf()===null?(c=!1,l=Mx(e),u=uf(l)):e[$t]&&(df(e[$t]),e[$t]=null));try{yE(e),DR(n.bindingStartIndex),t!==null&&_C(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let m=n.preOrderCheckHooks;m!==null&&cu(e,m,null)}else{let m=n.preOrderHooks;m!==null&&uu(e,m,0,null),Nf(e,0)}if(s||Ox(e),AC(e),RC(e,0),n.contentQueries!==null&&cC(n,e),!o)if(f){let m=n.contentCheckHooks;m!==null&&cu(e,m)}else{let m=n.contentHooks;m!==null&&uu(e,m,1),Nf(e,1)}Fx(n,e);let g=n.components;g!==null&&xC(e,g,0);let v=n.viewQuery;if(v!==null&&op(2,v,r),!o)if(f){let m=n.viewCheckHooks;m!==null&&cu(e,m)}else{let m=n.viewHooks;m!==null&&uu(e,m,2),Nf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[xf]){for(let m of e[xf])m();e[xf]=null}o||(bC(e),e[Z]&=-73)}catch(f){throw o||Ys(e),f}finally{l!==null&&(SI(l,u),c&&Sx(l)),Hp()}}function RC(n,e){for(let t=eC(n);t!==null;t=tC(t))for(let r=kt;r<t.length;r++){let i=t[r];PC(i,e)}}function Ox(n){for(let e=eC(n);e!==null;e=tC(e)){if(!(e[Z]&2))continue;let t=e[so];for(let r=0;r<t.length;r++){let i=t[r];vE(i)}}}function kx(n,e,t){be(18);let r=_n(e,n);PC(r,t),be(19,r[St])}function PC(n,e){Fp(n)&&cp(n,e)}function cp(n,e){let r=n[ae],i=n[Z],o=n[$t],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&lf(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)Nx(r,n,r.template,n[St]);else if(i&8192){AC(n),RC(n,1);let c=r.components;c!==null&&xC(n,c,1),bC(n)}}function xC(n,e,t){for(let r=0;r<e.length;r++)kx(n,e[r],t)}function Fx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Qr(~i);else{let o=i,s=t[++r],c=t[++r];AR(s,o);let u=e[o];be(24,u),c(2,u),be(25,u)}}}finally{Qr(-1)}}function pg(n,e){let t=EE()?64:1088;for(n[Bn].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=Kr(n);if(Eu(n)&&!r)return n;n=r}return null}function NC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Lx(n,e,t,r=!0){let i=e[ae];if(Vx(i,e,n,t),r){let s=ap(t,n),c=e[it],u=c.parentNode(n[Gr]);u!==null&&fx(i,n[rn],c,e,u,s)}let o=e[vu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function up(n,e){if(n.length<=kt)return;let t=kt+e,r=n[t];if(r){let i=r[Wr];i!==null&&i!==n&&hg(i,r),e>0&&(n[t-1][tn]=r[tn]);let o=mu(n,kt+e);hx(r[ae],r);let s=o[$n];s!==null&&s.detachView(o[ae]),r[ht]=null,r[tn]=null,r[Z]&=-129}return r}function Vx(n,e,t,r){let i=kt+r,o=t.length;r>0&&(t[i-1][tn]=e),r<o-kt?(e[tn]=t[i],nE(t,kt+r,e)):(t.push(e),e[tn]=null),e[ht]=t;let s=e[Wr];s!==null&&t!==s&&OC(s,e);let c=e[$n];c!==null&&c.insertView(n),Wf(e),e[Z]|=128}function OC(n,e){let t=n[so],r=e[ht];if(mr(r))n[Z]|=2;else{let i=r[ht][yn];e[yn]!==i&&(n[Z]|=2)}t===null?n[so]=[e]:t.push(e)}var qs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ae];return Ru(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return Qs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ht];if(qn(e)){let t=e[wu],r=t?t.indexOf(this):-1;r>-1&&(up(e,r),mu(t,r))}this._attachedToViewContainer=!1}CC(this._lView[ae],this._lView)}onDestroy(e){_E(this._lView,e)}markForCheck(){pg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){Wf(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,MC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Eu(this._lView),t=this._lView[Wr];t!==null&&!e&&hg(t,this._lView),EC(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=Eu(this._lView),r=this._lView[Wr];r!==null&&!t&&OC(r,this._lView),Wf(this._lView)}};var Zr=(()=>{class n{static __NG_ELEMENT_ID__=Bx}return n})(),jx=Zr,Ux=class extends jx{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=lx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new qs(i)}};function Bx(){return Zu(zt(),Re())}function Zu(n,e){return n.type&4?new Ux(e,n,mo(n,e)):null}function Ju(n,e,t,r,i){let o=n.data[e];if(o===null)o=$x(n,e,t,r,i),SR()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=TR();o.injectorIndex=s===null?-1:s.injectorIndex}return ti(o,!0),o}function $x(n,e,t,r,i){let o=IE(),s=Up(),c=s?o:o&&o.parent,u=n.data[e]=zx(n,c,t,e,r,i);return Hx(n,u,o,s),u}function Hx(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function zx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return wR()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var X4=new RegExp(`^(\\d+)*(${pP}|${fP})*(.*)`);var qx=()=>null;function Aw(n,e){return qx(n,e)}var Wx=class{},kC=class{},lp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ot(e)}.`)}},Xu=class{static NULL=new lp},co=class{},el=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Gx()}return n})();function Gx(){let n=Re(),e=zt(),t=_n(e.index,n);return(mr(t)?t:n)[it]}var Kx=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>null})}return n})();var Ff={},dp=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Fu(r);let i=this.injector.get(e,Ff,r);return i!==Ff||t===Ff?i:this.parentInjector.get(e,t,r)}};function hp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=nw(i,c);else if(o==2){let u=c,l=e[++s];r=nw(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function qt(n,e=re.Default){let t=Re();if(t===null)return Q(n,e);let r=zt();return BE(r,t,Bt(n),e)}function tl(){let n="invalid";throw new Error(n)}function gg(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c,u=null,l=null,f=Yx(s);f===null?c=s:[c,u,l]=f,Xx(n,e,t,c,o,u,l)}o!==null&&r!==null&&Qx(t,r,o)}function Qx(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function Yx(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let c=n[s];if(s===0&&ei(c)&&(e=c),c.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,Zx(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function Zx(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function Jx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Xx(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let v=0;v<c;v++){let m=r[v];!u&&ei(m)&&(u=!0,Jx(n,t,v)),zR(LE(t,e),n,m.type)}oN(t,n.data.length,c);for(let v=0;v<c;v++){let m=r[v];m.providersResolver&&m.providersResolver(m)}let l=!1,f=!1,g=yC(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let v=0;v<c;v++){let m=r[v];if(t.mergedAttrs=zu(t.mergedAttrs,m.hostAttrs),tN(n,t,e,g,m),iN(g,m,i),s!==null&&s.has(m)){let[x,O]=s.get(m);t.directiveToIndex.set(m.type,[g,x+t.directiveStart,O+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,g);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let A=m.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),g++}eN(n,t,o)}function eN(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Mw(0,e,i,r),Mw(1,e,i,r),Pw(e,r,!1);else{let o=t.get(i);Rw(0,e,o,r),Rw(1,e,o,r),Pw(e,r,!0)}}}function Mw(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),FC(e,o)}}function Rw(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),FC(e,s)}}function FC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Pw(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||rg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function tN(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ro(i.type,!0)),s=new zs(o,ei(i),qt);n.blueprint[r]=s,t[r]=s,nN(n,e,r,yC(n,t,i.hostVars,_o),i)}function nN(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;rN(s)!=c&&s.push(c),s.push(t,r,o)}}function rN(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function iN(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ei(e)&&(t[""]=n)}}function oN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function LC(n,e,t,r,i,o,s,c){let u=e.consts,l=ao(u,s),f=Ju(e,n,2,r,l);return o&&gg(e,t,f,ao(u,c),i),f.mergedAttrs=zu(f.mergedAttrs,f.attrs),f.attrs!==null&&hp(f,f.attrs,!1),f.mergedAttrs!==null&&hp(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function VC(n,e){qp(n,e),kp(e)&&n.queries.elementEnd(e)}var Pu=class extends Xu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=qr(e);return new uo(t,this.ngModule)}};function sN(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Gu.SignalBased)!==0};return i&&(o.transform=i),o})}function aN(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function cN(n,e,t){let r=e instanceof dt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new dp(t,r):t}function uN(n){let e=n.get(co,null);if(e===null)throw new H(407,!1);let t=n.get(Kx,null),r=n.get(Yr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function lN(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return fC(e,t,t==="svg"?uR:t==="math"?lR:null)}var uo=class extends kC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sN(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=aN(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=UP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){be(22);let o=pe(null);try{let s=this.componentDef,c=r?["ng-version","19.2.5"]:BP(this.componentDef.selectors[0]),u=ig(0,null,null,1,0,null,null,null,null,[c],null),l=cN(s,i||this.ngModule,e),f=uN(l),g=f.rendererFactory.createRenderer(null,s),v=r?ZP(g,r,s.encapsulation,l):lN(s,g),m=og(null,u,null,512|mC(s),null,null,f,g,l,null,aC(v,l,!0));m[nn]=v,$p(m);let A=null;try{let x=LC(nn,u,m,"#host",()=>[this.componentDef],!0,0);v&&(gC(g,v,x),yo(v,m)),Ku(u,m,x),ng(u,x,m),VC(u,x),t!==void 0&&dN(x,this.ngContentSelectors,t),A=_n(x.index,m),m[St]=A[St],lg(u,m,null)}catch(x){throw A!==null&&np(A),np(m),x}finally{be(23),Hp()}return new fp(this.componentType,m)}finally{pe(o)}}},fp=class extends Wx{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=mE(t[ae],nn),this.location=mo(this._tNode,t),this.instance=_n(this._tNode.index,t)[St],this.hostView=this.changeDetectorRef=new qs(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=ug(r,i[ae],i,e,t);this.previousInputValues.set(e,t);let s=_n(r.index,i);pg(s,1)}get injector(){return new zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var _r=(()=>{class n{static __NG_ELEMENT_ID__=hN}return n})();function hN(){let n=zt();return UC(n,Re())}var fN=_r,jC=class extends fN{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return mo(this._hostTNode,this._hostLView)}get injector(){return new zr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Wp(this._hostTNode,this._hostLView);if(OE(e)){let t=Tu(e,this._hostLView),r=Cu(e),i=t[ae].data[r+8];return new zr(i,t)}else return new zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=xw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Aw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,Dw(this._hostTNode,s)),c}createComponent(e,t,r,i,o){let s=e&&!oR(e),c;if(s)c=t;else{let A=t||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new uo(qr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(dt,null);x&&(o=x)}let f=qr(u.componentType??{}),g=Aw(this._lContainer,f?.id??null),v=g?.firstChild??null,m=u.create(l,i,v,o);return this.insertImpl(m.hostView,c,Dw(this._hostTNode,g)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(pR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ht],l=new jC(u,u[rn],u[ht]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Lx(s,i,o,r),e.attachToViewContainerRef(),nE(Lf(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=xw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=up(this._lContainer,t);r&&(mu(Lf(this._lContainer),t),CC(r[ae],r))}detach(e){let t=this._adjustIndex(e,-1),r=up(this._lContainer,t);return r&&mu(Lf(this._lContainer),t)!=null?new qs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function xw(n){return n[wu]}function Lf(n){return n[wu]||(n[wu]=[])}function UC(n,e){let t,r=e[n.index];return qn(r)?t=r:(t=NC(r,e,null,n),e[n.index]=t,sg(e,t)),gN(t,e,n,r),new jC(t,n,e)}function pN(n,e){let t=n[it],r=t.createComment(""),i=Wn(e,n),o=t.parentNode(i);return Mu(t,o,r,t.nextSibling(i),!1),r}var gN=vN,mN=()=>!1;function yN(n,e,t){return mN(n,e,t)}function vN(n,e,t,r){if(n[Gr])return;let i;t.type&8?i=vn(r):i=pN(e,t),n[Gr]=i}var pp=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},gp=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)mg(e,t).matches!==null&&this.queries[t].setDirty()}},mp=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=DN(e):this.predicate=e}},yp=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},vp=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,_N(t,o)),this.matchTNodeWithReadOption(e,t,lu(t,e,o,!1,!1))}else r===Zr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,lu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===yr||i===_r||i===Zr&&t.type&4)this.addMatch(t.index,-2);else{let o=lu(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function _N(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function IN(n,e){return n.type&11?mo(n,e):n.type&4?Zu(n,e):null}function wN(n,e,t,r){return t===-1?IN(e,n):t===-2?EN(n,e,r):bu(n,n[ae],t,e)}function EN(n,e,t){if(t===yr)return mo(e,n);if(t===Zr)return Zu(e,n);if(t===_r)return UC(e,n)}function BC(n,e,t,r){let i=e[$n].queries[r];if(i.matches===null){let o=n.data,s=t.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let f=o[l];c.push(wN(e,f,s[u+1],t.metadata.read))}}i.matches=c}return i.matches}function _p(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=BC(n,e,i,t);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],f=e[-u];for(let g=kt;g<f.length;g++){let v=f[g];v[Wr]===v[ht]&&_p(v[ae],v,l,r)}if(f[so]!==null){let g=f[so];for(let v=0;v<g.length;v++){let m=g[v];_p(m[ae],m,l,r)}}}}}return r}function CN(n,e){return n[$n].queries[e].queryList}function TN(n,e,t){let r=new tp((t&4)===4);return yR(n,e,r,r.destroy),(e[$n]??=new gp).queries.push(new pp(r))-1}function bN(n,e,t){let r=Ht();return r.firstCreatePass&&(SN(r,new mp(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),TN(r,Re(),e)}function DN(n){return n.split(",").map(e=>e.trim())}function SN(n,e,t){n.queries===null&&(n.queries=new yp),n.queries.track(new vp(e,t))}function mg(n,e){return n.queries.getByIndex(e)}function AN(n,e){let t=n[ae],r=mg(t,e);return r.crossesNgTemplate?_p(t,n,e,[]):BC(t,n,r,e)}var lo=class{},yg=class{};var Ip=class extends lo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Pu(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=oE(e);this._bootstrapComponents=dC(o.bootstrap),this._r3Injector=zE(e,t,[{provide:lo,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wp=class extends yg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ip(this.moduleType,e,[])}};var xu=class extends lo{injector;componentFactoryResolver=new Pu(this);instance=null;constructor(e){super();let t=new $s([...e.providers,{provide:lo,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],e.parent||Np(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zs(n,e,t=null){return new xu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var MN=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=sE(!1,t.type),i=r.length>0?Zs([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n(Q(dt))})}return n})();function xe(n){return Gs(()=>{let e=$C(n),t=Ae(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===JE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(MN).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||wn.Emulated,styles:n.styles||gn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Wu("NgStandalone"),HC(t);let r=n.dependencies;return t.directiveDefs=Nw(r,!1),t.pipeDefs=Nw(r,!0),t.id=ON(t),t})}function RN(n){return qr(n)||GM(n)}function PN(n){return n!==null}function Js(n){return Gs(()=>({type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xN(n,e){if(n==null)return io;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Gu.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function NN(n){if(n==null)return io;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function oi(n){return Gs(()=>{let e=$C(n);return HC(e),e})}function $C(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||io,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xN(n.inputs,e),outputs:NN(n.outputs),debugInfo:null}}function HC(n){n.features?.forEach(e=>e(n))}function Nw(n,e){if(!n)return null;let t=e?KM:RN;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(PN)}function ON(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function zC(n){return FN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function kN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function FN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function qC(n,e,t){return n[e]=t}function Ws(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function WC(n,e,t,r){let i=Ws(n,e,t);return Ws(n,e+1,r)||i}function LN(n,e,t,r,i){let o=WC(n,e,t,r);return Ws(n,e+2,i)||o}function VN(n,e,t,r,i,o,s,c,u){let l=e.consts,f=Ju(e,n,4,s||null,c||null);jp()&&gg(e,t,f,ao(l,u),cg),f.mergedAttrs=zu(f.mergedAttrs,f.attrs),qp(e,f);let g=f.tView=ig(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function jN(n,e,t,r,i,o,s,c,u,l){let f=t+nn,g=e.firstCreatePass?VN(f,e,n,r,i,o,s,c,u):e.data[f];ti(g,!1);let v=UN(e,n,g,t);$u()&&Qu(e,n,v,g),yo(v,n);let m=NC(v,n,v,g);return n[f]=m,sg(n,m),yN(m,g,n),ju(g)&&Ku(e,n,g),u!=null&&ag(n,g,l),g}function De(n,e,t,r,i,o,s,c){let u=Re(),l=Ht(),f=ao(l.consts,o);return jN(u,l,n,e,t,r,i,f,s,c),De}var UN=BN;function BN(n,e,t,r){return Hu(!0),e[it].createComment("")}var GC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var KC=new z("");var $N=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Ep})}return n})(),Ep=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Xs(n){return!!n&&typeof n.then=="function"}function QC(n){return!!n&&typeof n.subscribe=="function"}var nl=new z("");var YC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(nl,{optional:!0})??[];injector=M(ot);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ft(this.injector,i);if(Xs(o))t.push(o);else if(QC(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rl=new z("");function HN(){hf(()=>{throw new H(600,!1)})}function zN(n){return n.isBoundToModule}var qN=10;var Jr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(rP);afterRenderManager=M(sC);zonelessEnabled=M(Kp);rootEffectScheduler=M($N);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ze;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=M(ni).hasPendingTasks.pipe(K(t=>!t));constructor(){M(vo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(dt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){be(10);let i=t instanceof kC;if(!this._injector.get(YC).done){let v="";throw new H(405,v)}let s;i?s=t:s=this._injector.get(Xu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let c=zN(s)?void 0:this._injector.get(lo),u=r||s.selector,l=s.create(ot.NULL,[],u,c),f=l.location.nativeElement,g=l.injector.get(KC,null);return g?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),du(this.components,l),g?.unregisterApplication(f)}),this._loadComponent(l),be(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(eg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(t),this.afterTick.next(),be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(co,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<qN;)be(14),this.synchronizeOnce(),be(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)WN(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Bu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;du(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(rl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>du(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function du(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WN(n,e,t,r){if(!t&&!Bu(n))return;MC(n,e,t&&!r?0:1)}function ZC(n,e,t,r){return Ws(n,TE(),t)?e+Mp(t)+r:_o}function ee(n,e,t){let r=Re(),i=TE();if(Ws(r,i,e)){let o=Ht(),s=PE();IC(o,s,r,n,e,r[it],t,!1)}return ee}function Ow(n,e,t,r,i){ug(e,n,t,i?"class":"style",r)}function P(n,e,t,r){let i=Re(),o=Ht(),s=nn+n,c=i[it],u=o.firstCreatePass?LC(s,o,i,e,cg,jp(),t,r):o.data[s],l=GN(o,i,u,c,e,n);i[s]=l;let f=ju(u);return ti(u,!0),gC(c,l,u),!wC(u)&&$u()&&Qu(o,i,l,u),(vR()===0||f)&&yo(l,i),_R(),f&&(Ku(o,i,u),ng(o,u,i)),r!==null&&ag(i,u),P}function N(){let n=zt();Up()?wE():(n=n.parent,ti(n,!1));let e=n;ER(e)&&CR(),IR();let t=Ht();return t.firstCreatePass&&VC(t,e),e.classesWithoutHost!=null&&kR(e)&&Ow(t,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FR(e)&&Ow(t,e,Re(),e.stylesWithoutHost,!1),N}function Y(n,e,t,r){return P(n,e,t,r),N(),Y}var GN=(n,e,t,r,i,o)=>(Hu(!0),fC(r,i,xR()));function KN(n,e,t,r,i){let o=e.consts,s=ao(o,r),c=Ju(e,n,8,"ng-container",s);s!==null&&hp(c,s,!0);let u=ao(o,i);return jp()&&gg(e,t,c,u,cg),c.mergedAttrs=zu(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function pt(n,e,t){let r=Re(),i=Ht(),o=n+nn,s=i.firstCreatePass?KN(o,i,r,e,t):i.data[o];ti(s,!0);let c=QN(i,r,s,n);return r[o]=c,$u()&&Qu(i,r,c,s),yo(c,r),ju(s)&&(Ku(i,r,s),ng(i,s,r)),t!=null&&ag(r,s),pt}function gt(){let n=zt(),e=Ht();return Up()?wE():(n=n.parent,ti(n,!1)),e.firstCreatePass&&(qp(e,n),kp(n)&&e.queries.elementEnd(n)),gt}var QN=(n,e,t,r)=>(Hu(!0),zP(e[it],""));function Ir(){return Re()}var Nu="en-US";var YN=Nu;function ZN(n){typeof n=="string"&&(YN=n.toLowerCase().replace(/_/g,"-"))}function kw(n,e,t){return function r(i){if(i===Function)return t;let o=po(n)?_n(n.index,e):e;pg(o,5);let s=e[St],c=Fw(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=Fw(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function Fw(n,e,t,r){let i=pe(null);try{return be(6,e,t),t(r)!==!1}catch(o){return JN(n,o),!1}finally{be(7,e,t),pe(i)}}function JN(n,e){let t=n[oo],r=t?t.get(In,null):null;r&&r.handleError(e)}function Lw(n,e,t,r,i,o){let s=e[t],c=e[ae],l=c.data[t].outputs[r],f=s[l],g=c.firstCreatePass?Vp(c):null,v=Lp(e),m=f.subscribe(o),A=v.length;v.push(o,m),g&&g.push(i,n.index,A,-(A+1))}var XN=(n,e,t)=>{};function Wt(n,e,t,r){let i=Re(),o=Ht(),s=zt();return tO(o,i,i[it],s,n,e,r),Wt}function eO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[_u],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function tO(n,e,t,r,i,o,s){let c=ju(r),l=n.firstCreatePass?Vp(n):null,f=Lp(e),g=!0;if(r.type&3||s){let v=Wn(r,e),m=s?s(v):v,A=f.length,x=s?q=>s(vn(q[r.index])):r.index,O=null;if(!s&&c&&(O=eO(n,e,i,r.index)),O!==null){let q=O.__ngLastListenerFn__||O;q.__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,g=!1}else{o=kw(r,e,o),XN(m,i,o);let q=t.listen(m,i,o);f.push(o,q),l&&l.push(i,x,A,A+1)}}else o=kw(r,e,o);if(g){let v=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let A=0;A<m.length;A+=2){let x=m[A],O=m[A+1];Lw(r,e,x,O,i,o)}if(v&&v.length)for(let A of v)Lw(r,e,A,i,i,o)}}function Pe(n=1){return PR(n)}function vg(n,e,t){return JC(n,"",e,"",t),vg}function JC(n,e,t,r,i){let o=Re(),s=ZC(o,e,t,r);if(s!==_o){let c=Ht(),u=PE();IC(c,u,o,n,s,o[it],i,!1)}return JC}function il(n,e,t){bN(n,e,t)}function ea(n){let e=Re(),t=Ht(),r=bE();Bp(r+1);let i=mg(t,r);if(n.dirty&&fR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=AN(e,r);n.reset(o,sP),n.notifyOnChanges()}return!0}return!1}function ta(){return CN(Re(),bE())}function ol(n){let e=bR();return hR(e,nn+n)}function V(n,e=""){let t=Re(),r=Ht(),i=n+nn,o=r.firstCreatePass?Ju(r,i,1,e,null):r.data[i],s=nO(r,t,o,e,n);t[i]=s,$u()&&Qu(r,t,s,o),ti(o,!1)}var nO=(n,e,t,r,i)=>(Hu(!0),$P(e[it],r));function je(n){return Et("",n,""),je}function Et(n,e,t){let r=Re(),i=ZC(r,n,e,t);return i!==_o&&rO(r,zp(),i),Et}function rO(n,e,t){let r=dR(e,n);HP(n[it],r,t)}function XC(n,e,t,r,i){return iO(Re(),CE(),n,e,t,r,i)}function eT(n,e,t,r,i,o){return oO(Re(),CE(),n,e,t,r,i,o)}function tT(n,e){let t=n[e];return t===_o?void 0:t}function iO(n,e,t,r,i,o,s){let c=e+t;return WC(n,c,i,o)?qC(n,c+2,s?r.call(s,i,o):r(i,o)):tT(n,c+2)}function oO(n,e,t,r,i,o,s,c){let u=e+t;return LN(n,u,i,o,s)?qC(n,u+3,c?r.call(c,i,o,s):r(i,o,s)):tT(n,u+3)}function sl(n,e){return Zu(n,e)}var ho=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},nT=new ho("19.2.5"),Cp=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},al=(()=>{class n{compileModuleSync(t){return new wp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=oE(t),o=dC(i.declarations).reduce((s,c)=>{let u=qr(c);return u&&s.push(new uo(u)),s},[]);return new Cp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sO=(()=>{class n{zone=M(Ee);changeDetectionScheduler=M(Yr);applicationRef=M(Jr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aO=new z("",{factory:()=>!1});function rT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(Ae(j({},oT()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:Bs,multi:!0,useFactory:()=>{let r=M(sO,{optional:!0});return()=>r.initialize()}},{provide:Bs,multi:!0,useFactory:()=>{let r=M(cO);return()=>{r.initialize()}}},e===!0?{provide:WE,useValue:!0}:[],{provide:GE,useValue:t??qE}]}function iT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=rT({ngZoneFactory:()=>{let i=oT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Wu("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Xr([{provide:aO,useValue:!0},{provide:Kp,useValue:!1},r])}function oT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var cO=(()=>{class n{subscription=new Te;initialized=!1;zone=M(Ee);pendingTasks=M(ni);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uO=(()=>{class n{appRef=M(Jr);taskService=M(ni);ngZone=M(Ee);zonelessEnabled=M(Kp);tracing=M(vo,{optional:!0});disableScheduling=M(WE,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Te;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Su):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(GE,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ep||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?vw:KE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Su+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,vw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lO(){return typeof $localize<"u"&&$localize.locale||Nu}var _g=new z("",{providedIn:"root",factory:()=>M(_g,re.Optional|re.SkipSelf)||lO()});var Tp=new z(""),dO=new z("");function Ls(n){return!n.moduleRef}function hO(n){let e=Ls(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Ls(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(In,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ls(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Tp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Tp);s.add(o),n.moduleRef.onDestroy(()=>{du(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return pO(r,t,()=>{let o=e.get(YC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(_g,Nu);if(ZN(s||Nu),!e.get(dO,!0))return Ls(n)?e.get(Jr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ls(n)){let u=e.get(Jr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return fO(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function fO(n,e){let t=n.injector.get(Jr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}function pO(n,e,t){try{let r=t();return Xs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var hu=null;function gO(n=[],e){return ot.create({name:e,providers:[{provide:Lu,useValue:"platform"},{provide:Tp,useValue:new Set([()=>hu=null])},...n]})}function mO(n=[]){if(hu)return hu;let e=gO(n);return hu=e,HN(),yO(e),e}function yO(n){let e=n.get(Jp,null);ft(n,()=>{e?.forEach(t=>t())})}function Ig(){return!1}var na=(()=>{class n{static __NG_ELEMENT_ID__=vO}return n})();function vO(n){return _O(zt(),Re(),(n&16)===16)}function _O(n,e,t){if(po(n)&&!t){let r=_n(n.index,e);return new qs(r,r)}else if(n.type&175){let r=e[yn];return new qs(r,e)}return null}var bp=class{constructor(){}supports(e){return zC(e)}create(e){return new Dp(e)}},IO=(n,e)=>e,Dp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||IO}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Vw(r,i,o)?t:r,c=Vw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let v=0;v<l;v++){let m=v<o.length?o[v]:o[v]=0,A=m+v;f<=A&&A<l&&(o[v]=m+1)}let g=s.previousIndex;o[g]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!zC(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,kN(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Sp(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ou),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ou),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Ap=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ou=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Ap,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Vw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function jw(){return new wg([new bp])}var wg=(()=>{class n{factories;static \u0275prov=L({token:n,providedIn:"root",factory:jw});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||jw()),deps:[[n,new zM,new Hn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function sT(n){be(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=mO(r),o=[rT({}),{provide:Yr,useExisting:uO},...t||[]],s=new xu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return hO({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{be(9)}}var Uw=class{[Fi];constructor(e){this[Fi]=e}destroy(){this[Fi].destroy()}};function aT(n){let e=qr(n);if(!e)return null;let t=new uo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Xe=new z("");var lT=null;function Gn(){return lT}function Eg(n){lT??=n}var ra=class{},ia=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(dT),providedIn:"platform"})}return n})(),Cg=new z(""),dT=(()=>{class n extends ia{_location;_history;_doc=M(Xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gn().getBaseHref(this._doc)}onPopState(t){let r=Gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function cl(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function cT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function on(n){return n&&n[0]!=="?"?`?${n}`:n}var Kn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(ll),providedIn:"root"})}return n})(),ul=new z(""),ll=(()=>{class n extends Kn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cl(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+on(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(ia),Q(ul,8))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wr=(()=>{class n{_subject=new ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=CO(cT(uT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+on(r))}normalize(t){return n.stripTrailingSlash(EO(this._basePath,uT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+on(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+on(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=on;static joinWithSlash=cl;static stripTrailingSlash=cT;static \u0275fac=function(r){return new(r||n)(Q(Kn))};static \u0275prov=L({token:n,factory:()=>wO(),providedIn:"root"})}return n})();function wO(){return new wr(Q(Kn))}function EO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function uT(n){return n.replace(/\/index.html$/,"")}function CO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var bg=(()=>{class n extends Kn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=cl(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(ia),Q(ul,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var Tg=/\s+/,hT=[],Dg=(()=>{class n{_ngEl;_renderer;initialClasses=hT;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Tg):hT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Tg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Tg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(qt(yr),qt(el))};static \u0275dir=oi({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var dl=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},At=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new dl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),fT(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);fT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(qt(_r),qt(Zr),qt(wg))};static \u0275dir=oi({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function fT(n,e){n.context.$implicit=e.item}var Ze=(()=>{class n{_viewContainer;_context=new hl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pT(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pT(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(qt(_r),qt(Zr))};static \u0275dir=oi({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),hl=class{$implicit=null;ngIf=null};function pT(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}function Sg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ag="browser",gT="server";function fl(n){return n===gT}var oa=class{};var mT=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Mg(M(Xe),window)})}return n})(),Mg=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=AO(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function AO(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ml=new z(""),Ng=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Q(ml),Q(Ee))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),sa=class{_doc;constructor(e){this._doc=e}manager},pl="ng-app-id";function yT(n){for(let e of n)e.remove()}function vT(n,e){let t=e.createElement("style");return t.textContent=n,t}function MO(n,e,t,r){let i=n.head?.querySelectorAll(`style[${pl}="${e}"],link[${pl}="${e}"]`);if(i)for(let o of i)o.removeAttribute(pl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Pg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Og=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=fl(o),MO(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,vT);r?.forEach(i=>this.addUsage(i,this.external,Pg))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(yT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])yT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,vT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Pg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(pl,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(Xe),Q(Zp),Q(Xp,8),Q(vr))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Rg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kg=/%COMP%/g;var IT="%COMP%",RO=`_nghost-${IT}`,PO=`_ngcontent-${IT}`,xO=!0,NO=new z("",{providedIn:"root",factory:()=>xO});function OO(n){return PO.replace(kg,n)}function kO(n){return RO.replace(kg,n)}function wT(n,e){return e.map(t=>t.replace(kg,n))}var Fg=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=fl(c),this.defaultRenderer=new aa(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wn.ShadowDom&&(r=Ae(j({},r),{encapsulation:wn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof gl?i.applyToHost(t):i instanceof ca&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case wn.Emulated:o=new gl(u,l,r,this.appId,f,s,c,g,v);break;case wn.ShadowDom:return new xg(u,l,t,r,s,c,this.nonce,g,v);default:o=new ca(u,l,r,f,s,c,g,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Q(Ng),Q(Og),Q(Zp),Q(NO),Q(Xe),Q(vr),Q(Ee),Q(Xp),Q(vo,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),aa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Rg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_T(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_T(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Rg[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Rg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ii.DashCase|ii.Important)?e.style.setProperty(t,r,i&ii.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ii.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Gn().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function _T(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var xg=class extends aa{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=wT(i.id,f);for(let v of f){let m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=v,this.shadowRoot.appendChild(m)}let g=i.getExternalStyles?.();if(g)for(let v of g){let m=Pg(v,o);c&&m.setAttribute("nonce",c),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ca=class extends aa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?wT(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},gl=class extends ca{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,l,f),this.contentAttr=OO(f),this.hostAttr=kO(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Lg=class extends ra{supportsDOMEvents=!0},yl=class n extends Lg{static makeCurrent(){Eg(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=FO();return t==null?null:LO(t)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Sg(document.cookie,e)}},ua=null;function FO(){return ua=ua||document.querySelector("base"),ua?ua.getAttribute("href"):null}function LO(n){return new URL(n,document.baseURI).pathname}var VO=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),CT=(()=>{class n extends sa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Q(Xe))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),ET=["alt","control","meta","shift"],jO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},TT=(()=>{class n extends sa{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gn().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),ET.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=jO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ET.forEach(s=>{if(s!==i){let c=UO[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Q(Xe))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function Vg(n,e){return sT(j({rootComponent:n},BO(e)))}function BO(n){return{appProviders:[...WO,...n?.providers??[]],platformProviders:qO}}function $O(){yl.makeCurrent()}function HO(){return new In}function zO(){return rC(document),document}var qO=[{provide:vr,useValue:Ag},{provide:Jp,useValue:$O,multi:!0},{provide:Xe,useFactory:zO}];var WO=[{provide:Lu,useValue:"root"},{provide:In,useFactory:HO},{provide:ml,useClass:CT,multi:!0,deps:[Xe]},{provide:ml,useClass:TT,multi:!0,deps:[Xe]},Fg,Og,Ng,{provide:co,useExisting:Fg},{provide:oa,useClass:VO},[]];var bT=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Q(Xe))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var te="primary",Ea=Symbol("RouteTitle"),Hg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ci(n){return new Hg(n)}function NT(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function KO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tn(n[t],e[t]))return!1;return!0}function Tn(n,e){let t=n?zg(n):void 0,r=e?zg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!OT(n[i],e[i]))return!1;return!0}function zg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function OT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function kT(n){return n.length>0?n[n.length-1]:null}function br(n){return Af(n)?n:Xs(n)?we(Promise.resolve(n)):G(n)}var QO={exact:LT,subset:VT},FT={exact:YO,subset:ZO,ignored:()=>!0};function DT(n,e,t){return QO[t.paths](n.root,e.root,t.matrixParams)&&FT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function YO(n,e){return Tn(n,e)}function LT(n,e,t){if(!si(n.segments,e.segments)||!Il(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!LT(n.children[r],e.children[r],t))return!1;return!0}function ZO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>OT(n[t],e[t]))}function VT(n,e,t){return jT(n,e,e.segments,t)}function jT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!si(i,t)||e.hasChildren()||!Il(i,t,r))}else if(n.segments.length===t.length){if(!si(n.segments,t)||!Il(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!VT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!si(n.segments,i)||!Il(n.segments,i,r)||!n.children[te]?!1:jT(n.children[te],e,o,r)}}function Il(n,e,t){return e.every((r,i)=>FT[t](n[i].parameters,r.parameters))}var Dn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ci(this.queryParams),this._queryParamMap}toString(){return ek.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wl(this)}},Er=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ci(this.parameters),this._parameterMap}toString(){return BT(this)}};function JO(n,e){return si(n,e)&&n.every((t,r)=>Tn(t.parameters,e[r].parameters))}function si(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function XO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var ui=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new Cr,providedIn:"root"})}return n})(),Cr=class{parse(e){let t=new Wg(e);return new Dn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${la(e.root,!0)}`,r=rk(e.queryParams),i=typeof e.fragment=="string"?`#${tk(e.fragment)}`:"";return`${t}${r}${i}`}},ek=new Cr;function wl(n){return n.segments.map(e=>BT(e)).join("/")}function la(n,e){if(!n.hasChildren())return wl(n);if(e){let t=n.children[te]?la(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${la(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=XO(n,(r,i)=>i===te?[la(n.children[te],!1)]:[`${i}:${la(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${wl(n)}/${t[0]}`:`${wl(n)}/(${t.join("//")})`}}function UT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vl(n){return UT(n).replace(/%3B/gi,";")}function tk(n){return encodeURI(n)}function qg(n){return UT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function El(n){return decodeURIComponent(n)}function ST(n){return El(n.replace(/\+/g,"%20"))}function BT(n){return`${qg(n.path)}${nk(n.parameters)}`}function nk(n){return Object.entries(n).map(([e,t])=>`;${qg(e)}=${qg(t)}`).join("")}function rk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${vl(t)}=${vl(i)}`).join("&"):`${vl(t)}=${vl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var ik=/^[^\/()?;#]+/;function jg(n){let e=n.match(ik);return e?e[0]:""}var ok=/^[^\/()?;=#]+/;function sk(n){let e=n.match(ok);return e?e[0]:""}var ak=/^[^=?&#]+/;function ck(n){let e=n.match(ak);return e?e[0]:""}var uk=/^[^&#]+/;function lk(n){let e=n.match(uk);return e?e[0]:""}var Wg=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new ve(e,t)),r}parseSegment(){let e=jg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Er(El(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=sk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=jg(this.remaining);i&&(r=i,this.capture(r))}e[El(t)]=El(r)}parseQueryParam(e){let t=ck(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=lk(this.remaining);s&&(r=s,this.capture(r))}let i=ST(t),o=ST(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function $T(n){return n.segments.length>0?new ve([],{[te]:n}):n}function HT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=HT(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ve(n.segments,e);return dk(t)}function dk(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new ve(n.segments.concat(e.segments),e.children)}return n}function To(n){return n instanceof Dn}function zT(n,e,t=null,r=null){let i=qT(n);return WT(i,e,t,r)}function qT(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new ve(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=$T(r);return e??i}function WT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Ug(i,i,i,t,r);let o=hk(e);if(o.toRoot())return Ug(i,i,new ve([],{}),t,r);let s=fk(o,i,n),c=s.processChildren?ha(s.segmentGroup,s.index,o.commands):KT(s.segmentGroup,s.index,o.commands);return Ug(i,s.segmentGroup,c,t,r)}function Tl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function pa(n){return typeof n=="object"&&n!=null&&n.outlets}function Ug(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=GT(n,e,t);let c=$T(HT(s));return new Dn(c,o,i)}function GT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=GT(o,e,t)}),new ve(n.segments,r)}var bl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tl(r[0]))throw new H(4003,!1);let i=r.find(pa);if(i&&i!==kT(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new bl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new bl(t,e,r)}var Eo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function fk(n,e,t){if(n.isAbsolute)return new Eo(e,!0,0);if(!t)return new Eo(e,!1,NaN);if(t.parent===null)return new Eo(t,!0,0);let r=Tl(n.commands[0])?0:1,i=t.segments.length-1+r;return pk(t,i,n.numberOfDoubleDots)}function pk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Eo(r,!1,i-o)}function gk(n){return pa(n[0])?n[0].outlets:{[te]:n}}function KT(n,e,t){if(n??=new ve([],{}),n.segments.length===0&&n.hasChildren())return ha(n,e,t);let r=mk(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ve(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new ve(n.segments.slice(r.pathIndex),n.children),ha(o,0,i)}else return r.match&&i.length===0?new ve(n.segments,{}):r.match&&!n.hasChildren()?Gg(n,e,t):r.match?ha(n,0,i):Gg(n,e,t)}function ha(n,e,t){if(t.length===0)return new ve(n.segments,{});{let r=gk(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=ha(n.children[te],e,t);return new ve(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=KT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(n.segments,i)}}function mk(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(pa(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!MT(u,l,s))return o;r+=2}else{if(!MT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gg(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(pa(o)){let u=yk(o.outlets);return new ve(r,u)}if(i===0&&Tl(t[0])){let u=n.segments[e];r.push(new Er(u.path,AT(t[0]))),i++;continue}let s=pa(o)?o.outlets[te]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Tl(c)?(r.push(new Er(s,AT(c))),i+=2):(r.push(new Er(s,{})),i++)}return new ve(r,{})}function yk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Gg(new ve([],{}),0,r))}),e}function AT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function MT(n,e,t){return n==t.path&&Tn(e,t.parameters)}var Cl="imperative",Je=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Je||{}),Lt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Tr=class extends Lt{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends Lt{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Mt||{}),bo=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(bo||{}),bn=class extends Lt{reason;code;type=Je.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sn=class extends Lt{reason;code;type=Je.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Do=class extends Lt{error;target;type=Je.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ga=class extends Lt{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dl=class extends Lt{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sl=class extends Lt{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Al=class extends Lt{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ml=class extends Lt{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rl=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pl=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xl=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nl=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ol=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kl=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},So=class{routerEvent;position;anchor;type=Je.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ma=class{},Ao=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function vk(n,e){return n.providers&&!n._injector&&(n._injector=Zs(n.providers,e,`Route: ${n.path}`)),n._injector??e}function sn(n){return n.outlet||te}function _k(n,e){let t=n.filter(r=>sn(r)===e);return t.push(...n.filter(r=>sn(r)!==e)),t}function Ca(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Fl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ca(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new li(this.rootInjector)}},li=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Fl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Q(dt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ll=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Kg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Kg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Qg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qg(e,this._root).map(t=>t.value)}};function Kg(n,e){if(n===e.value)return e;for(let t of e.children){let r=Kg(n,t);if(r)return r}return null}function Qg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Qg(n,t);if(r.length)return r.unshift(e),r}return[]}var Ft=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function wo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ya=class extends Ll{snapshot;constructor(e,t){super(e),this.snapshot=t,rm(this,e)}toString(){return this.snapshot.toString()}};function QT(n){let e=Ik(n),t=new Ue([new Er("",{})]),r=new Ue({}),i=new Ue({}),o=new Ue({}),s=new Ue(""),c=new Qn(t,r,o,s,i,te,n,e.root);return c.snapshot=e.root,new ya(new Ft(c,[]),e)}function Ik(n){let e={},t={},r={},i="",o=new ai([],e,r,i,t,te,n,null,{});return new va("",new Ft(o,[]))}var Qn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(K(l=>l[Ea]))??G(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>ci(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>ci(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&ZT(i)&&(r.resolve[Ea]=i.title),r}var ai=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ea]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ci(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},va=class extends Ll{url;constructor(e,t){super(t),this.url=e,rm(this,t)}toString(){return YT(this._root)}};function rm(n,e){e.value._routerState=n,e.children.forEach(t=>rm(n,t))}function YT(n){let e=n.children.length>0?` { ${n.children.map(YT).join(", ")} } `:"";return`${n.value}${e}`}function Bg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Tn(e.params,t.params)||n.paramsSubject.next(t.params),KO(e.url,t.url)||n.urlSubject.next(t.url),Tn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Yg(n,e){let t=Tn(n.params,e.params)&&JO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Yg(n.parent,e.parent))}function ZT(n){return typeof n.title=="string"||n.title===null}var JT=new z(""),Ta=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new lt;deactivateEvents=new lt;attachEvents=new lt;detachEvents=new lt;routerOutletData=YE(void 0);parentContexts=M(li);location=M(_r);changeDetector=M(na);inputBinder=M(ba,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Zg(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oi({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Uu]})}return n})(),Zg=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Qn?this.route:e===li?this.childContexts:e===JT?this.outletData:this.parent.get(e,t)}},ba=new z(""),im=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=$r([r.queryParams,r.params,r.data]).pipe(rt(([o,s,c],u)=>(c=j(j(j({},o),s),c),u===0?G(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=aT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function wk(n,e,t){let r=_a(n,e._root,t?t._root:void 0);return new ya(r,e)}function _a(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Ek(n,e,t);return new Ft(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>_a(n,c)),s}}let r=Ck(e.value),i=e.children.map(o=>_a(n,o));return new Ft(r,i)}}function Ek(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _a(n,r,i);return _a(n,r)})}function Ck(n){return new Qn(new Ue(n.url),new Ue(n.params),new Ue(n.queryParams),new Ue(n.fragment),new Ue(n.data),n.outlet,n.component,n)}var Mo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},XT="ngNavigationCancelingError";function jl(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=To(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eb(!1,Mt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function eb(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[XT]=!0,t.cancellationCode=e,t}function Tk(n){return tb(n)&&To(n.url)}function tb(n){return!!n&&n[XT]}var bk=(n,e,t,r)=>K(i=>(new Jg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Jg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Bg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=wo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=wo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Nl(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Bg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Bg(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ul=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Co=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Dk(n,e,t){let r=n._root,i=e?e._root:null;return da(r,i,t,[r.value])}function Sk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Po(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Kw(n)?n:e.get(n):r}function da(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wo(e);return n.children.forEach(s=>{Ak(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>fa(c,t.getContext(s),i)),i}function Ak(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Mk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ul(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?da(n,e,c?c.children:null,r,i):da(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Co(c.outlet.component,s))}else s&&fa(e,c,i),i.canActivateChecks.push(new Ul(r)),o.component?da(n,null,c?c.children:null,r,i):da(n,null,t,r,i);return i}function Mk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!si(n.url,e.url);case"pathParamsOrQueryParamsChange":return!si(n.url,e.url)||!Tn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yg(n,e)||!Tn(n.queryParams,e.queryParams);case"paramsChange":default:return!Yg(n,e)}}function fa(n,e,t){let r=wo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?fa(s,e.children.getContext(o),t):fa(s,null,t):fa(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Co(e.outlet.component,i)):t.canDeactivateChecks.push(new Co(null,i)):t.canDeactivateChecks.push(new Co(null,i))}function Da(n){return typeof n=="function"}function Rk(n){return typeof n=="boolean"}function Pk(n){return n&&Da(n.canLoad)}function xk(n){return n&&Da(n.canActivate)}function Nk(n){return n&&Da(n.canActivateChild)}function Ok(n){return n&&Da(n.canDeactivate)}function kk(n){return n&&Da(n.canMatch)}function nb(n){return n instanceof Ln||n?.name==="EmptyError"}var _l=Symbol("INITIAL_VALUE");function Ro(){return rt(n=>$r(n.map(e=>e.pipe(jn(1),ou(_l)))).pipe(K(e=>{for(let t of e)if(t!==!0){if(t===_l)return _l;if(t===!1||Fk(t))return t}return!0}),Dt(e=>e!==_l),jn(1)))}function Fk(n){return To(n)||n instanceof Mo}function Lk(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?G(Ae(j({},t),{guardsResult:!0})):Vk(s,r,i,n).pipe(Be(c=>c&&Rk(c)?jk(r,o,n,e):G(c)),K(c=>Ae(j({},t),{guardsResult:c})))})}function Vk(n,e,t,r){return we(n).pipe(Be(i=>zk(i.component,i.route,t,e,r)),Un(i=>i!==!0,!0))}function jk(n,e,t,r){return we(e).pipe(fr(i=>Qi(Bk(i.route.parent,r),Uk(i.route,r),Hk(n,i.path,t),$k(n,i.route,t))),Un(i=>i!==!0,!0))}function Uk(n,e){return n!==null&&e&&e(new Ol(n)),G(!0)}function Bk(n,e){return n!==null&&e&&e(new xl(n)),G(!0)}function $k(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>nu(()=>{let s=Ca(e)??t,c=Po(o,s),u=xk(c)?c.canActivate(e,n):ft(s,()=>c(e,n));return br(u).pipe(Un())}));return G(i).pipe(Ro())}function Hk(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Sk(s)).filter(s=>s!==null).map(s=>nu(()=>{let c=s.guards.map(u=>{let l=Ca(s.node)??t,f=Po(u,l),g=Nk(f)?f.canActivateChild(r,n):ft(l,()=>f(r,n));return br(g).pipe(Un())});return G(c).pipe(Ro())}));return G(o).pipe(Ro())}function zk(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(c=>{let u=Ca(e)??i,l=Po(c,u),f=Ok(l)?l.canDeactivate(n,e,t,r):ft(u,()=>l(n,e,t,r));return br(f).pipe(Un())});return G(s).pipe(Ro())}function qk(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let c=Po(s,n),u=Pk(c)?c.canLoad(e,t):ft(n,()=>c(e,t));return br(u)});return G(o).pipe(Ro(),rb(r))}function rb(n){return Lc(We(e=>{if(typeof e!="boolean")throw jl(n,e)}),K(e=>e===!0))}function Wk(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let c=Po(s,n),u=kk(c)?c.canMatch(e,t):ft(n,()=>c(e,t));return br(u)});return G(o).pipe(Ro(),rb(r))}var Ia=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},wa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Io(n){return Gi(new Ia(n))}function Gk(n){return Gi(new H(4e3,!1))}function Kk(n){return Gi(eb(!1,Mt.GuardRejected))}var Xg=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[te])return Gk(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:v,params:m,data:A,title:x}=i,O=ft(o,()=>c({params:m,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:v,title:x}));if(O instanceof Dn)throw new wa(O);t=O}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new wa(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Dn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ve(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},em={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qk(n,e,t,r,i){let o=ib(n,e,t);return o.matched?(r=vk(e,r),Wk(r,e,t,i).pipe(K(s=>s===!0?o:j({},em)))):G(o)}function ib(n,e,t){if(e.path==="**")return Yk(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},em):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||NT)(t,n,e);if(!i)return j({},em);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Yk(n){return{matched:!0,parameters:n.length>0?kT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function RT(n,e,t,r){return t.length>0&&Xk(n,t,r)?{segmentGroup:new ve(e,Jk(r,new ve(t,n.children))),slicedSegments:[]}:t.length===0&&e1(n,t,r)?{segmentGroup:new ve(n.segments,Zk(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ve(n.segments,n.children),slicedSegments:t}}function Zk(n,e,t,r){let i={};for(let o of t)if($l(n,e,o)&&!r[sn(o)]){let s=new ve([],{});i[sn(o)]=s}return j(j({},r),i)}function Jk(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&sn(r)!==te){let i=new ve([],{});t[sn(r)]=i}return t}function Xk(n,e,t){return t.some(r=>$l(n,e,r)&&sn(r)!==te)}function e1(n,e,t){return t.some(r=>$l(n,e,r))}function $l(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function t1(n,e,t){return e.length===0&&!n.children[t]}var tm=class{};function n1(n,e,t,r,i,o,s="emptyOnly"){return new nm(n,e,t,r,i,s,o).recognize()}var r1=31,nm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Xg(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=RT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(({children:t,rootSnapshot:r})=>{let i=new Ft(r,t),o=new va("",i),s=zT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ai([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(K(r=>({children:r,rootSnapshot:t})),Vn(r=>{if(r instanceof wa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ia?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(K(s=>s instanceof Ft?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return we(o).pipe(fr(s=>{let c=r.children[s],u=_k(t,s);return this.processSegmentGroup(e,u,c,s,i)}),iu((s,c)=>(s.push(...c),s)),pr(null),Mf(),Be(s=>{if(s===null)return Io(r);let c=ob(s);return i1(c),G(c)}))}processSegment(e,t,r,i,o,s,c){return we(t).pipe(fr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(Vn(l=>{if(l instanceof Ia)return G(null);throw l}))),Un(u=>!!u),Vn(u=>{if(nb(u))return t1(r,i,o)?G(new tm):Io(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return sn(r)!==s&&(s===te||!$l(i,o,r))?Io(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Io(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:v}=ib(t,i,o);if(!u)return Io(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>r1&&(this.allowRedirects=!1));let m=new ai(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,PT(i),sn(i),i.component??i._loadedComponent??null,i,xT(i)),A=Vl(m,c,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data);let x=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,m,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Be(O=>this.processSegment(e,r,t,O.concat(v),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=Qk(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(rt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:v,remainingSegments:m}=u,A=new ai(v,g,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,PT(r),sn(r),r.component??r._loadedComponent??null,r,xT(r)),x=Vl(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(x.params),A.data=Object.freeze(x.data);let{segmentGroup:O,slicedSegments:q}=RT(t,v,m,l);if(q.length===0&&O.hasChildren())return this.processChildren(f,l,O,A).pipe(K(se=>new Ft(A,se)));if(l.length===0&&q.length===0)return G(new Ft(A,[]));let me=sn(r)===o;return this.processSegment(f,l,O,q,me?te:o,!0,A).pipe(K(se=>new Ft(A,se instanceof Ft?[se]:[])))}))):Io(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?G({routes:t._loadedRoutes,injector:t._loadedInjector}):qk(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe(We(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Kk(t))):G({routes:[],injector:e})}};function i1(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function o1(n){let e=n.value.routeConfig;return e&&e.path===""}function ob(n){let e=[],t=new Set;for(let r of n){if(!o1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ob(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!t.has(r))}function PT(n){return n.data||{}}function xT(n){return n.resolve||{}}function s1(n,e,t,r,i,o){return Be(s=>n1(n,e,t,r,s.extractedUrl,i,o).pipe(K(({state:c,tree:u})=>Ae(j({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function a1(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of sb(u))s.add(l);let c=0;return we(s).pipe(fr(u=>o.has(u)?c1(u,r,n,e):(u.data=Vl(u,u.parent,n).resolve,G(void 0))),We(()=>c++),Yi(1),Be(u=>c===s.size?G(t):Tt))})}function sb(n){let e=n.children.map(t=>sb(t)).flat();return[n,...e]}function c1(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!ZT(i)&&(o[Ea]=i.title),u1(o,n,e,r).pipe(K(s=>(n._resolvedData=s,n.data=Vl(n,n.parent,t).resolve,null)))}function u1(n,e,t,r){let i=zg(n);if(i.length===0)return G({});let o={};return we(i).pipe(Be(s=>l1(n[s],e,t,r).pipe(Un(),We(c=>{if(c instanceof Mo)throw jl(new Cr,c);o[s]=c}))),Yi(1),K(()=>o),Vn(s=>nb(s)?Tt:Gi(s)))}function l1(n,e,t,r){let i=Ca(e)??r,o=Po(n,i),s=o.resolve?o.resolve(e,t):ft(i,()=>o(e,t));return br(s)}function $g(n){return rt(e=>{let t=n(e);return t?we(t).pipe(K(()=>e)):G(e)})}var om=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[Ea]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(ab),providedIn:"root"})}return n})(),ab=(()=>{class n extends om{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(bT))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),di=new z("",{providedIn:"root",factory:()=>({})}),sm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=xe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Y(0,"router-outlet")},dependencies:[Ta],encapsulation:2})}return n})();function am(n){let e=n.children&&n.children.map(am),t=e?Ae(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=sm),t}var hi=new z(""),Hl=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(al);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return G(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=br(t.loadComponent()).pipe(K(ub),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Fs(()=>{this.componentLoaders.delete(t)})),i=new Hi(r,()=>new ze).pipe($i());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=cb(r,this.compiler,t,this.onLoadEndListener).pipe(Fs(()=>{this.childrenLoaders.delete(r)})),s=new Hi(o,()=>new ze).pipe($i());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cb(n,e,t,r){return br(n.loadChildren()).pipe(K(ub),Be(i=>i instanceof yg||Array.isArray(i)?G(i):we(e.compileModuleAsync(i))),K(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(hi,[],{optional:!0,self:!0}).flat()),{routes:s.map(am),injector:o}}))}function d1(n){return n&&typeof n=="object"&&"default"in n}function ub(n){return d1(n)?n.default:n}var zl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(h1),providedIn:"root"})}return n})(),h1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cm=new z(""),um=new z("");function lb(n,e,t){let r=n.get(um),i=n.get(Xe);return n.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),f1(n))),{onViewTransitionCreated:u}=r;return u&&ft(n,()=>u({transition:c,from:e,to:t})),s})}function f1(n){return new Promise(e=>{tg({read:()=>setTimeout(e)},{injector:n})})}var lm=new z(""),ql=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ze;transitionAbortSubject=new ze;configLoader=M(Hl);environmentInjector=M(dt);destroyRef=M(go);urlSerializer=M(ui);rootContexts=M(li);location=M(wr);inputBindingEnabled=M(ba,{optional:!0})!==null;titleStrategy=M(om);options=M(di,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(zl);createViewTransition=M(cm,{optional:!0});navigationErrorHandler=M(lm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Rl(i)),r=i=>this.events.next(new Pl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ae(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Ue(null),this.transitions.pipe(Dt(r=>r!==null),rt(r=>{let i=!1,o=!1;return G(r).pipe(rt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),Tt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let l="";return this.events.next(new Sn(s.id,this.urlSerializer.serialize(s.rawUrl),l,bo.IgnoredSameUrlNavigation)),s.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return G(s).pipe(rt(l=>(this.events.next(new Tr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Tt:Promise.resolve(l))),s1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),We(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Ae(j({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new ga(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:f,source:g,restoredState:v,extras:m}=s,A=new Tr(l,this.urlSerializer.serialize(f),g,v);this.events.next(A);let x=QT(this.rootComponentType).snapshot;return this.currentTransition=r=Ae(j({},s),{targetSnapshot:x,urlAfterRedirects:f,extras:Ae(j({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,G(r)}else{let l="";return this.events.next(new Sn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,bo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Tt}}),We(s=>{let c=new Dl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),K(s=>(this.currentTransition=r=Ae(j({},s),{guards:Dk(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Lk(this.environmentInjector,s=>this.events.next(s)),We(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw jl(this.urlSerializer,s.guardsResult);let c=new Sl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),Dt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Mt.GuardRejected),!1)),$g(s=>{if(s.guards.canActivateChecks.length!==0)return G(s).pipe(We(c=>{let u=new Al(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),rt(c=>{let u=!1;return G(c).pipe(a1(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Mt.NoDataFromResolver)}}))}),We(c=>{let u=new Ml(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),$g(s=>{let c=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(We(f=>{u.component=f}),K(()=>{})));for(let f of u.children)l.push(...c(f));return l};return $r(c(s.targetSnapshot.root)).pipe(pr(null),jn(1))}),$g(()=>this.afterPreactivation()),rt(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?we(u).pipe(K(()=>r)):G(r)}),K(s=>{let c=wk(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Ae(j({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),We(()=>{this.events.next(new ma)}),bk(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),jn(1),We({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Rf(this.transitionAbortSubject.pipe(We(s=>{throw s}))),Fs(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vn(s=>{if(this.destroyed)return r.resolve(!1),Tt;if(o=!0,tb(s))this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Tk(s)?this.events.next(new Ao(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Do(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=ft(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Mo){let{message:l,cancellationCode:f}=jl(this.urlSerializer,u);this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new Ao(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Tt}))}))}cancelNavigationTransition(t,r,i){let o=new bn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function p1(n){return n!==Cl}var db=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(g1),providedIn:"root"})}return n})(),Bl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},g1=(()=>{class n extends Bl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gp(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hb=(()=>{class n{urlSerializer=M(ui);options=M(di,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(wr);urlHandlingStrategy=M(zl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Dn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=QT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(m1),providedIn:"root"})}return n})(),m1=(()=>{class n extends hb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Tr?this.updateStateMemento():t instanceof Sn?this.commitTransition(r):t instanceof ga?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ma?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof bn&&(t.code===Mt.GuardRejected||t.code===Mt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Do?this.restoreHistory(r,!0):t instanceof an&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=j(j({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=j(j({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gp(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wl(n,e){n.events.pipe(Dt(t=>t instanceof an||t instanceof bn||t instanceof Do||t instanceof Sn),K(t=>t instanceof an||t instanceof Sn?0:(t instanceof bn?t.code===Mt.Redirect||t.code===Mt.SupersededByNewNavigation:!1)?2:1),Dt(t=>t!==2),jn(1)).subscribe(()=>{e()})}var y1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(GC);stateManager=M(hb);options=M(di,{optional:!0})||{};pendingTasks=M(ni);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(ql);urlSerializer=M(ui);location=M(wr);urlHandlingStrategy=M(zl);_events=new ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(db);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(hi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(ba,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Te;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof bn&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof an)this.navigated=!0;else if(r instanceof Ao){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||p1(i.source)},s);this.scheduleNavigation(c,Cl,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}I1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(am),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let v=i?i.snapshot:this.routerState.snapshot.root;g=qT(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return WT(g,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=To(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Cl,null,r)}navigate(t,r={skipLocationChange:!1}){return _1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},y1):r===!1?i=j({},v1):i=r,To(t))return DT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return DT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((g,v)=>{c=g,u=v});let f=this.pendingTasks.add();return Wl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _1(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function I1(n){return!(n instanceof ma)&&!(n instanceof Ao)}var Sa=class{};var fb=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(t=>t instanceof an),fr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Zs(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return we(i).pipe(Ki())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=G(null);let o=i.pipe(Be(s=>s===null?G(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return we([o,s]).pipe(Ki())}else return o})}static \u0275fac=function(r){return new(r||n)(Q(cn),Q(al),Q(dt),Q(Sa),Q(Hl))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pb=new z(""),w1=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof an?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Sn&&t.code===bo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof So&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new So(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){tl()};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function hm(n,...e){return Xr([{provide:hi,multi:!0,useValue:n},[],{provide:Qn,useFactory:gb,deps:[cn]},{provide:rl,multi:!0,useFactory:mb},e.map(t=>t.\u0275providers)])}function gb(n){return n.routerState.root}function Aa(n,e){return{\u0275kind:n,\u0275providers:e}}function mb(){let n=M(ot);return e=>{let t=n.get(Jr);if(e!==t.components[0])return;let r=n.get(cn),i=n.get(yb);n.get(fm)===1&&r.initialNavigation(),n.get(Ib,null,re.Optional)?.setUpPreloading(),n.get(pb,null,re.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var yb=new z("",{factory:()=>new ze}),fm=new z("",{providedIn:"root",factory:()=>1});function vb(){return Aa(2,[{provide:fm,useValue:0},{provide:nl,multi:!0,deps:[ot],useFactory:e=>{let t=e.get(Cg,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(cn),o=e.get(yb);Wl(i,()=>{r(!0)}),e.get(ql).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))}}])}function _b(){return Aa(3,[{provide:nl,multi:!0,useFactory:()=>{let e=M(cn);return()=>{e.setUpLocationChangeListener()}}},{provide:fm,useValue:2}])}var Ib=new z("");function wb(n){return Aa(0,[{provide:Ib,useExisting:fb},{provide:Sa,useExisting:n}])}function Eb(){return Aa(8,[im,{provide:ba,useExisting:im}])}function Cb(n){let e=[{provide:cm,useValue:lb},{provide:um,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return Aa(9,e)}var Tb=[wr,{provide:ui,useClass:Cr},cn,li,{provide:Qn,useFactory:gb,deps:[cn]},Hl,[]],pm=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[Tb,[],{provide:hi,multi:!0,useValue:t},[],r?.errorHandler?{provide:lm,useValue:r.errorHandler}:[],{provide:di,useValue:r||{}},r?.useHash?C1():T1(),E1(),r?.preloadingStrategy?wb(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?b1(r):[],r?.bindToComponentInputs?Eb().\u0275providers:[],r?.enableViewTransitions?Cb().\u0275providers:[],D1()]}}static forChild(t){return{ngModule:n,providers:[{provide:hi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Js({type:n});static \u0275inj=Ks({})}return n})();function E1(){return{provide:pb,useFactory:()=>{let n=M(mT),e=M(Ee),t=M(di),r=M(ql),i=M(ui);return t.scrollOffset&&n.setOffset(t.scrollOffset),new w1(i,r,n,e,t)}}}function C1(){return{provide:Kn,useClass:bg}}function T1(){return{provide:Kn,useClass:ll}}function b1(n){return[n.initialNavigation==="disabled"?_b().\u0275providers:[],n.initialNavigation==="enabledBlocking"?vb().\u0275providers:[]]}var dm=new z("");function D1(){return[{provide:dm,useFactory:mb},{provide:rl,multi:!0,useExisting:dm}]}function A1(n,e){if(n&1&&(pt(0),P(1,"p"),V(2),N(),P(3,"p"),V(4),N(),P(5,"p"),V(6),N(),gt()),n&2){let t=Pe();$(2),je(t.httpGroup),$(2),je(t.linkGroup),$(2),je(t.idGroup)}}function M1(n,e){if(n&1&&(P(0,"p"),V(1),N()),n&2){let t=Pe();$(),je(t.link)}}var R1=/^(https:\/\/)(www\.youtube\.com\/watch\?)(v=.+)$/,Gl=class n{link;httpGroup;linkGroup;idGroup;ngOnInit(){let e=R1.exec(this.link);e!=null&&(e[1]!=null&&(this.httpGroup=e[1]),e[2]!=null&&(this.linkGroup=e[2]),e[3]!=null&&(this.idGroup=e[3]))}sendToNewPage(e){e&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-formatted-link"]],inputs:{link:"link"},decls:4,vars:2,consts:[["fullUrl",""],[1,"projectUrl",3,"click"],[4,"ngIf","ngIfElse"]],template:function(t,r){if(t&1){let i=Ir();P(0,"a",1),Wt("click",function(){return En(i),Cn(r.sendToNewPage(r.link))}),De(1,A1,7,3,"ng-container",2)(2,M1,2,1,"ng-template",null,0,sl),N()}if(t&2){let i=ol(3);$(),ee("ngIf",r.httpGroup!=null&&r.linkGroup!=null&&r.idGroup!=null)("ngIfElse",i)}},dependencies:[Ze],styles:[".projectUrl[_ngcontent-%COMP%]{text-decoration:underline}"]})};function P1(n,e){if(n&1&&(P(0,"div",3),Y(1,"img",4),N()),n&2){let t=Pe();$(),ee("src",t.image,ri)}}function x1(n,e){if(n&1&&(P(0,"div",7),Y(1,"img",4),N()),n&2){let t=e.$implicit;$(),ee("src",t,ri)}}function N1(n,e){if(n&1&&(P(0,"div",5),De(1,x1,2,1,"div",6),N()),n&2){let t=Pe();$(),ee("ngForOf",t.images)}}function O1(n,e){n&1&&(pt(0),Y(1,"div",8),gt())}var Kl=class n{image;images;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-element-image"]],inputs:{image:"image",images:"images"},decls:3,vars:3,consts:[["class","imageElement",4,"ngIf"],["class","imagesElement",4,"ngIf"],[4,"ngIf"],[1,"imageElement"],[3,"src"],[1,"imagesElement"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"cuadrado-gris"]],template:function(t,r){t&1&&De(0,P1,2,1,"div",0)(1,N1,2,1,"div",1)(2,O1,2,0,"ng-container",2),t&2&&(ee("ngIf",r.image&&!r.images),$(),ee("ngIf",!r.image&&r.images),$(),ee("ngIf",!r.image&&!r.images))},dependencies:[Ze,At],styles:[".cuadrado-gris[_ngcontent-%COMP%]{width:100%;height:500px;background-color:gray;margin-top:20px;margin-bottom:60px}.imageElement[_ngcontent-%COMP%], .imagesElement[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:32px}.imageElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:175%}.imagesElement[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:start;width:170%}.imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:last-child{margin-left:20px}.imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}"]})};var Ql=class n{eventSubject=new ze;emitEvent(e){this.eventSubject.next(e)}get events$(){return this.eventSubject.asObservable()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var F1=["scrolInto"],L1=(n,e,t)=>({buttonIndex:n,buttonIndexOverflowed:e,closeButtonIndex:t}),V1=(n,e)=>({icon:n,icon_collapsed:e});function j1(n,e){if(n&1&&(pt(0),P(1,"p"),V(2,"[Award-Winning]"),N(),Y(3,"p"),P(4,"p"),V(5),N(),gt()),n&2){let t=Pe();$(5),je(t.projectElement.awardWining)}}function U1(n,e){if(n&1&&(P(0,"div",19),Y(1,"app-formatted-link",20),N()),n&2){let t=e.$implicit;$(),ee("link",t)}}function B1(n,e){if(n&1&&(pt(0),De(1,U1,2,1,"div",18),gt()),n&2){let t=Pe();$(),ee("ngForOf",t.projectElement.links)}}function $1(n,e){if(n&1&&(P(0,"div",21),Y(1,"app-formatted-link",20),N()),n&2){let t=Pe();$(),ee("link",t.projectElement.url)}}function H1(n,e){if(n&1&&(P(0,"div",22),V(1),N()),n&2){let t=Pe();$(),Et(" ",t.projectElement.description," ")}}function z1(n,e){if(n&1&&(P(0,"div",23)(1,"p"),V(2),N()()),n&2){let t=Pe();$(2),Et("Award-Winning, ",t.projectElement.awardWining,"")}}var q1=/^(https:\/\/)(www\.youtube\.com\/watch\?)(v=.+)$/,Yl=class n{constructor(e){this.expandElementService=e}projectElement;expand;sendProject=new lt;miElemento;httpGroup;linkGroup;idGroup;ngOnInit(){if(this.projectElement?.url){let e=q1.exec(this.projectElement.url);e!=null&&(e[1]!=null&&(this.httpGroup=e[1]),e[2]!=null&&(this.linkGroup=e[2]),e[3]!=null&&(this.idGroup=e[3]))}}handleElement(){this.expandElementService.emitEvent({id:this.projectElement.order,isActive:!this.expand,elementRef:this.miElemento}),this.sendProject.emit({id:this.projectElement.order,isActive:!this.expand,elementRef:this.miElemento}),this.expand=!this.expand}sendToNewPage(e){e&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)(qt(Ql))};static \u0275cmp=xe({type:n,selectors:[["app-project-element"]],viewQuery:function(t,r){if(t&1&&il(F1,5),t&2){let i;ea(i=ta())&&(r.miElemento=i.first)}},inputs:{projectElement:"projectElement",expand:"expand"},outputs:{sendProject:"sendProject"},decls:32,vars:24,consts:[["scrolInto",""],["noLinks",""],[3,"click","ngClass"],[1,"indexTitle"],[1,"year"],[1,"videoLink"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"title"],[1,"informationShown"],["class","descriptionElement",4,"ngIf"],[1,"mobileYear"],["class","mobileAwardWinning",4,"ngIf"],[1,"mobileVideo"],[3,"image","images"],[1,"keywords"],[3,"ngClass"],[1,"mobileImage"],["class","links",4,"ngFor","ngForOf"],[1,"links"],[3,"link"],[1,"link"],[1,"descriptionElement"],[1,"mobileAwardWinning"]],template:function(t,r){if(t&1){let i=Ir();P(0,"a",2),Wt("click",function(){return En(i),Cn(r.handleElement())}),P(1,"div",3,0)(3,"p"),V(4),N()(),P(5,"div",4)(6,"p"),V(7),N(),P(8,"div",5),De(9,j1,6,1,"ng-container",6)(10,B1,2,1,"ng-container",7)(11,$1,2,1,"ng-template",null,1,sl),N()(),P(13,"div",8)(14,"p"),V(15),N(),P(16,"div",9),De(17,H1,2,1,"div",10),P(18,"div",11)(19,"p"),V(20),N()(),De(21,z1,3,1,"div",12),P(22,"div",13)(23,"p"),V(24),N()(),Y(25,"app-element-image",14),N()(),P(26,"div",15)(27,"p"),V(28),N()(),Y(29,"div",16),P(30,"div",17),Y(31,"app-element-image",14),N()()}if(t&2){let i=ol(12);ee("ngClass",eT(17,L1,!r.expand&&!r.projectElement.hasOverflowedText,!r.expand&&r.projectElement.hasOverflowedText,r.expand)),$(4),Et("(",r.projectElement.index,")"),$(3),je(r.projectElement.year),$(2),ee("ngIf",r.projectElement==null?null:r.projectElement.awardWining),$(),ee("ngIf",r.projectElement==null?null:r.projectElement.links)("ngIfElse",i),$(5),je(r.projectElement.title),$(2),ee("ngIf",r.projectElement==null?null:r.projectElement.description),$(3),je(r.projectElement.year),$(),ee("ngIf",r.projectElement.awardWining),$(3),je(r.projectElement.url),$(),ee("image",r.projectElement.image)("images",r.projectElement.images),$(3),je(r.projectElement.keywords),$(),ee("ngClass",XC(21,V1,!r.expand,r.expand)),$(2),ee("image",r.projectElement.image)("images",r.projectElement.images)}},dependencies:[Ze,Dg,At,Gl,Kl],styles:['[_nghost-%COMP%]{overflow-y:hidden;overflow-x:hidden}a.closeButtonIndex[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{border-top:.5mm solid rgb(207,207,207);display:grid;padding-top:5px;padding-bottom:5px;grid-template-columns:20% 20% 35% 24% 1%}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{max-width:fit-content;align-self:flex-start;margin-top:20%;margin-bottom:auto;max-width:50%;word-break:break-all;cursor:pointer}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%]{width:100%;height:auto}a.closeButtonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{padding-left:19%}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:none}a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:10px;transition:max-height .3s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{opacity:0;pointer-events:none;transition:opacity 2s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;margin:0;display:block}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:25px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible}a.closeButtonIndex[_ngcontent-%COMP%]{max-height:980px;transition:max-height .3s ease-in}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{transform:translateY(0);height:auto;opacity:1;transition:transform 1s ease,opacity 1s ease,height 1s ease}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:visible;text-overflow:none}.mobileYear[_ngcontent-%COMP%], .mobileVideo[_ngcontent-%COMP%], .mobileAwardWinning[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:">";font-size:12px;font-weight:bolder;position:relative}.icon_collapsed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon_collapsed[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:"x";font-size:12px;font-weight:bolder;position:relative}','[_nghost-%COMP%]{overflow-y:hidden;overflow-x:hidden}a.closeButtonIndex[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{border-top:.5mm solid rgb(207,207,207);display:grid;padding-top:5px;padding-bottom:5px;grid-template-columns:20% 20% 35% 24% 1%}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{max-width:fit-content;align-self:flex-start;margin-top:20%;margin-bottom:auto;max-width:50%;word-break:break-all;cursor:pointer}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-top:20px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .imageElement[_ngcontent-%COMP%]{width:100%;height:auto}a.closeButtonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{padding-left:19%}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:none}a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:10px;transition:max-height .3s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{opacity:0;pointer-events:none;transition:opacity 2s ease-out}a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;margin:0;display:block}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:25px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible}a.closeButtonIndex[_ngcontent-%COMP%]{max-height:980px;transition:max-height .3s ease-in}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{transform:translateY(0);height:auto;opacity:1;transition:transform 1s ease,opacity 1s ease,height 1s ease}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:visible;text-overflow:none}.mobileYear[_ngcontent-%COMP%], .mobileVideo[_ngcontent-%COMP%], .mobileAwardWinning[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:">";font-size:12px;font-weight:bolder;position:relative}.icon_collapsed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon_collapsed[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:"x";font-size:12px;font-weight:bolder;position:relative}@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)){a.closeButtonIndex[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{line-height:1.5;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:auto;padding-bottom:5px;width:100%}a.closeButtonIndex[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%]{grid-column:1;grid-row:1}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:250px;padding-left:10%}a.closeButtonIndex[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%]{grid-column:3;grid-row:1;width:10%}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{grid-column:1/span 3;grid-row:2}a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{display:none}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:block;max-width:60%;height:auto}a.closeButtonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:100%}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]:after{font-size:9px}.icon_collapsed[_ngcontent-%COMP%]:after{font-size:9px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-top:10px}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileYear[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileVideo[_ngcontent-%COMP%], a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileAwardWinning[_ngcontent-%COMP%]{margin-top:10px;display:block}a.closeButtonIndex[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileVideo[_ngcontent-%COMP%]{text-decoration:underline}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:23px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible;line-height:1.5}a.buttonIndex[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:7px}}',"@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){a.closeButtonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndex[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%], a.buttonIndexOverflowed[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{overflow-wrap:break-word;width:50%;margin:0;padding-top:20%}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:50px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible;line-height:1.5}}"]})};var bb=()=>{};var Sb=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},W1=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Zl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,g=(o&3)<<4|c>>4,v=(c&15)<<2|l>>6,m=l&63;u||(m=64,s||(v=64)),r.push(t[f],t[g],t[v],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Sb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):W1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||g==null)throw new mm;let v=o<<2|c>>4;if(r.push(v),l!==64){let m=c<<4&240|l>>2;if(r.push(m),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},mm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},G1=function(n){let e=Sb(n);return Zl.encodeByteArray(e,!0)},Ma=function(n){return G1(n).replace(/\./g,"")},Jl=function(n){try{return Zl.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ab(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var K1=()=>Ab().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Y1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Jl(n[1]);return e&&JSON.parse(e)},Xl=()=>{try{return bb()||K1()||Q1()||Y1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Mb=n=>{var e,t;return(t=(e=Xl())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Rb=n=>{let e=Mb(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},vm=()=>{var n;return(n=Xl())===null||n===void 0?void 0:n.config},Pb=n=>{var e;return(e=Xl())===null||e===void 0?void 0:e[`_${n}`]};var fi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function xb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ma(JSON.stringify(t)),Ma(JSON.stringify(s)),""].join(".")}function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Z1(){var n;let e=(n=Xl())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ob(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lb(){return!Z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ra(){try{return typeof indexedDB=="object"}catch{return!1}}function Vb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var J1="FirebaseError",Gt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=J1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}},ln=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?X1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Gt(i,c,r)}};function X1(n,e){return n.replace(eF,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var eF=/\{\$([^}]+)}/g;function pi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(Db(o)&&Db(s)){if(!pi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Db(n){return n!==null&&typeof n=="object"}function _m(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jb(n,e){let t=new ym(n,e);return t.subscribe.bind(t)}var ym=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=gm),i.error===void 0&&(i.error=gm),i.complete===void 0&&(i.complete=gm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gm(){}var q9=4*60*60*1e3;function jt(n){return n&&n._delegate?n._delegate:n}var Ct=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var gi="[DEFAULT]";var Im=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new fi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rF(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nF(n){return n===gi?void 0:n}function rF(n){return n.instantiationMode==="EAGER"}var ed=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Im(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var iF=[],ue=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ue||{}),oF={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},sF=ue.INFO,aF={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},cF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=aF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},An=class{constructor(e){this.name=e,this._logLevel=sF,this._logHandler=cF,this._userLogHandler=null,iF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var uF=(n,e)=>e.some(t=>n instanceof t),Ub,Bb;function lF(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dF(){return Bb||(Bb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var $b=new WeakMap,Em=new WeakMap,Hb=new WeakMap,wm=new WeakMap,Tm=new WeakMap;function hF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Mn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&$b.set(t,n)}).catch(()=>{}),Tm.set(e,n),e}function fF(n){if(Em.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Em.set(n,e)}var Cm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Em.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Hb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zb(n){Cm=n(Cm)}function pF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(td(this),e,...t);return Hb.set(r,e.sort?e.sort():[e]),Mn(r)}:dF().includes(n)?function(...e){return n.apply(td(this),e),Mn($b.get(this))}:function(...e){return Mn(n.apply(td(this),e))}}function gF(n){return typeof n=="function"?pF(n):(n instanceof IDBTransaction&&fF(n),uF(n,lF())?new Proxy(n,Cm):n)}function Mn(n){if(n instanceof IDBRequest)return hF(n);if(wm.has(n))return wm.get(n);let e=gF(n);return e!==n&&(wm.set(n,e),Tm.set(e,n)),e}var td=n=>Tm.get(n);function Wb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Mn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Mn(s.result),u.oldVersion,u.newVersion,Mn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var mF=["get","getKey","getAll","getAllKeys","count"],yF=["put","add","delete","clear"],bm=new Map;function qb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=yF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mF.includes(t)))return;let o=function(s,...c){return D(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return bm.set(e,o),o}zb(n=>Ae(j({},n),{get:(e,t,r)=>qb(e,t)||n.get(e,t,r),has:(e,t)=>!!qb(e,t)||n.has(e,t)}));var Sm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function vF(n){let e=n.getComponent();return e?.type==="VERSION"}var Am="@firebase/app",Gb="0.11.4";var Yn=new An("@firebase/app"),_F="@firebase/app-compat",IF="@firebase/analytics-compat",wF="@firebase/analytics",EF="@firebase/app-check-compat",CF="@firebase/app-check",TF="@firebase/auth",bF="@firebase/auth-compat",DF="@firebase/database",SF="@firebase/data-connect",AF="@firebase/database-compat",MF="@firebase/functions",RF="@firebase/functions-compat",PF="@firebase/installations",xF="@firebase/installations-compat",NF="@firebase/messaging",OF="@firebase/messaging-compat",kF="@firebase/performance",FF="@firebase/performance-compat",LF="@firebase/remote-config",VF="@firebase/remote-config-compat",jF="@firebase/storage",UF="@firebase/storage-compat",BF="@firebase/firestore",$F="@firebase/vertexai",HF="@firebase/firestore-compat",zF="firebase",qF="11.6.0";var Mm="[DEFAULT]",WF={[Am]:"fire-core",[_F]:"fire-core-compat",[wF]:"fire-analytics",[IF]:"fire-analytics-compat",[CF]:"fire-app-check",[EF]:"fire-app-check-compat",[TF]:"fire-auth",[bF]:"fire-auth-compat",[DF]:"fire-rtdb",[SF]:"fire-data-connect",[AF]:"fire-rtdb-compat",[MF]:"fire-fn",[RF]:"fire-fn-compat",[PF]:"fire-iid",[xF]:"fire-iid-compat",[NF]:"fire-fcm",[OF]:"fire-fcm-compat",[kF]:"fire-perf",[FF]:"fire-perf-compat",[LF]:"fire-rc",[VF]:"fire-rc-compat",[jF]:"fire-gcs",[UF]:"fire-gcs-compat",[BF]:"fire-fst",[HF]:"fire-fst-compat",[$F]:"fire-vertex","fire-js":"fire-js",[zF]:"fire-js-all"};var Pa=new Map,GF=new Map,Rm=new Map;function Kb(n,e){try{n.container.addComponent(e)}catch(t){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dn(n){let e=n.name;if(Rm.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,n);for(let t of Pa.values())Kb(t,n);for(let t of GF.values())Kb(t,n);return!0}function nd(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zn(n){return n==null?!1:n.settings!==void 0}var KF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new ln("app","Firebase",KF);var Pm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var xo=qF;function Om(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Mm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(t||(t=vm()),!t)throw Dr.create("no-options");let o=Pa.get(i);if(o){if(pi(t,o.options)&&pi(r,o.config))return o;throw Dr.create("duplicate-app",{appName:i})}let s=new ed(i);for(let u of Rm.values())s.addComponent(u);let c=new Pm(t,r,s);return Pa.set(i,c),c}function No(n=Mm){let e=Pa.get(n);if(!e&&n===Mm&&vm())return Om();if(!e)throw Dr.create("no-app",{appName:n});return e}function rd(){return Array.from(Pa.values())}function $e(n,e,t){var r;let i=(r=WF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(c.join(" "));return}dn(new Ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var QF="firebase-heartbeat-database",YF=1,xa="firebase-heartbeat-store",Dm=null;function Jb(){return Dm||(Dm=Wb(QF,YF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xa)}catch(t){console.warn(t)}}}}).catch(n=>{throw Dr.create("idb-open",{originalErrorMessage:n.message})})),Dm}function ZF(n){return D(this,null,function*(){try{let t=(yield Jb()).transaction(xa),r=yield t.objectStore(xa).get(Xb(n));return yield t.done,r}catch(e){if(e instanceof Gt)Yn.warn(e.message);else{let t=Dr.create("idb-get",{originalErrorMessage:e?.message});Yn.warn(t.message)}}})}function Qb(n,e){return D(this,null,function*(){try{let r=(yield Jb()).transaction(xa,"readwrite");yield r.objectStore(xa).put(e,Xb(n)),yield r.done}catch(t){if(t instanceof Gt)Yn.warn(t.message);else{let r=Dr.create("idb-set",{originalErrorMessage:t?.message});Yn.warn(r.message)}}})}function Xb(n){return`${n.name}!${n.options.appId}`}var JF=1024,XF=30,xm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Nm(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Yb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>XF){let s=tL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yn.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Yb(),{heartbeatsToSend:r,unsentEntries:i}=eL(this._heartbeatsCache.heartbeats),o=Ma(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Yn.warn(t),""}})}};function Yb(){return new Date().toISOString().substring(0,10)}function eL(n,e=JF){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Zb(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Zb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Nm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Ra()?Vb().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ZF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Qb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Qb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Zb(n){return Ma(JSON.stringify({version:2,heartbeats:n})).length}function tL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function nL(n){dn(new Ct("platform-logger",e=>new Sm(e),"PRIVATE")),dn(new Ct("heartbeat",e=>new xm(e),"PRIVATE")),$e(Am,Gb,n),$e(Am,Gb,"esm2017"),$e("fire-js","")}nL("");var rL="firebase",iL="11.6.0";$e(rL,iL,"app");function km(n){n===void 0&&(Op(km),n=M(ot));let e=n.get(qu);return t=>new ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var yi=new ho("ANGULARFIRE2_VERSION");function od(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ko=(n,e)=>{let t=e?[e]:rd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Oo=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Oo||{}),eD=Ig()&&typeof Zone<"u"?Oo.WARN:Oo.SILENT;var id=class{zone;delegate;constructor(e,t=Df){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},vi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(Ee);this.outsideAngular=t.runOutsideAngular(()=>new id(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new id(typeof Zone>"u"?void 0:Zone.current,bf))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tD=!1;function oL(n,e){!tD&&(eD>Oo.SILENT||Ig())&&(tD=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),eD>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function sL(n){let e=M(Ee,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function mi(n){let e=M(Ee,{optional:!0});return e?e.run(()=>n()):n()}var aL=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ft(t,()=>mi(()=>n.apply(void 0,r)))),Kt=(n,e,t)=>(t||=e?Oo.WARN:Oo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=M(vi),s=M(qu),c=M(dt)}catch{return oL(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=mi(()=>s.add())),i[l]=aL(i[l],r,c));let u=sL(()=>n.apply(this,i));return e?u instanceof ie?u.pipe(hr(o.outsideAngular),dr(o.insideAngular),km(c)):u instanceof Promise?mi(()=>new Promise((l,f)=>{s.run(()=>u).then(g=>ft(c,()=>mi(()=>l(g))),g=>ft(c,()=>mi(()=>f(g))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:mi(()=>u):u instanceof ie?u.pipe(hr(o.outsideAngular),dr(o.insideAngular)):mi(()=>u)});var _i=class{constructor(e){return e}},Na=class{constructor(){return rd()}};function cL(n){return n&&n.length===1?n[0]:new _i(No())}var Fm=new z("angularfire2._apps"),uL={provide:_i,useFactory:cL,deps:[[new Hn,Fm]]},lL={provide:Na,deps:[[new Hn,Fm]]};function dL(n){return(e,t)=>{let r=t.get(vr);$e("angularfire",yi.full,"core"),$e("angularfire",yi.full,"app"),$e("angular",nT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new _i(i)}}function nD(n,...e){return Xr([uL,lL,{provide:Fm,useFactory:dL(n),multi:!0,deps:[Ee,ot,vi,...e]}])}var rD=Kt(Om,!0);var hL=new Map,fL={activated:!1,tokenObservers:[]},pL={initialized:!1,enabled:!1};function hn(n){return hL.get(n)||Object.assign({},fL)}function aD(){return pL}var gL="https://content-firebaseappcheck.googleapis.com/v1";var mL="exchangeDebugToken",iD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},J6=24*60*60*1e3;var jm=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return D(this,null,function*(){this.stop();try{this.pending=new fi,this.pending.promise.catch(t=>{}),yield yL(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new fi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function yL(n){return new Promise(e=>{setTimeout(e,n)})}var vL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Sr=new ln("appCheck","AppCheck",vL);function cD(n){if(!hn(n).activated)throw Sr.create("use-before-activation",{appName:n.name})}function uD(r,i){return D(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(m){throw Sr.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw Sr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw Sr.create("fetch-parse-error",{originalErrorMessage:m?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Sr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let g=Number(f[1])*1e3,v=Date.now();return{token:l.token,expireTimeMillis:v+g,issuedAtTimeMillis:v}})}function lD(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${gL}/projects/${t}/apps/${r}:${mL}?key=${i}`,body:{debug_token:e}}}var _L="firebase-app-check-database",IL=1,Um="firebase-app-check-store";var sd=null;function wL(){return sd||(sd=new Promise((n,e)=>{try{let t=indexedDB.open(_L,IL);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Sr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Um,{keyPath:"compositeKey"})}}}catch(t){e(Sr.create("storage-open",{originalErrorMessage:t?.message}))}}),sd)}function EL(n,e){return CL(TL(n),e)}function CL(n,e){return D(this,null,function*(){let r=(yield wL()).transaction(Um,"readwrite"),o=r.objectStore(Um).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Sr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function TL(n){return`${n.options.appId}-${n.name}`}var Oa=new An("@firebase/app-check");function Lm(n,e){return Ra()?EL(n,e).catch(t=>{Oa.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dD(){return aD().enabled}function hD(){return D(this,null,function*(){let n=aD();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var bL={error:"UNKNOWN_ERROR"};function DL(n){return Zl.encodeString(JSON.stringify(n),!1)}function Bm(n,e=!1,t=!1){return D(this,null,function*(){let r=n.app;cD(r);let i=hn(r),o=i.token,s;if(o&&!ka(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ka(l)?o=l:yield Lm(r,void 0))}if(!e&&o&&ka(o))return{token:o.token};let c=!1;if(dD())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=uD(lD(r,yield hD()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield Lm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Oa.warn(l.message):t&&Oa.error(l),Vm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield hn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Oa.warn(l.message):t&&Oa.error(l),s=l}let u;return o?s?ka(o)?u={token:o.token,internalError:s}:u=Vm(s):(u={token:o.token},i.token=o,yield Lm(r,o)):u=Vm(s),c&&RL(r,u),u})}function SL(n){return D(this,null,function*(){let e=n.app;cD(e);let{provider:t}=hn(e);if(dD()){let r=yield hD(),{token:i}=yield uD(lD(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function AL(n,e,t,r){let{app:i}=n,o=hn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ka(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),oD(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>oD(n))}function fD(n,e){let t=hn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function oD(n){let{app:e}=n,t=hn(e),r=t.tokenRefresher;r||(r=ML(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ML(n){let{app:e}=n;return new jm(()=>D(this,null,function*(){let t=hn(e),r;if(t.token?r=yield Bm(n,!0):r=yield Bm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=hn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},iD.RETRIAL_MIN_WAIT,iD.RETRIAL_MAX_WAIT)}function RL(n,e){let t=hn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ka(n){return n.expireTimeMillis-Date.now()>0}function Vm(n){return{token:DL(bL),error:n}}var $m=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=hn(this.app);for(let t of e)fD(this.app,t.next);return Promise.resolve()}};function PL(n,e){return new $m(n,e)}function xL(n){return{getToken:e=>Bm(n,e),getLimitedUseToken:()=>SL(n),addTokenListener:e=>AL(n,"INTERNAL",e),removeTokenListener:e=>fD(n.app,e)}}var NL="@firebase/app-check",OL="0.8.13";var kL="app-check",sD="app-check-internal";function FL(){dn(new Ct(kL,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return PL(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sD).initialize()})),dn(new Ct(sD,n=>{let e=n.getProvider("app-check").getImmediate();return xL(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$e(NL,OL)}FL();var LL="app-check";var ad=class{constructor(){return ko(LL)}};var VL=["localhost","0.0.0.0","127.0.0.1"],d5=typeof window<"u"&&VL.includes(window.location.hostname);function wD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ED=wD,CD=new ln("auth","Firebase",wD());var dd=new An("@firebase/auth");function UL(n,...e){dd.logLevel<=ue.WARN&&dd.warn(`Auth (${xo}): ${n}`,...e)}function ud(n,...e){dd.logLevel<=ue.ERROR&&dd.error(`Auth (${xo}): ${n}`,...e)}function pD(n,...e){throw ey(n,...e)}function Xm(n,...e){return ey(n,...e)}function TD(n,e,t){let r=Object.assign(Object.assign({},ED()),{[e]:t});return new ln("auth","Firebase",r).create(e,{appName:n.name})}function ld(n){return TD(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ey(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return CD.create(n,...e)}function _e(n,e,...t){if(!n)throw ey(e,...t)}function Fa(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ud(e),new Error(e)}function hd(n,e){n||Fa(e)}function BL(){return gD()==="http:"||gD()==="https:"}function gD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function $L(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BL()||kb()||"connection"in navigator)?navigator.onLine:!0}function HL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ei=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,hd(t>e,"Short delay should be less than long delay!"),this.isMobile=Nb()||Fb()}get(){return $L()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zL(n,e){hd(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var fd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var qL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var WL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GL=new Ei(3e4,6e4);function bD(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function vd(o,s,c,u){return D(this,arguments,function*(n,e,t,r,i={}){return DD(n,i,()=>D(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=_m(Object.assign({key:n.config.apiKey},f)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:v},l);return Ob()||(m.referrerPolicy="no-referrer"),fd.fetch()(yield SD(n,n.config.apiHost,t,g),m)}))})}function DD(n,e,t){return D(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},qL),e);try{let i=new qm(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw cd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw cd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw cd(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw TD(n,f,l);pD(n,f)}}catch(i){if(i instanceof Gt)throw i;pD(n,"network-request-failed",{message:String(i)})}})}function SD(n,e,t,r){return D(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?zL(n.config,i):`${n.config.apiScheme}://${i}`;return WL.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var qm=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xm(this.auth,"network-request-failed")),GL.get())})}};function cd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Xm(n,e,r);return i.customData._tokenResponse=t,i}function KL(n,e){return D(this,null,function*(){return vd(n,"POST","/v1/accounts:delete",e)})}function pd(n,e){return D(this,null,function*(){return vd(n,"POST","/v1/accounts:lookup",e)})}function La(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ty(n,e=!1){return D(this,null,function*(){let t=jt(n),r=yield t.getIdToken(e),i=AD(r);_e(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:La(Hm(i.auth_time)),issuedAtTime:La(Hm(i.iat)),expirationTime:La(Hm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Hm(n){return Number(n)*1e3}function AD(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jl(t);return i?JSON.parse(i):(ud("Failed to decode base64 JWT payload"),null)}catch(i){return ud("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mD(n){let e=AD(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wm(n,e,t=!1){return D(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gt&&QL(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function QL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Gm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),t)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ja=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=La(this.lastLoginAt),this.creationTime=La(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gd(n){return D(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Wm(n,pd(t,{idToken:r}));_e(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?MD(o.providerUserInfo):[],c=YL(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ja(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,g)})}function ny(n){return D(this,null,function*(){let e=jt(n);yield gd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function YL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MD(n){return n.map(e=>{var{providerId:t}=e,r=Sf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ZL(n,e){return D(this,null,function*(){let t=yield DD(n,{},()=>D(this,null,function*(){let r=_m({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield SD(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",fd.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function JL(n,e){return D(this,null,function*(){return vd(n,"POST","/v2/accounts:revokeToken",bD(n,e))})}var Va=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let t=mD(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return D(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield ZL(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Fa("not implemented")}};function Ar(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ii=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Sf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ja(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let t=yield Wm(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return ty(this,e)}reload(){return ny(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield gd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(Zn(this.auth.app))return Promise.reject(ld(this.auth));let e=yield this.getIdToken();return yield Wm(this,KL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,O=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,q=(l=t.createdAt)!==null&&l!==void 0?l:void 0,me=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:se,emailVerified:Ne,isAnonymous:_t,providerData:Ie,stsTokenManager:E}=t;_e(se&&E,e,"internal-error");let y=Va.fromJSON(this.name,E);_e(typeof se=="string",e,"internal-error"),Ar(g,e.name),Ar(v,e.name),_e(typeof Ne=="boolean",e,"internal-error"),_e(typeof _t=="boolean",e,"internal-error"),Ar(m,e.name),Ar(A,e.name),Ar(x,e.name),Ar(O,e.name),Ar(q,e.name),Ar(me,e.name);let I=new n({uid:se,auth:e,email:v,emailVerified:Ne,displayName:g,isAnonymous:_t,photoURL:A,phoneNumber:m,tenantId:x,stsTokenManager:y,createdAt:q,lastLoginAt:me});return Ie&&Array.isArray(Ie)&&(I.providerData=Ie.map(w=>Object.assign({},w))),O&&(I._redirectEventId=O),I}static _fromIdTokenResponse(e,t,r=!1){return D(this,null,function*(){let i=new Va;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return D(this,null,function*(){let i=t.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?MD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Va;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ja(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var yD=new Map;function wi(n){hd(n instanceof Function,"Expected a class definition");let e=yD.get(n);return e?(hd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yD.set(n,e),e)}var XL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(t,r){return D(this,null,function*(){this.storage[t]=r})}_get(t){return D(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return D(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Km=XL;function zm(n,e,t){return`firebase:${n}:${e}:${t}`}var md=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=zm(this.userKey,i.apiKey,o),this.fullPersistenceKey=zm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield pd(this.auth,{idToken:e}).catch(()=>{});return t?Ii._fromGetAccountInfoResponse(this.auth,t,e):null}return Ii._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(this,null,function*(){if(!t.length)return new n(wi(Km),e,r);let i=(yield Promise.all(t.map(l=>D(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||wi(Km),s=zm(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(s);if(f){let g;if(typeof f=="string"){let v=yield pd(e,{idToken:f}).catch(()=>{});if(!v)break;g=yield Ii._fromGetAccountInfoResponse(e,v,f)}else g=Ii._fromJSON(e,f);l!==o&&(c=g),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>D(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function vD(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oV(e))return"Blackberry";if(sV(e))return"Webos";if(tV(e))return"Safari";if((e.includes("chrome/")||nV(e))&&!e.includes("edge/"))return"Chrome";if(iV(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function eV(n=Vt()){return/firefox\//i.test(n)}function tV(n=Vt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nV(n=Vt()){return/crios\//i.test(n)}function rV(n=Vt()){return/iemobile/i.test(n)}function iV(n=Vt()){return/android/i.test(n)}function oV(n=Vt()){return/blackberry/i.test(n)}function sV(n=Vt()){return/webos/i.test(n)}function RD(n,e=[]){let t;switch(n){case"Browser":t=vD(Vt());break;case"Worker":t=`${vD(Vt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xo}/${r}`}var Qm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function aV(t){return D(this,arguments,function*(n,e={}){return vd(n,"GET","/v2/passwordPolicy",bD(n,e))})}var cV=6,Ym=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:cV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Zm=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yd(this),this.idTokenSubscription=new yd(this),this.beforeStateQueue=new Qm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield md.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let t=yield pd(this,{idToken:e}),r=yield Ii._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var t;if(Zn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield gd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=HL()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(Zn(this.app))return Promise.reject(ld(this));let t=e?jt(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return D(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return Zn(this.app)?Promise.reject(ld(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zn(this.app)?Promise.reject(ld(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(wi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield aV(this),t=new Ym(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ln("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield JL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&wi(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=yield md.create(this,[wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return D(this,null,function*(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&UL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function uV(n){return jt(n)}var yd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=jb(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var lV={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dV(n){lV=n}function hV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function fV(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(wi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var C5=hV("rcb"),T5=new Ei(3e4,6e4);var b5=new Ei(2e3,1e4);var D5=10*60*1e3;var S5=new Ei(3e4,6e4);var A5=new Ei(5e3,15e3);var M5=encodeURIComponent("fac");var _D="@firebase/auth",ID="1.10.0";var Jm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gV(n){dn(new Ct("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RD(n)},l=new Zm(r,i,o,u);return fV(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dn(new Ct("auth-internal",e=>{let t=uV(e.getProvider("auth").getImmediate());return(r=>new Jm(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(_D,ID,pV(n)),$e(_D,ID,"esm2017")}var mV=5*60,R5=Pb("authIdTokenMaxAge")||mV;function yV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dV({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Xm("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",yV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gV("Browser");var g2="auth";var _d=class{constructor(){return ko(g2)}};var PD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xD={};var Jn,ry;(function(){var n;function e(E,y){function I(){}I.prototype=y.prototype,E.D=y.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(w,C,b){for(var _=Array(arguments.length-2),Nn=2;Nn<arguments.length;Nn++)_[Nn-2]=arguments[Nn];return y.prototype[C].apply(w,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,I){I||(I=0);var w=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)w[C]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(C=0;16>C;++C)w[C]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=E.g[0],I=E.g[1],C=E.g[2];var b=E.g[3],_=y+(b^I&(C^b))+w[0]+3614090360&4294967295;y=I+(_<<7&4294967295|_>>>25),_=b+(C^y&(I^C))+w[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(I^b&(y^I))+w[2]+606105819&4294967295,C=b+(_<<17&4294967295|_>>>15),_=I+(y^C&(b^y))+w[3]+3250441966&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(b^I&(C^b))+w[4]+4118548399&4294967295,y=I+(_<<7&4294967295|_>>>25),_=b+(C^y&(I^C))+w[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(I^b&(y^I))+w[6]+2821735955&4294967295,C=b+(_<<17&4294967295|_>>>15),_=I+(y^C&(b^y))+w[7]+4249261313&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(b^I&(C^b))+w[8]+1770035416&4294967295,y=I+(_<<7&4294967295|_>>>25),_=b+(C^y&(I^C))+w[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(I^b&(y^I))+w[10]+4294925233&4294967295,C=b+(_<<17&4294967295|_>>>15),_=I+(y^C&(b^y))+w[11]+2304563134&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(b^I&(C^b))+w[12]+1804603682&4294967295,y=I+(_<<7&4294967295|_>>>25),_=b+(C^y&(I^C))+w[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(I^b&(y^I))+w[14]+2792965006&4294967295,C=b+(_<<17&4294967295|_>>>15),_=I+(y^C&(b^y))+w[15]+1236535329&4294967295,I=C+(_<<22&4294967295|_>>>10),_=y+(C^b&(I^C))+w[1]+4129170786&4294967295,y=I+(_<<5&4294967295|_>>>27),_=b+(I^C&(y^I))+w[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(b^y))+w[11]+643717713&4294967295,C=b+(_<<14&4294967295|_>>>18),_=I+(b^y&(C^b))+w[0]+3921069994&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(C^b&(I^C))+w[5]+3593408605&4294967295,y=I+(_<<5&4294967295|_>>>27),_=b+(I^C&(y^I))+w[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(b^y))+w[15]+3634488961&4294967295,C=b+(_<<14&4294967295|_>>>18),_=I+(b^y&(C^b))+w[4]+3889429448&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(C^b&(I^C))+w[9]+568446438&4294967295,y=I+(_<<5&4294967295|_>>>27),_=b+(I^C&(y^I))+w[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(b^y))+w[3]+4107603335&4294967295,C=b+(_<<14&4294967295|_>>>18),_=I+(b^y&(C^b))+w[8]+1163531501&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(C^b&(I^C))+w[13]+2850285829&4294967295,y=I+(_<<5&4294967295|_>>>27),_=b+(I^C&(y^I))+w[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^I&(b^y))+w[7]+1735328473&4294967295,C=b+(_<<14&4294967295|_>>>18),_=I+(b^y&(C^b))+w[12]+2368359562&4294967295,I=C+(_<<20&4294967295|_>>>12),_=y+(I^C^b)+w[5]+4294588738&4294967295,y=I+(_<<4&4294967295|_>>>28),_=b+(y^I^C)+w[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^I)+w[11]+1839030562&4294967295,C=b+(_<<16&4294967295|_>>>16),_=I+(C^b^y)+w[14]+4259657740&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(I^C^b)+w[1]+2763975236&4294967295,y=I+(_<<4&4294967295|_>>>28),_=b+(y^I^C)+w[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^I)+w[7]+4139469664&4294967295,C=b+(_<<16&4294967295|_>>>16),_=I+(C^b^y)+w[10]+3200236656&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(I^C^b)+w[13]+681279174&4294967295,y=I+(_<<4&4294967295|_>>>28),_=b+(y^I^C)+w[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^I)+w[3]+3572445317&4294967295,C=b+(_<<16&4294967295|_>>>16),_=I+(C^b^y)+w[6]+76029189&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(I^C^b)+w[9]+3654602809&4294967295,y=I+(_<<4&4294967295|_>>>28),_=b+(y^I^C)+w[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^I)+w[15]+530742520&4294967295,C=b+(_<<16&4294967295|_>>>16),_=I+(C^b^y)+w[2]+3299628645&4294967295,I=C+(_<<23&4294967295|_>>>9),_=y+(C^(I|~b))+w[0]+4096336452&4294967295,y=I+(_<<6&4294967295|_>>>26),_=b+(I^(y|~C))+w[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~I))+w[14]+2878612391&4294967295,C=b+(_<<15&4294967295|_>>>17),_=I+(b^(C|~y))+w[5]+4237533241&4294967295,I=C+(_<<21&4294967295|_>>>11),_=y+(C^(I|~b))+w[12]+1700485571&4294967295,y=I+(_<<6&4294967295|_>>>26),_=b+(I^(y|~C))+w[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~I))+w[10]+4293915773&4294967295,C=b+(_<<15&4294967295|_>>>17),_=I+(b^(C|~y))+w[1]+2240044497&4294967295,I=C+(_<<21&4294967295|_>>>11),_=y+(C^(I|~b))+w[8]+1873313359&4294967295,y=I+(_<<6&4294967295|_>>>26),_=b+(I^(y|~C))+w[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~I))+w[6]+2734768916&4294967295,C=b+(_<<15&4294967295|_>>>17),_=I+(b^(C|~y))+w[13]+1309151649&4294967295,I=C+(_<<21&4294967295|_>>>11),_=y+(C^(I|~b))+w[4]+4149444226&4294967295,y=I+(_<<6&4294967295|_>>>26),_=b+(I^(y|~C))+w[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~I))+w[2]+718787259&4294967295,C=b+(_<<15&4294967295|_>>>17),_=I+(b^(C|~y))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var I=y-this.blockSize,w=this.B,C=this.h,b=0;b<y;){if(C==0)for(;b<=I;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(w[C++]=E.charCodeAt(b++),C==this.blockSize){i(this,w),C=0;break}}else for(;b<y;)if(w[C++]=E[b++],C==this.blockSize){i(this,w),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var I=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=I&255,I/=256;for(this.u(E),E=Array(16),y=I=0;4>y;++y)for(var w=0;32>w;w+=8)E[I++]=this.g[y]>>>w&255;return E};function o(E,y){var I=c;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=y(E)}function s(E,y){this.h=y;for(var I=[],w=!0,C=E.length-1;0<=C;C--){var b=E[C]|0;w&&b==y||(I[C]=b,w=!1)}this.g=I}var c={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return O(l(-E));for(var y=[],I=1,w=0;E>=I;w++)y[w]=E/I|0,I*=4294967296;return new s(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return O(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(y,8)),w=g,C=0;C<E.length;C+=8){var b=Math.min(8,E.length-C),_=parseInt(E.substring(C,C+b),y);8>b?(b=l(Math.pow(y,b)),w=w.j(b).add(l(_))):(w=w.j(I),w=w.add(l(_)))}return w}var g=u(0),v=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(x(this))return-O(this).m();for(var E=0,y=1,I=0;I<this.g.length;I++){var w=this.i(I);E+=(0<=w?w:4294967296+w)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(x(this))return"-"+O(this).toString(E);for(var y=l(Math.pow(E,6)),I=this,w="";;){var C=Ne(I,y).g;I=q(I,C.j(y));var b=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=C,A(I))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function x(E){return E.h==-1}n.l=function(E){return E=q(this,E),x(E)?-1:A(E)?0:1};function O(E){for(var y=E.g.length,I=[],w=0;w<y;w++)I[w]=~E.g[w];return new s(I,~E.h).add(v)}n.abs=function(){return x(this)?O(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0,C=0;C<=y;C++){var b=w+(this.i(C)&65535)+(E.i(C)&65535),_=(b>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);w=_>>>16,b&=65535,_&=65535,I[C]=_<<16|b}return new s(I,I[I.length-1]&-2147483648?-1:0)};function q(E,y){return E.add(O(y))}n.j=function(E){if(A(this)||A(E))return g;if(x(this))return x(E)?O(this).j(O(E)):O(O(this).j(E));if(x(E))return O(this.j(O(E)));if(0>this.l(m)&&0>E.l(m))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,I=[],w=0;w<2*y;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var C=0;C<E.g.length;C++){var b=this.i(w)>>>16,_=this.i(w)&65535,Nn=E.i(C)>>>16,hs=E.i(C)&65535;I[2*w+2*C]+=_*hs,me(I,2*w+2*C),I[2*w+2*C+1]+=b*hs,me(I,2*w+2*C+1),I[2*w+2*C+1]+=_*Nn,me(I,2*w+2*C+1),I[2*w+2*C+2]+=b*Nn,me(I,2*w+2*C+2)}for(w=0;w<y;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=y;w<2*y;w++)I[w]=0;return new s(I,0)};function me(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function se(E,y){this.g=E,this.h=y}function Ne(E,y){if(A(y))throw Error("division by zero");if(A(E))return new se(g,g);if(x(E))return y=Ne(O(E),y),new se(O(y.g),O(y.h));if(x(y))return y=Ne(E,O(y)),new se(O(y.g),y.h);if(30<E.g.length){if(x(E)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var I=v,w=y;0>=w.l(E);)I=_t(I),w=_t(w);var C=Ie(I,1),b=Ie(w,1);for(w=Ie(w,2),I=Ie(I,2);!A(w);){var _=b.add(w);0>=_.l(E)&&(C=C.add(I),b=_),w=Ie(w,1),I=Ie(I,1)}return y=q(E,C.j(y)),new se(C,y)}for(C=g;0<=E.l(y);){for(I=Math.max(1,Math.floor(E.m()/y.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(I),_=b.j(y);x(_)||0<_.l(E);)I-=w,b=l(I),_=b.j(y);A(b)&&(b=v),C=C.add(b),E=q(E,_)}return new se(C,E)}n.A=function(E){return Ne(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0;w<y;w++)I[w]=this.i(w)&E.i(w);return new s(I,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0;w<y;w++)I[w]=this.i(w)|E.i(w);return new s(I,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),I=[],w=0;w<y;w++)I[w]=this.i(w)^E.i(w);return new s(I,this.h^E.h)};function _t(E){for(var y=E.g.length+1,I=[],w=0;w<y;w++)I[w]=E.i(w)<<1|E.i(w-1)>>>31;return new s(I,E.h)}function Ie(E,y){var I=y>>5;y%=32;for(var w=E.g.length-I,C=[],b=0;b<w;b++)C[b]=0<y?E.i(b+I)>>>y|E.i(b+I+1)<<32-y:E.i(b+I);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ry=xD.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Jn=xD.Integer=s}).apply(typeof PD<"u"?PD:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xn={};var iy,m2,Fo,oy,Ua,wd,sy,ay,cy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var T=a[p];if(!(T in h))break e;h=h[T]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,p=!1,T={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,p),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function v(a,d,h){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function m(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,T,S){for(var F=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)F[Se-2]=arguments[Se];return d.prototype[T].apply(p,F)}}function x(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function O(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let T=a.length||0,S=p.length||0;a.length=T+S;for(let F=0;F<S;F++)a[T+F]=p[F]}else a.push(p)}}class q{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function me(a){return/^[\s\xa0]*$/.test(a)}function se(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Ne(a){return Ne[" "](a),a}Ne[" "]=function(){};var _t=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ie(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,p;for(let T=1;T<arguments.length;T++){p=arguments[T];for(h in p)a[h]=p[h];for(let S=0;S<I.length;S++)h=I[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=xh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Nn{constructor(){this.h=this.g=null}add(d,h){let p=hs.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var hs=new q(()=>new aA,a=>a.reset());class aA{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let fs,ps=!1,xh=new Nn,I_=()=>{let a=c.Promise.resolve(void 0);fs=()=>{a.then(cA)}};var cA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=hs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ps=!1};function sr(){this.s=this.s,this.C=this.C}sr.prototype.s=!1,sr.prototype.ma=function(){this.s||(this.s=!0,this.N())},sr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var uA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function gs(a,d){if(st.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(_t){e:{try{Ne(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:lA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&gs.aa.h.call(this)}}A(gs,st);var lA={2:"touch",3:"pen",4:"mouse"};gs.prototype.h=function(){gs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ms="closure_listenable_"+(1e6*Math.random()|0),dA=0;function hA(a,d,h,p,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=T,this.key=++dA,this.da=this.fa=!1}function dc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function hc(a){this.src=a,this.g={},this.h=0}hc.prototype.add=function(a,d,h,p,T){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var F=Oh(a,d,p,T);return-1<F?(d=a[F],h||(d.fa=!1)):(d=new hA(d,this.src,S,!!p,T),d.fa=h,a.push(d)),d};function Nh(a,d){var h=d.type;if(h in a.g){var p=a.g[h],T=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(p,T,1),S&&(dc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Oh(a,d,h,p){for(var T=0;T<a.length;++T){var S=a[T];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return T}return-1}var kh="closure_lm_"+(1e6*Math.random()|0),Fh={};function w_(a,d,h,p,T){if(p&&p.once)return C_(a,d,h,p,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)w_(a,d[S],h,p,T);return null}return h=Uh(h),a&&a[ms]?a.K(d,h,l(p)?!!p.capture:!!p,T):E_(a,d,h,!1,p,T)}function E_(a,d,h,p,T,S){if(!d)throw Error("Invalid event type");var F=l(T)?!!T.capture:!!T,Se=Vh(a);if(Se||(a[kh]=Se=new hc(a)),h=Se.add(d,h,p,F,S),h.proxy)return h;if(p=fA(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)uA||(T=F),T===void 0&&(T=!1),a.addEventListener(d.toString(),p,T);else if(a.attachEvent)a.attachEvent(b_(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function fA(){function a(h){return d.call(a.src,a.listener,h)}let d=pA;return a}function C_(a,d,h,p,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)C_(a,d[S],h,p,T);return null}return h=Uh(h),a&&a[ms]?a.L(d,h,l(p)?!!p.capture:!!p,T):E_(a,d,h,!0,p,T)}function T_(a,d,h,p,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)T_(a,d[S],h,p,T);else p=l(p)?!!p.capture:!!p,h=Uh(h),a&&a[ms]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Oh(S,h,p,T),-1<h&&(dc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Vh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Oh(d,h,p,T)),(h=-1<a?d[a]:null)&&Lh(h))}function Lh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ms])Nh(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(b_(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Vh(d))?(Nh(h,a),h.h==0&&(h.src=null,d[kh]=null)):dc(a)}}}function b_(a){return a in Fh?Fh[a]:Fh[a]="on"+a}function pA(a,d){if(a.da)a=!0;else{d=new gs(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&Lh(a),a=h.call(p,d)}return a}function Vh(a){return a=a[kh],a instanceof hc?a:null}var jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uh(a){return typeof a=="function"?a:(a[jh]||(a[jh]=function(d){return a.handleEvent(d)}),a[jh])}function at(){sr.call(this),this.i=new hc(this),this.M=this,this.F=null}A(at,sr),at.prototype[ms]=!0,at.prototype.removeEventListener=function(a,d,h,p){T_(this,a,d,h,p)};function It(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new st(d,a);else if(d instanceof st)d.target=d.target||a;else{var T=d;d=new st(p,a),w(d,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var F=d.g=h[S];T=fc(F,p,!0,d)&&T}if(F=d.g=a,T=fc(F,p,!0,d)&&T,T=fc(F,p,!1,d)&&T,h)for(S=0;S<h.length;S++)F=d.g=h[S],T=fc(F,p,!1,d)&&T}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)dc(h[p]);delete a.g[d],a.h--}}this.F=null},at.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},at.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function fc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var F=d[S];if(F&&!F.da&&F.capture==h){var Se=F.listener,nt=F.ha||F.src;F.fa&&Nh(a.i,F),T=Se.call(nt,p)!==!1&&T}}return T&&!p.defaultPrevented}function D_(a,d,h){if(typeof a=="function")h&&(a=v(a,h));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function S_(a){a.g=D_(()=>{a.g=null,a.i&&(a.i=!1,S_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class gA extends sr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:S_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(a){sr.call(this),this.h=a,this.g={}}A(ys,sr);var A_=[];function M_(a){Ie(a.g,function(d,h){this.g.hasOwnProperty(h)&&Lh(d)},a),a.g={}}ys.prototype.N=function(){ys.aa.N.call(this),M_(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bh=c.JSON.stringify,mA=c.JSON.parse,yA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function $h(){}$h.prototype.h=null;function R_(a){return a.h||(a.h=a.i())}function P_(){}var vs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hh(){st.call(this,"d")}A(Hh,st);function zh(){st.call(this,"c")}A(zh,st);var Or={},x_=null;function pc(){return x_=x_||new at}Or.La="serverreachability";function N_(a){st.call(this,Or.La,a)}A(N_,st);function _s(a){let d=pc();It(d,new N_(d))}Or.STAT_EVENT="statevent";function O_(a,d){st.call(this,Or.STAT_EVENT,a),this.stat=d}A(O_,st);function wt(a){let d=pc();It(d,new O_(d,a))}Or.Ma="timingevent";function k_(a,d){st.call(this,Or.Ma,a),this.size=d}A(k_,st);function Is(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function vA(a,d,h,p,T,S){a.info(function(){if(a.g)if(S)for(var F="",Se=S.split("&"),nt=0;nt<Se.length;nt++){var ye=Se[nt].split("=");if(1<ye.length){var ct=ye[0];ye=ye[1];var ut=ct.split("_");F=2<=ut.length&&ut[1]=="type"?F+(ct+"="+ye+"&"):F+(ct+"=redacted&")}}else F=null;else F=S;return"XMLHTTP REQ ("+p+") [attempt "+T+"]: "+d+`
`+h+`
`+F})}function _A(a,d,h,p,T,S,F){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+T+"]: "+d+`
`+h+`
`+S+" "+F})}function xi(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+wA(a,h)+(p?" "+p:"")})}function IA(a,d){a.info(function(){return"TIMEOUT: "+d})}ws.prototype.info=function(){};function wA(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var T=p[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var F=1;F<T.length;F++)T[F]=""}}}}return Bh(h)}catch{return d}}var gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qh;function mc(){}A(mc,$h),mc.prototype.g=function(){return new XMLHttpRequest},mc.prototype.i=function(){return{}},qh=new mc;function ar(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new L_}function L_(){this.i=null,this.g="",this.h=!1}var V_={},Wh={};function Gh(a,d,h){a.L=1,a.v=Ic(On(d)),a.m=h,a.P=!0,j_(a,null)}function j_(a,d){a.F=Date.now(),yc(a),a.A=On(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),X_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new L_,a.g=yI(a.j,h?d:null,!a.m),0<a.O&&(a.M=new gA(v(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(A_[0]=T.toString()),T=A_);for(var S=0;S<T.length;S++){var F=w_(h,T[S],p||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),_s(),vA(a.i,a.u,a.A,a.l,a.R,a.m)}ar.prototype.ca=function(a){a=a.target;let d=this.M;d&&kn(a)==3?d.j():this.Y(a)},ar.prototype.Y=function(a){try{if(a==this.g)e:{let ut=kn(this.g);var d=this.g.Ba();let ki=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||sI(this.g)))){this.J||ut!=4||d==7||(d==8||0>=ki?_s(3):_s(2)),Kh(this);var h=this.g.Z();this.X=h;t:if(U_(this)){var p=sI(this.g);a="";var T=p.length,S=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),Es(this);var F="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==T-1)});p.length=0,this.h.g+=a,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=h==200,_A(this.i,this.u,this.A,this.l,this.R,ut,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,nt=this.g;if((Se=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!me(Se)){var ye=Se;break t}}ye=null}if(h=ye)xi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qh(this,h);else{this.o=!1,this.s=3,wt(12),kr(this),Es(this);break e}}if(this.P){h=!0;let Jt;for(;!this.J&&this.C<F.length;)if(Jt=EA(this,F),Jt==Wh){ut==4&&(this.s=4,wt(14),h=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==V_){this.s=4,wt(15),xi(this.i,this.l,F,"[Invalid Chunk]"),h=!1;break}else xi(this.i,this.l,Jt,null),Qh(this,Jt);if(U_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||F.length!=0||this.h.h||(this.s=1,wt(16),h=!1),this.o=this.o&&h,!h)xi(this.i,this.l,F,"[Invalid Chunked Response]"),kr(this),Es(this);else if(0<F.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),tf(ct),ct.M=!0,wt(11))}}else xi(this.i,this.l,F,null),Qh(this,F);ut==4&&kr(this),this.o&&!this.J&&(ut==4?fI(this.j,this):(this.o=!1,yc(this)))}else jA(this.g),h==400&&0<F.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),kr(this),Es(this)}}}catch{}finally{}};function U_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function EA(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?Wh:(h=Number(d.substring(h,p)),isNaN(h)?V_:(p+=1,p+h>d.length?Wh:(d=d.slice(p,p+h),a.C=p+h,d)))}ar.prototype.cancel=function(){this.J=!0,kr(this)};function yc(a){a.S=Date.now()+a.I,B_(a,a.I)}function B_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Is(v(a.ba,a),d)}function Kh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ar.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(IA(this.i,this.A),this.L!=2&&(_s(),wt(17)),kr(this),this.s=2,Es(this)):B_(this,this.S-a)};function Es(a){a.j.G==0||a.J||fI(a.j,a)}function kr(a){Kh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,M_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Qh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Yh(h.h,a))){if(!a.K&&Yh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var T=p;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)bc(h),Cc(h);else break e;ef(h),wt(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Is(v(h.Za,h),6e3));if(1>=z_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Lr(h,11)}else if((a.K||h.g==a)&&bc(h),!me(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let ye=T[d];if(h.T=ye[0],ye=ye[1],h.G==2)if(ye[0]=="c"){h.K=ye[1],h.ia=ye[2];let ct=ye[3];ct!=null&&(h.la=ct,h.j.info("VER="+h.la));let ut=ye[4];ut!=null&&(h.Aa=ut,h.j.info("SVER="+h.Aa));let ki=ye[5];ki!=null&&typeof ki=="number"&&0<ki&&(p=1.5*ki,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Jt=a.g;if(Jt){let Sc=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var S=p.h;S.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Zh(S,S.h),S.h=null))}if(p.D){let nf=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;nf&&(p.ya=nf,Oe(p.I,p.D,nf))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var F=a;if(p.qa=mI(p,p.J?p.ia:null,p.W),F.K){q_(p.h,F);var Se=F,nt=p.L;nt&&(Se.I=nt),Se.B&&(Kh(Se),yc(Se)),p.g=F}else dI(p);0<h.i.length&&Tc(h)}else ye[0]!="stop"&&ye[0]!="close"||Lr(h,7);else h.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Lr(h,7):Xh(h):ye[0]!="noop"&&h.l&&h.l.ta(ye),h.v=0)}}_s(4)}catch{}}var CA=class{constructor(a,d){this.g=a,this.map=d}};function $_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function H_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function z_(a){return a.h?1:a.g?a.g.size:0}function Yh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Zh(a,d){a.g?a.g.add(d):a.h=d}function q_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}$_.prototype.cancel=function(){if(this.i=W_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function W_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return x(a.i)}function TA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function bA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function G_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=bA(a),p=TA(a),T=p.length,S=0;S<T;S++)d.call(void 0,p[S],h&&h[S],a)}var K_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DA(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),T=null;if(0<=p){var S=a[h].substring(0,p);T=a[h].substring(p+1)}else S=a[h];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Fr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Fr){this.h=a.h,vc(this,a.j),this.o=a.o,this.g=a.g,_c(this,a.s),this.l=a.l;var d=a.i,h=new bs;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Q_(this,h),this.m=a.m}else a&&(d=String(a).match(K_))?(this.h=!1,vc(this,d[1]||"",!0),this.o=Cs(d[2]||""),this.g=Cs(d[3]||"",!0),_c(this,d[4]),this.l=Cs(d[5]||"",!0),Q_(this,d[6]||"",!0),this.m=Cs(d[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}Fr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ts(d,Y_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ts(d,Y_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ts(h,h.charAt(0)=="/"?MA:AA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ts(h,PA)),a.join("")};function On(a){return new Fr(a)}function vc(a,d,h){a.j=h?Cs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function _c(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Q_(a,d,h){d instanceof bs?(a.i=d,xA(a.i,a.h)):(h||(d=Ts(d,RA)),a.i=new bs(d,a.h))}function Oe(a,d,h){a.i.set(d,h)}function Ic(a){return Oe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Cs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ts(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,SA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function SA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Y_=/[#\/\?@]/g,AA=/[#\?:]/g,MA=/[#\?]/g,RA=/[#\?@]/g,PA=/#/g;function bs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function cr(a){a.g||(a.g=new Map,a.h=0,a.i&&DA(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=bs.prototype,n.add=function(a,d){cr(this),this.i=null,a=Ni(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Z_(a,d){cr(a),d=Ni(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function J_(a,d){return cr(a),d=Ni(a,d),a.g.has(d)}n.forEach=function(a,d){cr(this),this.g.forEach(function(h,p){h.forEach(function(T){a.call(d,T,p,this)},this)},this)},n.na=function(){cr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let T=a[p];for(let S=0;S<T.length;S++)h.push(d[p])}return h},n.V=function(a){cr(this);let d=[];if(typeof a=="string")J_(this,a)&&(d=d.concat(this.g.get(Ni(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return cr(this),this.i=null,a=Ni(this,a),J_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function X_(a,d,h){Z_(a,d),0<h.length&&(a.i=null,a.g.set(Ni(a,d),x(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),F=this.V(p);for(p=0;p<F.length;p++){var T=S;F[p]!==""&&(T+="="+encodeURIComponent(String(F[p]))),a.push(T)}}return this.i=a.join("&")};function Ni(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function xA(a,d){d&&!a.j&&(cr(a),a.i=null,a.g.forEach(function(h,p){var T=p.toLowerCase();p!=T&&(Z_(this,p),X_(this,T,h))},a)),a.j=d}function NA(a,d){let h=new ws;if(c.Image){let p=new Image;p.onload=m(ur,h,"TestLoadImage: loaded",!0,d,p),p.onerror=m(ur,h,"TestLoadImage: error",!1,d,p),p.onabort=m(ur,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=m(ur,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function OA(a,d){let h=new ws,p=new AbortController,T=setTimeout(()=>{p.abort(),ur(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(T),S.ok?ur(h,"TestPingServer: ok",!0,d):ur(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),ur(h,"TestPingServer: error",!1,d)})}function ur(a,d,h,p,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),p(h)}catch{}}function kA(){this.g=new yA}function FA(a,d,h){let p=h||"";try{G_(a,function(T,S){let F=T;l(T)&&(F=Bh(T)),d.push(p+S+"="+encodeURIComponent(F))})}catch(T){throw d.push(p+"type="+encodeURIComponent("_badmap")),T}}function Ds(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ds,$h),Ds.prototype.g=function(){return new wc(this.l,this.j)},Ds.prototype.i=function(a){return function(){return a}}({});function wc(a,d){at.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(wc,at),n=wc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,As(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function eI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ss(this):As(this),this.readyState==3&&eI(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Ss(this))},n.Qa=function(a){this.g&&(this.response=a,Ss(this))},n.ga=function(){this.g&&Ss(this)};function Ss(a){a.readyState=4,a.l=null,a.j=null,a.v=null,As(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function As(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function tI(a){let d="";return Ie(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function Jh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=tI(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Oe(a,d,h))}function Ve(a){at.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ve,at);var LA=/^https?$/i,VA=["POST","PUT"];n=Ve.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qh.g(),this.v=this.o?R_(this.o):R_(qh),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){nI(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var T in p)h.set(T,p[T]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(VA,d,void 0))||p||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,F]of h)this.g.setRequestHeader(S,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oI(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){nI(this,S)}};function nI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,rI(a),Ec(a)}function rI(a){a.A||(a.A=!0,It(a,"complete"),It(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,It(this,"complete"),It(this,"abort"),Ec(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ec(this,!0)),Ve.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?iI(this):this.bb())},n.bb=function(){iI(this)};function iI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||kn(a)!=4||a.Z()!=2)){if(a.u&&kn(a)==4)D_(a.Ea,0,a);else if(It(a,"readystatechange"),kn(a)==4){a.h=!1;try{let F=a.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=F===0){var T=String(a.D).match(K_)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),p=!LA.test(T?T.toLowerCase():"")}h=p}if(h)It(a,"complete"),It(a,"success");else{a.m=6;try{var S=2<kn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",rI(a)}}finally{Ec(a)}}}}function Ec(a,d){if(a.g){oI(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||It(a,"ready");try{h.onreadystatechange=p}catch{}}}function oI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function kn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),mA(d)}};function sI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function jA(a){let d={};a=(a.g&&2<=kn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(me(a[p]))continue;var h=C(a[p]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[T]||[];d[T]=S,S.push(h)}E(d,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function aI(a){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,a),this.cb=Ms("retryDelaySeedMs",1e4,a),this.Wa=Ms("forwardChannelMaxRetries",2,a),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new $_(a&&a.concurrentRequestLimit),this.Da=new kA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=aI.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,p){wt(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=mI(this,null,this.W),Tc(this)};function Xh(a){if(cI(a),a.G==3){var d=a.U++,h=On(a.I);if(Oe(h,"SID",a.K),Oe(h,"RID",d),Oe(h,"TYPE","terminate"),Rs(a,h),d=new ar(a,a.j,d),d.L=2,d.v=Ic(On(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=yI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),yc(d)}gI(a)}function Cc(a){a.g&&(tf(a),a.g.cancel(),a.g=null)}function cI(a){Cc(a),a.u&&(c.clearTimeout(a.u),a.u=null),bc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Tc(a){if(!H_(a.h)&&!a.s){a.s=!0;var d=a.Ga;fs||I_(),ps||(fs(),ps=!0),xh.add(d,a),a.B=0}}function UA(a,d){return z_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Is(v(a.Ga,a,d),pI(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new ar(this,this.j,a),S=this.o;if(this.S&&(S?(S=y(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=lI(this,T,d),h=On(this.I),Oe(h,"RID",a),Oe(h,"CVER",22),this.D&&Oe(h,"X-HTTP-Session-Id",this.D),Rs(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(tI(S)))+"&"+d:this.m&&Jh(h,this.m,S)),Zh(this.h,T),this.Ua&&Oe(h,"TYPE","init"),this.P?(Oe(h,"$req",d),Oe(h,"SID","null"),T.T=!0,Gh(T,h,null)):Gh(T,h,d),this.G=2}}else this.G==3&&(a?uI(this,a):this.i.length==0||H_(this.h)||uI(this))};function uI(a,d){var h;d?h=d.l:h=a.U++;let p=On(a.I);Oe(p,"SID",a.K),Oe(p,"RID",h),Oe(p,"AID",a.T),Rs(a,p),a.m&&a.o&&Jh(p,a.m,a.o),h=new ar(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=lI(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Zh(a.h,h),Gh(h,p,d)}function Rs(a,d){a.H&&Ie(a.H,function(h,p){Oe(d,p,h)}),a.l&&G_({},function(h,p){Oe(d,p,h)})}function lI(a,d,h){h=Math.min(a.i.length,h);var p=a.l?v(a.l.Na,a.l,a):null;e:{var T=a.i;let S=-1;for(;;){let F=["count="+h];S==-1?0<h?(S=T[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let Se=!0;for(let nt=0;nt<h;nt++){let ye=T[nt].g,ct=T[nt].map;if(ye-=S,0>ye)S=Math.max(0,T[nt].g-100),Se=!1;else try{FA(ct,F,"req"+ye+"_")}catch{p&&p(ct)}}if(Se){p=F.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function dI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;fs||I_(),ps||(fs(),ps=!0),xh.add(d,a),a.v=0}}function ef(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Is(v(a.Fa,a),pI(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,hI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Is(v(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Cc(this),hI(this))};function tf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function hI(a){a.g=new ar(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=On(a.qa);Oe(d,"RID","rpc"),Oe(d,"SID",a.K),Oe(d,"AID",a.T),Oe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Oe(d,"TO",a.ja),Oe(d,"TYPE","xmlhttp"),Rs(a,d),a.m&&a.o&&Jh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ic(On(d)),h.m=null,h.P=!0,j_(h,a)}n.Za=function(){this.C!=null&&(this.C=null,Cc(this),ef(this),wt(19))};function bc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function fI(a,d){var h=null;if(a.g==d){bc(a),tf(a),a.g=null;var p=2}else if(Yh(a.h,d))h=d.D,q_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;p=pc(),It(p,new k_(p,h)),Tc(a)}else dI(a);else if(T=d.s,T==3||T==0&&0<d.X||!(p==1&&UA(a,d)||p==2&&ef(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),T){case 1:Lr(a,5);break;case 4:Lr(a,10);break;case 3:Lr(a,6);break;default:Lr(a,2)}}}function pI(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Lr(a,d){if(a.j.info("Error code "+d),d==2){var h=v(a.fb,a),p=a.Xa;let T=!p;p=new Fr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vc(p,"https"),Ic(p),T?NA(p.toString(),h):OA(p.toString(),h)}else wt(2);a.G=0,a.l&&a.l.sa(d),gI(a),cI(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function gI(a){if(a.G=0,a.ka=[],a.l){let d=W_(a.h);(d.length!=0||a.i.length!=0)&&(O(a.ka,d),O(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function mI(a,d,h){var p=h instanceof Fr?On(h):new Fr(h);if(p.g!="")d&&(p.g=d+"."+p.g),_c(p,p.s);else{var T=c.location;p=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new Fr(null);p&&vc(S,p),d&&(S.g=d),T&&_c(S,T),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&Oe(p,h,d),Oe(p,"VER",a.la),Rs(a,p),p}function yI(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ve(new Ds({eb:h})):new Ve(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vI(){}n=vI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Dc(){}Dc.prototype.g=function(a,d){return new xt(a,d)};function xt(a,d){at.call(this),this.g=new aI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!me(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!me(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Oi(this)}A(xt,at),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){Xh(this.g)},xt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Bh(a),a=h);d.i.push(new CA(d.Ya++,a)),d.G==3&&Tc(d)},xt.prototype.N=function(){this.g.l=null,delete this.j,Xh(this.g),delete this.g,xt.aa.N.call(this)};function _I(a){Hh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(_I,Hh);function II(){zh.call(this),this.status=1}A(II,zh);function Oi(a){this.g=a}A(Oi,vI),Oi.prototype.ua=function(){It(this.g,"a")},Oi.prototype.ta=function(a){It(this.g,new _I(a))},Oi.prototype.sa=function(a){It(this.g,new II)},Oi.prototype.ra=function(){It(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,cy=Xn.createWebChannelTransport=function(){return new Dc},ay=Xn.getStatEventTarget=function(){return pc()},sy=Xn.Event=Or,wd=Xn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gc.NO_ERROR=0,gc.TIMEOUT=8,gc.HTTP_ERROR=6,Ua=Xn.ErrorCode=gc,F_.COMPLETE="complete",oy=Xn.EventType=F_,P_.EventType=vs,vs.OPEN="a",vs.CLOSE="b",vs.ERROR="c",vs.MESSAGE="d",at.prototype.listen=at.prototype.K,Fo=Xn.WebChannel=P_,m2=Xn.FetchXmlHttpFactory=Ds,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,iy=Xn.XhrIo=Ve}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});var ND="@firebase/firestore",OD="4.7.10";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var ss="11.5.0";var Si=new An("@firebase/firestore");function Lo(){return Si.logLevel}function U(n,...e){if(Si.logLevel<=ue.DEBUG){let t=e.map(Yv);Si.debug(`Firestore (${ss}): ${n}`,...t)}}function nr(n,...e){if(Si.logLevel<=ue.ERROR){let t=e.map(Yv);Si.error(`Firestore (${ss}): ${n}`,...t)}}function Wo(n,...e){if(Si.logLevel<=ue.WARN){let t=e.map(Yv);Si.warn(`Firestore (${ss}): ${n}`,...t)}}function Yv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function J(n="Unexpected state"){let e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+n;throw nr(e),new Error(e)}function Le(n,e){n||J()}function fe(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Sd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},py=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(et.UNAUTHENTICATED))}shutdown(){}},gy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},my=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new Sd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new et(e)}},yy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},vy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new yy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ad=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_y=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ad(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string"),this.R=t.token,new Ad(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function y2(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function D0(){return new TextEncoder}var Md=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=y2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function oe(n,e){return n<e?-1:n>e?1:0}function Iy(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return oe(r,i);{let o=D0(),s=v2(o.encode(kD(n,t)),o.encode(kD(e,t)));return s!==0?s:oe(r,i)}}t+=r>65535?2:1}return oe(n.length,e.length)}function kD(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function v2(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return oe(n[t],e[t]);return oe(n.length,e.length)}function Go(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var FD=-62135596800,LD=1e6,yt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*LD);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<FD)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LD}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-FD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new yt(0,0))}static max(){return new n(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var VD="__name__",Rd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&J(),r===void 0?r=e.length-t:r>e.length-t&&J(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return oe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Iy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jn.fromString(e.substring(4,e.length-2))}},Fe=class n extends Rd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},_2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class n extends Rd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return _2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VD}static keyField(){return new n([VD])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var W=class n{constructor(e){this.path=e}static fromPath(e){return new n(Fe.fromString(e))}static fromName(e){return new n(Fe.fromString(e).popFirst(5))}static empty(){return new n(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Fe(e.slice()))}};var Ga=-1,wy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};wy.UNKNOWN_ID=-1;function I2(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new Ai(i,W.empty(),e)}function w2(n){return new Ai(n.readTime,n.key,Ga)}var Ai=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ne.min(),W.empty(),Ga)}static max(){return new n(ne.max(),W.empty(),Ga)}};function E2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=W.comparator(n.documentKey,e.documentKey),t!==0?t:oe(n.largestBatchId,e.largestBatchId))}var C2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ey=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function sh(n){return D(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==C2)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var R=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function T2(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function as(n){return n.name==="IndexedDbTransactionError"}var Zv=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),b2=-1;function ah(n){return n==null}function Ka(n){return n===0&&1/n==-1/0}function D2(n){return typeof n=="number"&&Number.isInteger(n)&&!Ka(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var S0="";function S2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jD(e)),e=A2(n.get(t),e);return jD(e)}function A2(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case S0:t+="";break;default:t+=o}}return t}function jD(n){return n+S0+""}var M2="remoteDocuments",A0="owner";var M0="mutationQueues";var R0="mutations";var P0="documentMutations",R2="remoteDocumentsV14";var x0="remoteDocumentGlobal";var N0="targets";var O0="targetDocuments";var k0="targetGlobal",F0="collectionParents";var L0="clientMetadata";var V0="bundles";var j0="namedQueries";var P2="indexConfiguration";var x2="indexState";var N2="indexEntries";var U0="documentOverlays";var O2="globals";var k2=[M0,R0,P0,M2,N0,A0,k0,O0,L0,x0,F0,V0,j0],N8=[...k2,U0],F2=[M0,R0,P0,R2,N0,A0,k0,O0,L0,x0,F0,V0,j0,U0],L2=F2,V2=[...L2,P2,x2,N2];var O8=[...V2,O2];function UD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function B0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var He=class n{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bo(this.root,e,this.comparator,!0)}},Bo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();let e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class n{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pd(this.data.getIterator())}getIteratorFrom(e){return new Pd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Pd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ci=class n{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new n([])}unionWith(e){let t=new tt(Yt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var xd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xd("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(n){if(Le(!!n),typeof n=="string"){let e=0,t=j2.exec(n);if(Le(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ir(n){return typeof n=="string"?vt.fromBase64String(n):vt.fromUint8Array(n)}var $0="server_timestamp",H0="__type__",z0="__previous_value__",q0="__local_write_time__";function Jv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[H0])===null||t===void 0?void 0:t.stringValue)===$0}function ch(n){let e=n.mapValue.fields[z0];return Jv(e)?ch(e):e}function Qa(n){let e=rr(n.mapValue.fields[q0].timestampValue);return new yt(e.seconds,e.nanos)}var Cy=class{constructor(e,t,r,i,o,s,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Nd="(default)",Od=class n{constructor(e,t){this.projectId=e,this.database=t||Nd}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Nd}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Xv="__type__",W0="__max__",Ed={mapValue:{fields:{__type__:{stringValue:W0}}}},e_="__vector__",Ko="value";function Rr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jv(n)?4:K0(n)?9007199254740991:G0(n)?10:11:J()}function xn(n,e){if(n===e)return!0;let t=Rr(n);if(t!==Rr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qa(n).isEqual(Qa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=rr(i.timestampValue),c=rr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ir(i.bytesValue).isEqual(ir(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),c=ke(o.doubleValue);return s===c?Ka(s)===Ka(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Go(n.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(UD(s)!==UD(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!xn(s[u],c[u])))return!1;return!0}(n,e);default:return J()}}function Ya(n,e){return(n.values||[]).find(t=>xn(t,e))!==void 0}function Qo(n,e){if(n===e)return 0;let t=Rr(n),r=Rr(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return BD(n.timestampValue,e.timestampValue);case 4:return BD(Qa(n),Qa(e));case 5:return Iy(n.stringValue,e.stringValue);case 6:return function(o,s){let c=ir(o),u=ir(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=oe(c[l],u[l]);if(f!==0)return f}return oe(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=oe(ke(o.latitude),ke(s.latitude));return c!==0?c:oe(ke(o.longitude),ke(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $D(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let g=o.fields||{},v=s.fields||{},m=(c=g[Ko])===null||c===void 0?void 0:c.arrayValue,A=(u=v[Ko])===null||u===void 0?void 0:u.arrayValue,x=oe(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:$D(m,A)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ed.mapValue&&s===Ed.mapValue)return 0;if(o===Ed.mapValue)return 1;if(s===Ed.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let v=Iy(u[g],f[g]);if(v!==0)return v;let m=Qo(c[u[g]],l[f[g]]);if(m!==0)return m}return oe(u.length,f.length)}(n.mapValue,e.mapValue);default:throw J()}}function BD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return oe(n,e);let t=rr(n),r=rr(e),i=oe(t.seconds,r.seconds);return i!==0?i:oe(t.nanos,r.nanos)}function $D(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Qo(t[i],r[i]);if(o)return o}return oe(t.length,r.length)}function Yo(n){return Ty(n)}function Ty(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=rr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ir(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return W.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Ty(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ty(t.fields[s])}`;return i+"}"}(n.mapValue):J()}function bd(n){switch(Rr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ch(n);return e?16+bd(e):16;case 5:return 2*n.stringValue.length;case 6:return ir(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+bd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return cs(r.fields,(o,s)=>{i+=o.length+bd(s)}),i}(n.mapValue);default:throw J()}}function HD(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function by(n){return!!n&&"integerValue"in n}function t_(n){return!!n&&"arrayValue"in n}function zD(n){return!!n&&"nullValue"in n}function qD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uy(n){return!!n&&"mapValue"in n}function G0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xv])===null||t===void 0?void 0:t.stringValue)===e_}function $a(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return cs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$a(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$a(n.arrayValue.values[t]);return e}return Object.assign({},n)}function K0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===W0}var F8={mapValue:{fields:{[Xv]:{stringValue:e_},[Ko]:{arrayValue:{}}}}};var er=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=$a(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());uy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];uy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n($a(this.value))}};var fn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ne.min(),ne.min(),ne.min(),er.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ne.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ne.min(),ne.min(),er.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ne.min(),ne.min(),er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Zo=class{constructor(e,t){this.position=e,this.inclusive=t}};function WD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),t.key):r=Qo(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function GD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xn(n.position[t],e.position[t]))return!1;return!0}var Mi=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function U2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var kd=class{},Qe=class n extends kd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Sy(e,t,r):t==="array-contains"?new Ry(e,r):t==="in"?new Py(e,r):t==="not-in"?new xy(e,r):t==="array-contains-any"?new Ny(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Ay(e,r):new My(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qo(t,this.value)):t!==null&&Rr(this.value)===Rr(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pn=class n extends kd{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return Q0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function Q0(n){return n.op==="and"}function Y0(n){return B2(n)&&Q0(n)}function B2(n){for(let e of n.filters)if(e instanceof pn)return!1;return!0}function Dy(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(Y0(n))return n.filters.map(e=>Dy(e)).join(",");{let e=n.filters.map(t=>Dy(t)).join(",");return`${n.op}(${e})`}}function Z0(n,e){return n instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&xn(r.value,i.value)}(n,e):n instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&Z0(s,i.filters[c]),!0):!1}(n,e):void J()}function J0(n){return n instanceof Qe?function(t){return`${t.field.canonicalString()} ${t.op} ${Yo(t.value)}`}(n):n instanceof pn?function(t){return t.op.toString()+" {"+t.getFilters().map(J0).join(" ,")+"}"}(n):"Filter"}var Sy=class extends Qe{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},Ay=class extends Qe{constructor(e,t){super(e,"in",t),this.keys=X0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},My=class extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=X0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function X0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}var Ry=class extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return t_(t)&&Ya(t.arrayValue,this.value)}},Py=class extends Qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ya(this.value.arrayValue,t)}},xy=class extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ya(this.value.arrayValue,t)}},Ny=class extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!t_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ya(this.value.arrayValue,r))}};var Oy=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.le=null}};function KD(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Oy(n,e,t,r,i,o,s)}function n_(n){let e=fe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yo(r)).join(",")),e.le=t}return e.le}function r_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!U2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Z0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GD(n.startAt,e.startAt)&&GD(n.endAt,e.endAt)}function ky(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Pr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function $2(n,e,t,r,i,o,s,c){return new Pr(n,e,t,r,i,o,s,c)}function uh(n){return new Pr(n)}function QD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eS(n){return n.collectionGroup!==null}function Ha(n){let e=fe(n);if(e.he===null){e.he=[];let t=new Set;for(let o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new tt(Yt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Mi(o,r))}),t.has(Yt.keyField().canonicalString())||e.he.push(new Mi(Yt.keyField(),r))}return e.he}function Pn(n){let e=fe(n);return e.Pe||(e.Pe=H2(e,Ha(n))),e.Pe}function H2(n,e){if(n.limitType==="F")return KD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Mi(i.field,o)});let t=n.endAt?new Zo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zo(n.startAt.position,n.startAt.inclusive):null;return KD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Fy(n,e){let t=n.filters.concat([e]);return new Pr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ly(n,e,t){return new Pr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lh(n,e){return r_(Pn(n),Pn(e))&&n.limitType===e.limitType}function tS(n){return`${n_(Pn(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>J0(i)).join(", ")}]`),ah(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Yo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Yo(i)).join(",")),`Target(${r})`}(Pn(n))}; limitType=${n.limitType})`}function dh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Ha(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=WD(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Ha(r),i)||r.endAt&&!function(s,c,u){let l=WD(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Ha(r),i))}(n,e)}function z2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nS(n){return(e,t)=>{let r=!1;for(let i of Ha(n)){let o=q2(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function q2(n,e,t){let r=n.field.isKeyField()?W.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Qo(u,l):J()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}var or=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return B0(this.inner)}size(){return this.innerSize}};var W2=new He(W.comparator);function xr(){return W2}var rS=new He(W.comparator);function Ba(...n){let e=rS;for(let t of n)e=e.insert(t.key,t);return e}function G2(n){let e=rS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ti(){return za()}function iS(){return za()}function za(){return new or(n=>n.toString(),(n,e)=>n.isEqual(e))}var L8=new He(W.comparator),K2=new tt(W.comparator);function ge(...n){let e=K2;for(let t of n)e=e.add(t);return e}var Q2=new tt(oe);function Y2(){return Q2}function i_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ka(e)?"-0":e}}function oS(n){return{integerValue:""+n}}function Z2(n,e){return D2(e)?oS(e):i_(n,e)}var Jo=class{constructor(){this._=void 0}};function J2(n,e,t){return n instanceof Za?function(i,o){let s={fields:{[H0]:{stringValue:$0},[q0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Jv(o)&&(o=ch(o)),o&&(s.fields[z0]=o),{mapValue:s}}(t,e):n instanceof Xo?sS(n,e):n instanceof es?aS(n,e):function(i,o){let s=ej(i,o),c=YD(s)+YD(i.Ie);return by(s)&&by(i.Ie)?oS(c):i_(i.serializer,c)}(n,e)}function X2(n,e,t){return n instanceof Xo?sS(n,e):n instanceof es?aS(n,e):t}function ej(n,e){return n instanceof Ja?function(r){return by(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Za=class extends Jo{},Xo=class extends Jo{constructor(e){super(),this.elements=e}};function sS(n,e){let t=cS(e);for(let r of n.elements)t.some(i=>xn(i,r))||t.push(r);return{arrayValue:{values:t}}}var es=class extends Jo{constructor(e){super(),this.elements=e}};function aS(n,e){let t=cS(e);for(let r of n.elements)t=t.filter(i=>!xn(i,r));return{arrayValue:{values:t}}}var Ja=class extends Jo{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function YD(n){return ke(n.integerValue||n.doubleValue)}function cS(n){return t_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Xo&&i instanceof Xo||r instanceof es&&i instanceof es?Go(r.elements,i.elements,xn):r instanceof Ja&&i instanceof Ja?xn(r.Ie,i.Ie):r instanceof Za&&i instanceof Za}(n.transform,e.transform)}var qa=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Dd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Xa=class{};function uS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vy(n.key,qa.none()):new ec(n.key,n.data,qa.none());{let t=n.data,r=er.empty(),i=new tt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ts(n.key,r,new Ci(i.toArray()),qa.none())}}function nj(n,e,t){n instanceof ec?function(i,o,s){let c=i.value.clone(),u=JD(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ts?function(i,o,s){if(!Dd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=JD(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(lS(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Wa(n,e,t,r){return n instanceof ec?function(o,s,c,u){if(!Dd(o.precondition,s))return c;let l=o.value.clone(),f=XD(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ts?function(o,s,c,u){if(!Dd(o.precondition,s))return c;let l=XD(o.fieldTransforms,u,s),f=s.data;return f.setAll(lS(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,c){return Dd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function ZD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Go(r,i,(o,s)=>tj(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ec=class extends Xa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ts=class extends Xa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function lS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function JD(n,e,t){let r=new Map;Le(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,X2(s,c,t[i]))}return r}function XD(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,J2(o,s,e))}return r}var Vy=class extends Xa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var jy=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&nj(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wa(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Wa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=iS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=uS(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(t,r)=>ZD(t,r))&&Go(this.baseMutations,e.baseMutations,(t,r)=>ZD(t,r))}};var Uy=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var By=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ge,he;function dS(n){if(n===void 0)return nr("GRPC error has no .code"),k.UNKNOWN;switch(n){case Ge.OK:return k.OK;case Ge.CANCELLED:return k.CANCELLED;case Ge.UNKNOWN:return k.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return k.INTERNAL;case Ge.UNAVAILABLE:return k.UNAVAILABLE;case Ge.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ge.NOT_FOUND:return k.NOT_FOUND;case Ge.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ge.ABORTED:return k.ABORTED;case Ge.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ge.DATA_LOSS:return k.DATA_LOSS;default:return J()}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var e0=null;var rj=new Jn([4294967295,4294967295],0);function t0(n){let e=D0().encode(n),t=new ry;return t.update(e),new Uint8Array(t.digest())}function n0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jn([t,r],0),new Jn([i,o],0)]}var $y=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bi(`Invalid padding: ${t}`);if(r<0)throw new bi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bi(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Jn.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Jn.fromNumber(r)));return i.compare(rj)===1&&(i=new Jn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=t0(e),[r,i]=n0(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ee===0)return;let t=t0(e),[r,i]=n0(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},bi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Fd=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ne.min(),i,new He(oe),xr(),ge())}},tc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var $o=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},Ld=class{constructor(e,t){this.targetId=e,this.ge=t}},Vd=class{constructor(e,t,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},jd=class{constructor(){this.pe=0,this.ye=r0(),this.we=vt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ge(),t=ge(),r=ge();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:J()}}),new tc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=r0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Le(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},Hy=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xr(),this.$e=Cd(),this.Ue=Cd(),this.Ke=new He(oe)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:J()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let o=i.target;if(ky(o))if(r===0){let s=new W(o.path);this.ze(t,s,fn.newNoDocument(s,ne.min()))}else Le(r===1);else{let s=this.et(t);if(s!==r){let c=this.tt(e),u=c?this.nt(c,e,s):1;if(u!==0){this.Ye(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}e0?.rt(function(f,g,v,m,A){var x,O,q,me,se,Ne;let _t={localCacheCount:f,existenceFilterCount:g.count,databaseId:v.database,projectId:v.projectId},Ie=g.unchangedNames;return Ie&&(_t.bloomFilter={applied:A===0,hashCount:(x=Ie?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(me=(q=(O=Ie?.bits)===null||O===void 0?void 0:O.bitmap)===null||q===void 0?void 0:q.length)!==null&&me!==void 0?me:0,padding:(Ne=(se=Ie?.bits)===null||se===void 0?void 0:se.padding)!==null&&Ne!==void 0?Ne:0,mightContain:E=>{var y;return(y=m?.mightContain(E))!==null&&y!==void 0&&y}}),_t}(s,e.ge,this.ke.it(),c,u))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=ir(r).toUint8Array()}catch(u){if(u instanceof xd)return Wo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new $y(s,i,o)}catch(u){return Wo(u instanceof bi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ke.it(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((o,s)=>{let c=this.Xe(s);if(c){if(o.current&&ky(c.target)){let u=new W(c.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,fn.newNoDocument(u,e))}o.ve&&(t.set(s,o.Fe()),o.Me())}});let r=ge();this.Ue.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));let i=new Fd(e,t,this.Ke,this.Qe,r);return this.Qe=xr(),this.$e=Cd(),this.Ue=Cd(),this.Ke=new He(oe),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new jd,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new tt(oe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new tt(oe),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new jd),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function Cd(){return new He(W.comparator)}function r0(){return new He(W.comparator)}var ij={asc:"ASCENDING",desc:"DESCENDING"},oj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sj={and:"AND",or:"OR"},zy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function qy(n,e){return n.useProto3Json||ah(e)?e:{value:e}}function Wy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ho(n){return Le(!!n),ne.fromTimestamp(function(t){let r=rr(t);return new yt(r.seconds,r.nanos)}(n))}function fS(n,e){return Gy(n,e).canonicalString()}function Gy(n,e){let t=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pS(n){let e=Fe.fromString(n);return Le(_S(e)),e}function ly(n,e){let t=pS(e);if(t.get(1)!==n.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(mS(t))}function gS(n,e){return fS(n.databaseId,e)}function aj(n){let e=pS(n);return e.length===4?Fe.emptyPath():mS(e)}function i0(n){return new Fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mS(n){return Le(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function cj(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Le(f===void 0||typeof f=="string"),vt.fromBase64String(f||"")):(Le(f===void 0||f instanceof Buffer||f instanceof Uint8Array),vt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?k.UNKNOWN:dS(l.code);return new B(f,l.message||"")}(s);t=new Vd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ly(n,r.document.name),o=Ho(r.document.updateTime),s=r.document.createTime?Ho(r.document.createTime):ne.min(),c=new er({mapValue:{fields:r.document.fields}}),u=fn.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new $o(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ly(n,r.document),o=r.readTime?Ho(r.readTime):ne.min(),s=fn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new $o([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ly(n,r.document),o=r.removedTargetIds||[];t=new $o([],o,i,null)}else{if(!("filter"in e))return J();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new By(i,o),c=r.targetId;t=new Ld(c,s)}}return t}function uj(n,e){return{documents:[gS(n,e.path)]}}function lj(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=gS(n,i);let o=function(l){if(l.length!==0)return vS(pn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(v){return{field:jo(v.field),direction:fj(v.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=qy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:t,parent:i}}function dj(n){let e=aj(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(g){let v=yS(g);return v instanceof pn&&Y0(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(v=>function(A){return new Mi(Uo(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,ah(v)?null:v}(t.limit));let u=null;t.startAt&&(u=function(g){let v=!!g.before,m=g.values||[];return new Zo(m,v)}(t.startAt));let l=null;return t.endAt&&(l=function(g){let v=!g.before,m=g.values||[];return new Zo(m,v)}(t.endAt)),$2(e,i,s,o,c,"F",u,l)}function hj(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Uo(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Uo(t.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Uo(t.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Uo(t.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(n):n.fieldFilter!==void 0?function(t){return Qe.create(Uo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pn.create(t.compositeFilter.filters.map(r=>yS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(t.compositeFilter.op))}(n):J()}function fj(n){return ij[n]}function pj(n){return oj[n]}function gj(n){return sj[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return Yt.fromServerFormat(n.fieldPath)}function vS(n){return n instanceof Qe?function(t){if(t.op==="=="){if(qD(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(zD(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qD(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(zD(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:pj(t.op),value:t.value}}}(n):n instanceof pn?function(t){let r=t.getFilters().map(i=>vS(i));return r.length===1?r[0]:{compositeFilter:{op:gj(t.op),filters:r}}}(n):J()}function _S(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var nc=class n{constructor(e,t,r,i,o=ne.min(),s=ne.min(),c=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ky=class{constructor(e){this.Tt=e}};function mj(n){let e=dj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ly(e,e.limit,"L"):e}var Ud=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Ka(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=rr(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(ir(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?K0(e)?this.ft(t,Number.MAX_SAFE_INTEGER):G0(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):J()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=Ko,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(ke(c)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),W.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};Ud.xt=new Ud;var Qy=class{constructor(){this.Tn=new Yy}addToCollectionParentIndex(e,t){return this.Tn.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(Ai.min())}updateCollectionGroup(e,t,r){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}},Yy=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new tt(Fe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Fe.comparator)).toArray()}};var V8=new Uint8Array(0);var o0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IS=41943040,Qt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(IS,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var rc=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new n(0)}static Kn(){return new n(-1)}};var s0="LruGarbageCollector",yj=1048576;function a0([n,e],[t,r]){let i=oe(n,t);return i===0?oe(e,r):i}var Zy=class{constructor(e){this.Hn=e,this.buffer=new tt(a0),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();a0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Jy=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){U(s0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>D(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){as(t)?U(s0,"Ignoring IndexedDB error during garbage collection: ",t):yield sh(t)}yield this.er(3e5)}))}},Xy=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return R.resolve(Zv.ae);let r=new Zy(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(o0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),Lo()<=ue.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function vj(n,e){return new Xy(n,e)}var ev=class{constructor(){this.changes=new or(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?R.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var tv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var nv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Wa(r.mutation,i,Ci.empty(),yt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=Ti();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ba();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ti();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=xr(),s=za(),c=function(){return za()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ts)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Wa(f.mutation,l,f.mutation.getFieldMask(),yt.now())):s.set(l.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var g;return c.set(l,new tv(f,(g=s.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let r=za(),i=new He((s,c)=>s-c),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||Ci.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||ge()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=iS();f.forEach(v=>{if(!o.has(v)){let m=uS(t.get(v),r.get(v));m!==null&&g.set(v,m),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):R.resolve(Ti()),c=Ga,u=o;return s.next(l=>R.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?R.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(f=>({batchId:c,changes:G2(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=Ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ba();return this.indexManager.getCollectionParents(e,o).next(c=>R.forEach(c,u=>{let l=function(g,v){return new Pr(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,fn.newInvalidDocument(f)))});let c=Ba();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Wa(f.mutation,l,Ci.empty(),yt.now()),dh(t,l)&&(c=c.insert(u,l))}),c})}};var rv=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return R.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ho(i.createTime)}}(t)),R.resolve()}getNamedQuery(e,t){return R.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:mj(i.bundledQuery),readTime:Ho(i.readTime)}}(t)),R.resolve()}};var iv=class{constructor(){this.overlays=new He(W.comparator),this.Rr=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ti();return R.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),R.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),R.resolve()}getOverlaysForCollection(e,t,r){let i=Ti(),o=t.length+1,s=new W(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return R.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Ti(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Ti(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return R.resolve(c)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Uy(t,r));let o=this.Rr.get(t);o===void 0&&(o=ge(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}};var ov=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,R.resolve()}};var ic=class{constructor(){this.Vr=new tt(Ke.mr),this.gr=new tt(Ke.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new Ke(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ke(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new W(new Fe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new W(new Fe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=ge();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ke(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return W.comparator(e.key,t.key)||oe(e.Cr,t.Cr)}static pr(e,t){return oe(e.Cr,t.Cr)||W.comparator(e.key,t.key)}};var sv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new tt(Ke.mr)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new jy(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Mr=this.Mr.add(new Ke(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,t){return R.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?b2:this.Fr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ke(t,0),i=new Ke(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let c=this.Or(s.Cr);o.push(c)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tt(oe);return t.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],c=>{r=r.add(c.Cr)})}),R.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new W(o),0),c=new tt(oe);return this.Mr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Cr)),!0)},s),R.resolve(this.Br(c))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return R.forEach(t.mutations,i=>{let o=new Ke(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new Ke(t,0),i=this.Mr.firstAfterOrEqual(r);return R.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var av=class{constructor(e){this.kr=e,this.docs=function(){return new He(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return R.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=xr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=xr(),s=t.path,c=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||E2(w2(f),r)<=0||(i.has(f.key)||dh(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,t,r,i){J()}qr(e,t){return R.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cv(this)}getSize(e){return R.resolve(this.size)}},cv=class extends ev{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),R.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var uv=class{constructor(e){this.persistence=e,this.Qr=new or(t=>n_(t),r_),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ic,this.targetCount=0,this.Kr=rc.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),R.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Kr=new rc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.zn(t),R.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Qr.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return R.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),R.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),R.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ur.vr(t);return R.resolve(r)}containsKey(e,t){return R.resolve(this.Ur.containsKey(t))}};var Bd=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Zv(0),this.zr=!1,this.zr=!0,this.jr=new ov,this.referenceDelegate=e(this),this.Hr=new uv(this),this.indexManager=new Qy,this.remoteDocumentCache=function(i){return new av(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Ky(t),this.Yr=new rv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new sv(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new lv(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return R.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},lv=class extends Ey{constructor(e){super(),this.currentSequenceNumber=e}},dv=class n{constructor(e){this.persistence=e,this.ti=new ic,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw J()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),R.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),R.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.ii,r=>{let i=W.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,ne.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return R.or([()=>R.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},$d=class n{constructor(e,t){this.persistence=e,this.oi=new or(r=>S2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vj(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return R.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return R.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?R.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,t).next(c=>{c||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),R.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),R.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),R.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),R.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bd(e.data.value)),t}ar(e,t,r){return R.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return R.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var hv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var fv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var pv=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Lb()?8:T2(Vt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new fv;return this._s(e,t,s).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,s,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Lo()<=ue.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),R.resolve()):(Lo()<=ue.DEBUG&&U("QueryEngine","Query:",Vo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Lo()<=ue.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(t))):R.resolve())}rs(e,t){if(QD(t))return R.resolve(null);let r=Pn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Ly(t,null,"F"),r=Pn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.ns.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.cs(t,c);return this.ls(t,l,s,u.readTime)?this.rs(e,Ly(t,null,"F")):this.hs(e,l,t,u)}))})))}ss(e,t,r,i){return QD(t)||i.isEqual(ne.min())?R.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(t,o);return this.ls(t,s,r,i)?R.resolve(null):(Lo()<=ue.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vo(t)),this.hs(e,s,t,I2(i,Ga)).next(c=>c))})}cs(e,t){let r=new tt(nS(e));return t.forEach((i,o)=>{dh(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Lo()<=ue.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ns.getDocumentsMatchingQuery(e,t,Ai.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var o_="LocalStore",_j=3e8,gv=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new He(oe),this.Is=new or(o=>n_(o),r_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nv(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function Ij(n,e,t,r){return new gv(n,e,t,r)}function wS(n,e){return D(this,null,function*(){let t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ge();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Rs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function ES(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function wj(n,e){let t=fe(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let c=[];e.targetChanges.forEach((f,g)=>{let v=i.get(g);if(!v)return;c.push(t.Hr.removeMatchingKeys(o,f.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(o,f.addedDocuments,g)));let m=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?m=m.withResumeToken(vt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(g,m),function(x,O,q){return x.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=_j?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(v,m,f)&&c.push(t.Hr.updateTargetData(o,m))});let u=xr(),l=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(Ej(o,s,e.documentUpdates).next(f=>{u=f.Vs,l=f.fs})),!r.isEqual(ne.min())){let f=t.Hr.getLastRemoteSnapshotVersion(o).next(g=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return R.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ts=i,o))}function Ej(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=xr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):U(o_,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function Cj(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):t.Hr.allocateTargetId(r).next(s=>(i=new nc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function mv(n,e,t){return D(this,null,function*(){let r=fe(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!as(s))throw s;U(o_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function c0(n,e,t){let r=fe(n),i=ne.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let g=fe(u),v=g.Is.get(f);return v!==void 0?R.resolve(g.Ts.get(v)):g.Hr.getTargetData(l,f)}(r,s,Pn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,t?i:ne.min(),t?o:ge())).next(c=>(Tj(r,z2(e),c),{documents:c,gs:o})))}function Tj(n,e,t){let r=n.Es.get(e)||ne.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}var Hd=class{constructor(){this.activeTargetIds=Y2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var yv=class{constructor(){this.ho=new Hd,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Hd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vv=class{To(e){}shutdown(){}};var u0="ConnectivityMonitor",zd=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){U(u0,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){U(u0,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Td=null;function _v(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}var dy="RestConnection",bj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Iv=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Nd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){let s=_v(),c=this.bo(e,t.toUriEncodedString());U(dy,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,c,u,r).then(l=>(U(dy,`Received RPC '${e}' ${s}: `,l),l),l=>{throw Wo(dy,`RPC '${e}' ${s} failed with error: `,l,"url: ",c,"request:",r),l})}Co(e,t,r,i,o,s){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ss}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){let r=bj[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var wv=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var mt="WebChannelConnection",Ev=class extends Iv{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let o=_v();return new Promise((s,c)=>{let u=new iy;u.setWithCredentials(!0),u.listenOnce(oy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ua.NO_ERROR:let f=u.getResponseJson();U(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Ua.TIMEOUT:U(mt,`RPC '${e}' ${o} timed out`),c(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ua.HTTP_ERROR:let g=u.getStatus();if(U(mt,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let m=v?.error;if(m&&m.status&&m.message){let A=function(O){let q=O.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(q)>=0?q:k.UNKNOWN}(m.status);c(new B(A,m.message))}else c(new B(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new B(k.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{U(mt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(mt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Wo(e,t,r){let i=_v(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cy(),c=ay(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");U(mt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=s.createWebChannel(f,u),v=!1,m=!1,A=new wv({Fo:O=>{m?U(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(v||(U(mt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),U(mt,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Mo:()=>g.close()}),x=(O,q,me)=>{O.listen(q,se=>{try{me(se)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return x(g,Fo.EventType.OPEN,()=>{m||(U(mt,`RPC '${e}' stream ${i} transport opened.`),A.Qo())}),x(g,Fo.EventType.CLOSE,()=>{m||(m=!0,U(mt,`RPC '${e}' stream ${i} transport closed`),A.Uo())}),x(g,Fo.EventType.ERROR,O=>{m||(m=!0,Wo(mt,`RPC '${e}' stream ${i} transport errored:`,O),A.Uo(new B(k.UNAVAILABLE,"The operation could not be completed")))}),x(g,Fo.EventType.MESSAGE,O=>{var q;if(!m){let me=O.data[0];Le(!!me);let se=me,Ne=se?.error||((q=se[0])===null||q===void 0?void 0:q.error);if(Ne){U(mt,`RPC '${e}' stream ${i} received error:`,Ne);let _t=Ne.status,Ie=function(I){let w=Ge[I];if(w!==void 0)return dS(w)}(_t),E=Ne.message;Ie===void 0&&(Ie=k.INTERNAL,E="Unknown error status: "+_t+" with message "+Ne.message),m=!0,A.Uo(new B(Ie,E)),g.close()}else U(mt,`RPC '${e}' stream ${i} received:`,me),A.Ko(me)}}),x(c,sy.STAT_EVENT,O=>{O.stat===wd.PROXY?U(mt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===wd.NOPROXY&&U(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}};function hy(){return typeof document<"u"?document:null}function hh(n){return new zy(n,!0)}var qd=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var l0="PersistentStream",Cv=class{constructor(e,t,r,i,o,s,c,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new qd(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return D(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return D(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return D(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>D(this,null,function*(){this.state=0,this.start()}))}m_(e){return U(l0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(U(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Tv=class extends Cv{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=cj(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Ho(s.readTime):ne.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=i0(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=ky(u)?{documents:uj(o,u)}:{query:lj(o,u).ht},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=hS(o,s.resumeToken);let l=qy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){c.readTime=Wy(o,s.snapshotVersion.toTimestamp());let l=qy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=hj(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=i0(this.serializer),t.removeTarget=e,this.I_(t)}};var bv=class{},Dv=class extends bv{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Gy(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Co(e,Gy(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},Sv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(t),this.N_=!1):U("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var ns="RemoteStore",Av=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>D(this,null,function*(){lc(this)&&(U(ns,"Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let l=fe(u);l.W_.add(4),yield uc(l),l.j_.set("Unknown"),l.W_.delete(4),yield fh(l)})}(this))}))}),this.j_=new Sv(r,i)}};function fh(n){return D(this,null,function*(){if(lc(n))for(let e of n.G_)yield e(!0)})}function uc(n){return D(this,null,function*(){for(let e of n.G_)yield e(!1)})}function CS(n,e){let t=fe(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),u_(t)?c_(t):us(t).c_()&&a_(t,e))}function s_(n,e){let t=fe(n),r=us(t);t.K_.delete(e),r.c_()&&TS(t,e),t.K_.size===0&&(r.c_()?r.P_():lc(t)&&t.j_.set("Unknown"))}function a_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}us(n).y_(e)}function TS(n,e){n.H_.Ne(e),us(n).w_(e)}function c_(n){n.H_=new Hy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),us(n).start(),n.j_.B_()}function u_(n){return lc(n)&&!us(n).u_()&&n.K_.size>0}function lc(n){return fe(n).W_.size===0}function bS(n){n.H_=void 0}function Dj(n){return D(this,null,function*(){n.j_.set("Online")})}function Sj(n){return D(this,null,function*(){n.K_.forEach((e,t)=>{a_(n,e)})})}function Aj(n,e){return D(this,null,function*(){bS(n),u_(n)?(n.j_.q_(e),c_(n)):n.j_.set("Unknown")})}function Mj(n,e,t){return D(this,null,function*(){if(n.j_.set("Online"),e instanceof Vd&&e.state===2&&e.cause)try{yield function(i,o){return D(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.K_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.K_.delete(c),i.H_.removeTarget(c))})}(n,e)}catch(r){U(ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield d0(n,r)}else if(e instanceof $o?n.H_.We(e):e instanceof Ld?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ne.min()))try{let r=yield ES(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.H_.ot(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.K_.get(l);f&&o.K_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.K_.get(u);if(!f)return;o.K_.set(u,f.withResumeToken(vt.EMPTY_BYTE_STRING,f.snapshotVersion)),TS(o,u);let g=new nc(f.target,u,l,f.sequenceNumber);a_(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){U(ns,"Failed to raise snapshot:",r),yield d0(n,r)}})}function d0(n,e,t){return D(this,null,function*(){if(!as(e))throw e;n.W_.add(1),yield uc(n),n.j_.set("Offline"),t||(t=()=>ES(n.localStore)),n.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){U(ns,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield fh(n)}))})}function h0(n,e){return D(this,null,function*(){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),U(ns,"RemoteStore received new credentials");let r=lc(t);t.W_.add(3),yield uc(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield fh(t)})}function Rj(n,e){return D(this,null,function*(){let t=fe(n);e?(t.W_.delete(2),yield fh(t)):e||(t.W_.add(2),yield uc(t),t.j_.set("Unknown"))})}function us(n){return n.J_||(n.J_=function(t,r,i){let o=fe(t);return o.M_(),new Tv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:Dj.bind(null,n),No:Sj.bind(null,n),Lo:Aj.bind(null,n),p_:Mj.bind(null,n)}),n.G_.push(e=>D(this,null,function*(){e?(n.J_.h_(),u_(n)?c_(n):n.j_.set("Unknown")):(yield n.J_.stop(),bS(n))}))),n.J_}var Mv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function DS(n,e){if(nr("AsyncQueue",`${e}: ${n}`),as(n))return new B(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Wd=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=Ba(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Gd=class{constructor(){this.Z_=new He(W.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):J():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},rs=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Wd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Rv=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},Pv=class{constructor(){this.queries=f0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=fe(t),o=i.queries;i.queries=f0(),o.forEach((s,c)=>{for(let u of c.ta)u.onError(r)})})(this,new B(k.ABORTED,"Firestore shutting down"))}};function f0(){return new or(n=>tS(n),lh)}function SS(n,e){return D(this,null,function*(){let t=fe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new Rv,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield t.onListen(i,!0);break;case 1:o.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=DS(s,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&l_(t)})}function AS(n,e){return D(this,null,function*(){let t=fe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Pj(n,e){let t=fe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.ta)c.oa(i)&&(r=!0);s.ea=i}}r&&l_(t)}function xj(n,e,t){let r=fe(n),i=r.queries.get(e);if(i)for(let o of i.ta)o.onError(t);r.queries.delete(e)}function l_(n){n.ia.forEach(e=>{e.next()})}var xv,p0;(p0=xv||(xv={}))._a="default",p0.Cache="cache";var Kd=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xv.Cache}};var Qd=class{constructor(e){this.key=e}},Yd=class{constructor(e){this.key=e}},Nv=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ge(),this.mutatedKeys=ge(),this.ya=nS(e),this.wa=new Wd(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new Gd,i=t?t.wa:this.wa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let v=i.get(f),m=dh(this.query,g)?g:null,A=!!v&&this.mutatedKeys.has(v.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),O=!1;v&&m?v.data.isEqual(m.data)?A!==x&&(r.track({type:3,doc:m}),O=!0):this.va(v,m)||(r.track({type:2,doc:m}),O=!0,(u&&this.ya(m,u)>0||l&&this.ya(m,l)<0)&&(c=!0)):!v&&m?(r.track({type:0,doc:m}),O=!0):v&&!m&&(r.track({type:1,doc:v}),O=!0,(u||l)&&(c=!0)),O&&(m?(s=s.add(m),o=x?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{wa:s,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((f,g)=>function(m,A){let x=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return x(m)-x(A)}(f.type,g.type)||this.ya(f.doc,g.doc)),this.Ca(r),i=i!=null&&i;let c=t&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,l=u!==this.ga;return this.ga=u,s.length!==0||l?{snapshot:new rs(this.query,e.wa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Gd,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=ge(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Yd(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Qd(r))}),t}Oa(e){this.fa=e.gs,this.pa=ge();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return rs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},d_="SyncEngine",Ov=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},kv=class{constructor(e){this.key=e,this.Ba=!1}},Fv=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new or(c=>tS(c),lh),this.qa=new Map,this.Qa=new Set,this.$a=new He(W.comparator),this.Ua=new Map,this.Ka=new ic,this.Wa={},this.Ga=new Map,this.za=rc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function Nj(n,e,t=!0){return D(this,null,function*(){let r=NS(n),i,o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield MS(r,e,t,!0),i})}function Oj(n,e){return D(this,null,function*(){let t=NS(n);yield MS(t,e,!0,!1)})}function MS(n,e,t,r){return D(this,null,function*(){let i=yield Cj(n.localStore,Pn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield kj(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&CS(n.remoteStore,i),c})}function kj(n,e,t,r,i){return D(this,null,function*(){n.Ha=(g,v,m)=>function(x,O,q,me){return D(this,null,function*(){let se=O.view.ba(q);se.ls&&(se=yield c0(x.localStore,O.query,!1).then(({documents:E})=>O.view.ba(E,se)));let Ne=me&&me.targetChanges.get(O.targetId),_t=me&&me.targetMismatches.get(O.targetId)!=null,Ie=O.view.applyChanges(se,x.isPrimaryClient,Ne,_t);return m0(x,O.targetId,Ie.Ma),Ie.snapshot})}(n,g,v,m);let o=yield c0(n.localStore,e,!0),s=new Nv(e,o.gs),c=s.ba(o.documents),u=tc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);m0(n,t,l.Ma);let f=new Ov(e,t,s);return n.ka.set(e,f),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),l.snapshot})}function Fj(n,e,t){return D(this,null,function*(){let r=fe(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!lh(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&s_(r.remoteStore,i.targetId),Lv(r,i.targetId)}).catch(sh))):(Lv(r,i.targetId),yield mv(r.localStore,i.targetId,!0))})}function Lj(n,e){return D(this,null,function*(){let t=fe(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),s_(t.remoteStore,r.targetId))})}function RS(n,e){return D(this,null,function*(){let t=fe(n);try{let r=yield wj(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ua.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Le(s.Ba):i.removedDocuments.size>0&&(Le(s.Ba),s.Ba=!1))}),yield xS(t,r,e)}catch(r){yield sh(r)}})}function g0(n,e,t){let r=fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((o,s)=>{let c=s.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=fe(s);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let v of g.ta)v.sa(c)&&(l=!0)}),l&&l_(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vj(n,e,t){return D(this,null,function*(){let r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ua.get(e),o=i&&i.key;if(o){let s=new He(W.comparator);s=s.insert(o,fn.newNoDocument(o,ne.min()));let c=ge().add(o),u=new Fd(ne.min(),new Map,new He(oe),s,c);yield RS(r,u),r.$a=r.$a.remove(o),r.Ua.delete(e),h_(r)}else yield mv(r.localStore,e,!1).then(()=>Lv(r,e,t)).catch(sh)})}function Lv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||PS(n,r)})}function PS(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(s_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),h_(n))}function m0(n,e,t){for(let r of t)r instanceof Qd?(n.Ka.addReference(r.key,e),jj(n,r)):r instanceof Yd?(U(d_,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||PS(n,r.key)):J()}function jj(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(U(d_,"New document in limbo: "+t),n.Qa.add(r),h_(n))}function h_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new W(Fe.fromString(e)),r=n.za.next();n.Ua.set(r,new kv(t)),n.$a=n.$a.insert(t,r),CS(n.remoteStore,new nc(Pn(uh(t.path)),r,"TargetPurposeLimboResolution",Zv.ae))}}function xS(n,e,t){return D(this,null,function*(){let r=fe(n),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((c,u)=>{s.push(r.Ha(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=hv.Yi(u.targetId,l);o.push(g)}}))}),yield Promise.all(s),r.La.p_(i),yield function(u,l){return D(this,null,function*(){let f=fe(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>R.forEach(l,v=>R.forEach(v.Hi,m=>f.persistence.referenceDelegate.addReference(g,v.targetId,m)).next(()=>R.forEach(v.Ji,m=>f.persistence.referenceDelegate.removeReference(g,v.targetId,m)))))}catch(g){if(!as(g))throw g;U(o_,"Failed to update sequence numbers: "+g)}for(let g of l){let v=g.targetId;if(!g.fromCache){let m=f.Ts.get(v),A=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(A);f.Ts=f.Ts.insert(v,x)}}})}(r.localStore,o))})}function Uj(n,e){return D(this,null,function*(){let t=fe(n);if(!t.currentUser.isEqual(e)){U(d_,"User change. New user:",e.toKey());let r=yield wS(t.localStore,e);t.currentUser=e,function(o,s){o.Ga.forEach(c=>{c.forEach(u=>{u.reject(new B(k.CANCELLED,s))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xS(t,r.Rs)}})}function Bj(n,e){let t=fe(n),r=t.Ua.get(e);if(r&&r.Ba)return ge().add(r.key);{let i=ge(),o=t.qa.get(e);if(!o)return i;for(let s of o){let c=t.ka.get(s);i=i.unionWith(c.view.Sa)}return i}}function NS(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vj.bind(null,e),e.La.p_=Pj.bind(null,e.eventManager),e.La.Ja=xj.bind(null,e.eventManager),e}var OS=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return D(this,null,function*(){this.serializer=hh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return Ij(this.persistence,new pv,t.initialUser,this.serializer)}Xa(t){return new Bd(dv.ri,this.serializer)}Za(t){return new yv}terminate(){return D(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Vv=class extends OS{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Le(this.persistence.referenceDelegate instanceof $d);let r=this.persistence.referenceDelegate.garbageCollector;return new Jy(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new Bd(r=>$d.ri(r,t),this.serializer)}};var $j=(()=>{class n{initialize(t,r){return D(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>g0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uj.bind(null,this.syncEngine),yield Rj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Pv}()}createDatastore(t){let r=hh(t.databaseInfo.databaseId),i=function(s){return new Ev(s)}(t.databaseInfo);return function(s,c,u,l){return new Dv(s,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,c,u){return new Av(i,o,s,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>g0(this.syncEngine,r,0),function(){return zd.D()?new zd:new vv}())}createSyncEngine(t,r){return function(o,s,c,u,l,f,g){let v=new Fv(o,s,c,u,l,f);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var t,r;yield function(o){return D(this,null,function*(){let s=fe(o);U(ns,"RemoteStore shutting down."),s.W_.add(5),yield uc(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Zd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Nr="FirestoreClient",jv=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=Md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>D(this,null,function*(){U(Nr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(Nr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=DS(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function fy(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(Nr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield wS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function y0(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Hj(n);U(Nr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>h0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>h0(e.remoteStore,i)),n._onlineComponents=e})}function Hj(n){return D(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(Nr,"Using user provided OfflineComponentProvider");try{yield fy(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),yield fy(n,new OS)}}else U(Nr,"Using default OfflineComponentProvider"),yield fy(n,new Vv(void 0));return n._offlineComponents})}function zj(n){return D(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(Nr,"Using user provided OnlineComponentProvider"),yield y0(n,n._uninitializedComponentsProvider._online)):(U(Nr,"Using default OnlineComponentProvider"),yield y0(n,new $j))),n._onlineComponents})}function Uv(n){return D(this,null,function*(){let e=yield zj(n),t=e.eventManager;return t.onListen=Nj.bind(null,e.syncEngine),t.onUnlisten=Fj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Oj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Lj.bind(null,e.syncEngine),t})}function qj(n,e,t={}){let r=new tr;return n.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,c,u,l){let f=new Zd({next:v=>{f.su(),s.enqueueAndForget(()=>AS(o,g));let m=v.docs.has(c);!m&&v.fromCache?l.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&u&&u.source==="server"?l.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(v)},error:v=>l.reject(v)}),g=new Kd(uh(c.path),f,{includeMetadataChanges:!0,Ta:!0});return SS(o,g)}(yield Uv(n),n.asyncQueue,e,t,r)})),r.promise}function kS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var v0=new Map;function FS(n,e,t){if(!t)throw new B(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Wj(n,e,t,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _0(n){if(!W.isDocumentKey(n))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function I0(n){if(W.isDocumentKey(n))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ph(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":J()}function zo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ph(n);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var LS="firestore.googleapis.com",w0=!0,Jd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LS,this.ssl=w0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:w0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yj)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},is=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new py;switch(r.type){case"firstParty":return new vy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=v0.get(t);r&&(U("ComponentProvider","Removing Datastore"),v0.delete(t),r.terminate())}(this),Promise.resolve()}};function VS(n,e,t,r={}){var i;let o=(n=zo(n,is))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==LS&&o.host!==c&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!pi(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=et.MOCK_USER;else{l=xb(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new et(g)}n._authCredentials=new gy(new Sd(l,f))}}var Ri=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Rt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Mr=class n extends Ri{constructor(e,t,r){super(e,t,uh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new W(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function jS(n,e,...t){if(n=jt(n),FS("collection","path",e),n instanceof is){let r=Fe.fromString(e,...t);return I0(r),new Mr(n,null,r)}{if(!(n instanceof Rt||n instanceof Mr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Fe.fromString(e,...t));return I0(r),new Mr(n.firestore,null,r)}}function US(n,e,...t){if(n=jt(n),arguments.length===1&&(e=Md.newId()),FS("doc","path",e),n instanceof is){let r=Fe.fromString(e,...t);return _0(r),new Rt(n,null,new W(r))}{if(!(n instanceof Rt||n instanceof Mr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Fe.fromString(e,...t));return _0(r),new Rt(n.firestore,n instanceof Mr?n.converter:null,new W(r))}}var E0="AsyncQueue",Xd=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new qd(this,"async_queue_retry"),this.Su=()=>{let r=hy();r&&U(E0,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=hy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=hy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new tr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return D(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!as(e))throw e;U(E0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=Mv.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&J()}verifyOperationInProgress(){}Mu(){return D(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};function C0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var os=class extends is{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Xd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xd(e),this._firestoreClient=void 0,yield e}})}};function BS(n,e){let t=typeof n=="object"?n:No(),r=typeof n=="string"?n:e||Nd,i=nd(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Rb("firestore");o&&VS(i,...o)}return i}function $S(n){if(n._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Gj(n),n._firestoreClient}function Gj(n){var e,t,r;let i=n._freezeSettings(),o=function(c,u,l,f){return new Cy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,kS(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new jv(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var oc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(vt.fromBase64String(e))}catch(t){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var eh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var th=class{constructor(e){this._methodName=e}};var sc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}};var ac=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Kj=/^__.*__$/;function HS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var Bv=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Hv(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(HS(this.Lu)&&Kj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},$v=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hh(e)}ju(e,t,r,i=!1){return new Bv({Lu:e,methodName:t,zu:r,path:Yt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Qj(n){let e=n._freezeSettings(),t=hh(n._databaseId);return new $v(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Yj(n,e,t,r=!1){return f_(t,n.ju(r?4:3,e))}function f_(n,e){if(zS(n=jt(n)))return Jj("Unsupported field value:",e,n),Zj(n,e);if(n instanceof th)return function(r,i){if(!HS(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=f_(c,i.Ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=yt.fromDate(r);return{timestampValue:Wy(i.serializer,o)}}if(r instanceof yt){let o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wy(i.serializer,o)}}if(r instanceof sc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oc)return{bytesValue:hS(i.serializer,r._byteString)};if(r instanceof Rt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ac)return function(s,c){return{mapValue:{fields:{[Xv]:{stringValue:e_},[Ko]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.Wu("VectorValues must only contain numeric values.");return i_(c.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${ph(r)}`)}(n,e)}function Zj(n,e){let t={};return B0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(n,(r,i)=>{let o=f_(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function zS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof sc||n instanceof oc||n instanceof Rt||n instanceof th||n instanceof ac)}function Jj(n,e,t){if(!zS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=ph(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}var Xj=new RegExp("[~\\*/\\[\\]]");function eU(n,e,t){if(e.search(Xj)>=0)throw Hv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new eh(...e.split("."))._internalPath}catch{throw Hv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hv(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(k.INVALID_ARGUMENT,c+n+u)}var nh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new zv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(p_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},zv=class extends nh{data(){return super.data()}};function p_(n,e){return typeof e=="string"?eU(n,e):e instanceof eh?e._internalPath:e._delegate._internalPath}function tU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cc=class{},rh=class extends cc{};function qS(n,e,...t){let r=[];e instanceof cc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof Wv).length,c=o.filter(u=>u instanceof qv).length;if(s>1||s>0&&c>0)throw new B(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var qv=class n extends rh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return GS(e._query,t),new Ri(e.firestore,e.converter,Fy(e._query,t))}_parse(e){let t=Qj(e.firestore);return function(o,s,c,u,l,f,g){let v;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){b0(g,f);let A=[];for(let x of g)A.push(T0(u,o,x));v={arrayValue:{values:A}}}else v=T0(u,o,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||b0(g,f),v=Yj(c,s,g,f==="in"||f==="not-in");return Qe.create(l,f,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var Wv=class n extends cc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:pn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)GS(s,u),s=Fy(s,u)}(e._query,t),new Ri(e.firestore,e.converter,Fy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Gv=class n extends rh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mi(o,s)}(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Pr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function WS(n,e="asc"){let t=e,r=p_("orderBy",n);return Gv._create(r,t)}function T0(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new B(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(e)&&t.indexOf("/")!==-1)throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Fe.fromString(t));if(!W.isDocumentKey(r))throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HD(n,new W(r))}if(t instanceof Rt)return HD(n,t._key);throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(t)}.`)}function b0(n,e){if(!Array.isArray(n)||n.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GS(n,e){let t=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Kv=class{convertValue(e,t="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return cs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ko].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ke(s.doubleValue));return new ac(o)}convertGeoPoint(e){return new sc(ke(e.latitude),ke(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ch(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qa(e));default:return null}}convertTimestamp(e){let t=rr(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Fe.fromString(e);Le(_S(r));let i=new Od(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(t)||nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Di=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ih=class extends nh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new qo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(p_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},qo=class extends ih{data(e={}){return super.data(e)}},Qv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Di(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qo(this._firestore,this._userDataWriter,r.key,r,new Di(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new qo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new qo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:nU(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function nU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function KS(n){n=zo(n,Rt);let e=zo(n.firestore,os);return qj($S(e),n._key).then(t=>QS(e,n,t))}var oh=class extends Kv{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}};function g_(n,...e){var t,r,i;n=jt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||C0(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(C0(e[s])){let g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,l,f;if(n instanceof Rt)l=zo(n.firestore,os),f=uh(n._key.path),u={next:g=>{e[s]&&e[s](QS(l,n,g))},error:e[s+1],complete:e[s+2]};else{let g=zo(n,Ri);l=zo(g.firestore,os),f=g._query;let v=new oh(l);u={next:m=>{e[s]&&e[s](new Qv(l,v,g,m))},error:e[s+1],complete:e[s+2]},tU(n._query)}return function(v,m,A,x){let O=new Zd(x),q=new Kd(m,O,A);return v.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return SS(yield Uv(v),q)})),()=>{O.su(),v.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return AS(yield Uv(v),q)}))}}($S(l),f,c,u)}function QS(n,e,t){let r=t.docs.get(e._key),i=new oh(n);return new ih(n,i,e._key,r,new Di(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ss=i})(xo),dn(new Ct("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new os(new my(r.getProvider("auth-internal")),new _y(s,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Od(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),$e(ND,OD,e),$e(ND,OD,"esm2017")})();var gh=function(){return gh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},gh.apply(this,arguments)};var oU={includeMetadataChanges:!1};function YS(n,e){return e===void 0&&(e=oU),new ie(function(t){var r=g_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ZS(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:gh(gh({},r),(t={},t[e.idField]=n.id,t))}function JS(n){return YS(n,{includeMetadataChanges:!0}).pipe(K(function(e){return e.docs}))}function XS(n,e){return e===void 0&&(e={}),JS(n).pipe(K(function(t){return t.map(function(r){return ZS(r,e)})}))}var Pi=class{constructor(e){return e}},eA="firestore",m_=class{constructor(){return ko(eA)}};var y_=new z("angularfire2.firestore-instances");function sU(n,e){let t=od(eA,n,e);return t&&new Pi(t)}function aU(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Pi(r)}}var cU={provide:m_,deps:[[new Hn,y_]]},uU={provide:Pi,useFactory:sU,deps:[[new Hn,y_],_i]};function tA(n,...e){return $e("angularfire",yi.full,"fst"),Xr([uU,cU,{provide:y_,useFactory:aU(n),multi:!0,deps:[Ee,ot,vi,Na,[new Hn,_d],[new Hn,ad],...e]}])}var mh=Kt(XS,!0);var yh=Kt(jS,!0,2);var v_=Kt(US,!0,2);var __=Kt(KS,!0);var nA=Kt(BS,!0);var rA=Kt(WS,!0,2),vh=Kt(qS,!0,2);var Zt=class n{isDataLoadedSubject=new Ue(!1);isFooterDataLoadedSubject=new Ue(!1);isHeaderDataLoadedSubject=new Ue(!1);emitLoadedDta(e){this.isDataLoadedSubject.next(e)}emitHeaderLoadedDta(e){this.isHeaderDataLoadedSubject.next(e)}emitFooterLoadedDta(e){this.isFooterDataLoadedSubject.next(e)}get showSpinner$(){return $r([this.isDataLoadedSubject.asObservable(),this.isFooterDataLoadedSubject.asObservable(),this.isHeaderDataLoadedSubject.asObservable()]).pipe(K(([e,t,r])=>!(t&&e&&r)))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Pt=class n{firestore=M(Pi);converter;name;constructor(e){this.name=e}getByDocumentId(e){return D(this,null,function*(){if(this.converter){let t=v_(this.firestore,this.name+"/"+e).withConverter(this.converter),r=yield __(t);if(r.exists()){let i=this.convertToOrigin(r.data());if(i)return i}}else{let t=v_(this.firestore,this.name+"/"+e),r=yield __(t);if(r.exists())return r.data()}throw Error("No existe documento.")})}getCollection(){let e=yh(this.firestore,this.name),t=vh(e);return mh(t,{idField:"id"})}convertToOrigin(e){}getFirst(){return this.getCollection().pipe(K(e=>e[0]))}static \u0275fac=function(t){tl()};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var _h=class n extends Pt{spinnerService=M(Zt);constructor(){super("indexElements")}get data$(){return this.getCollection().pipe(K(e=>e.map(t=>{let r=t;return r.url=r.url.replace("embed/","watch?v="),r})),We(e=>this.spinnerService.emitLoadedDta(!0)))}getCollection(){this.spinnerService.emitLoadedDta(!1);let e=yh(this.firestore,"indexElements"),t=vh(e,rA("order","asc"));return mh(t,{idField:"id"})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function lU(n,e){if(n&1){let t=Ir();pt(0),P(1,"app-project-element",3),Wt("sendProject",function(i){En(t);let o=Pe(2);return Cn(o.toggleExpand(i))}),N(),gt()}if(n&2){let t=e.$implicit,r=e.index,i=Pe(2);$(),ee("projectElement",t)("expand",i.expandedIndex===r)}}function dU(n,e){if(n&1&&(P(0,"main",1),De(1,lU,2,2,"ng-container",2),N()),n&2){let t=Pe();$(),ee("ngForOf",t.indexArray)}}var Ih=class n{itemExpanded=!1;expandedIndex;elementsList;observable$;indexArray;subscription;loadedData=!1;indexElementsService=M(_h);spinnerService=M(Zt);constructor(){}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.subscription=this.indexElementsService.data$.subscribe(e=>{this.indexArray=e,this.loadedData=!0,this.spinnerService.emitLoadedDta(!0)})}toggleExpand(e){let t=e.id,r=e.elementRef;this.expandedIndex=this.expandedIndex===t&&!e.isActive?void 0:t}focusOnElement(e){e.nativeElement.scrollIntoView({behavior:"smooth",block:"end"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-indice"]],decls:1,vars:1,consts:[["class","mainIndex",4,"ngIf"],[1,"mainIndex"],[4,"ngFor","ngForOf"],[3,"sendProject","projectElement","expand"]],template:function(t,r){t&1&&De(0,dU,2,1,"main",0),t&2&&ee("ngIf",r.loadedData)},dependencies:[At,Ze,Yl],styles:["main[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;padding-left:10px;padding-right:10px}"]})};var wh=class n{email="info@gmartnewmedia.com";location="Ometusco 96, Colonia Hip\xF3dromo Condesa, C.P 01600, Ciudad de M\xE9xico.";phone="+52 331-1336-736";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-privacy"]],decls:108,vars:3,template:function(t,r){t&1&&(P(0,"section")(1,"p"),V(2,"En GM aArt New Media valoramos y respetamos tu privacidad. Esta Pol\xEDtica de Privacidad describe c\xF3mo recopilamos, utilizamos, compartimos y protegemos la informaci\xF3n personal que obtenemos a trav\xE9s de nuestro sitio web www.gmartnewmedia.com. Al utilizar nuestro sitio, aceptas las pr\xE1cticas descritas en esta pol\xEDtica. "),N(),Y(3,"br"),P(4,"h1"),V(5,"1. Informaci\xF3n que Recopilamos"),N(),P(6,"p"),V(7,"Podemos recopilar los siguientes tipos de informaci\xF3n:"),N(),Y(8,"br"),P(9,"ul")(10,"li")(11,"p"),V(12,"Informaci\xF3n personal: Nombre, direcci\xF3n de correo electr\xF3nico, n\xFAmero de tel\xE9fono y otra informaci\xF3n que nos proporciones voluntariamente al registrarte, suscribirte a nuestro bolet\xEDn, o contactarnos. "),N()(),P(13,"li")(14,"p"),V(15,"Informaci\xF3n de uso: Datos sobre c\xF3mo interact\xFAas con nuestro sitio, como tu direcci\xF3n IP, tipo de navegador, p\xE1ginas visitadas, tiempo de visita y otros datos anal\xEDticos."),N()(),P(16,"li")(17,"p"),V(18,"Cookies y tecnolog\xEDas similares: Utilizamos cookies y tecnolog\xEDas similares para mejorar la experiencia del usuario y analizar el tr\xE1fico del sitio. Puedes gestionar tus preferencias de cookies a trav\xE9s de la configuraci\xF3n de tu navegador."),N()()(),Y(19,"br"),P(20,"h1"),V(21,"2. Uso de la Informaci\xF3n"),N(),P(22,"p"),V(23,"Utilizamos la informaci\xF3n recopilada para los siguientes fines:"),N(),Y(24,"br"),P(25,"ul")(26,"li")(27,"p"),V(28,"Proporcionar, operar y mantener nuestro sitio."),N()(),Y(29,"li"),P(30,"li")(31,"p"),V(32,"Mejorar, personalizar y expandir las funcionalidades del sitio."),N()(),P(33,"li")(34,"p"),V(35,"Comunicarnos contigo, incluyendo el env\xEDo de boletines, actualizaciones y respuestas a consultas."),N()(),P(36,"li")(37,"p"),V(38,"Analizar el uso del sitio y realizar investigaciones para mejorar nuestros servicios."),N()(),P(39,"li")(40,"p"),V(41,"Cumplir con obligaciones legales y proteger nuestros derechos."),N()()(),Y(42,"br"),P(43,"h1"),V(44,"3. Compartir Informaci\xF3n"),N(),P(45,"p"),V(46,"No vendemos, comercializamos ni transferimos tu informaci\xF3n personal a terceros sin tu consentimiento, excepto en los siguientes casos:"),N(),Y(47,"br"),P(48,"ul")(49,"li")(50,"p"),V(51,"Proveedores de servicios: Podemos compartir informaci\xF3n con terceros que nos ayudan a operar nuestro sitio (por ejemplo, proveedores de hosting, herramientas de an\xE1lisis y servicios de marketing)."),N()(),P(52,"li")(53,"p"),V(54,"Cumplimiento legal: Podemos divulgar informaci\xF3n si es requerido por ley o para proteger nuestros derechos, propiedad o seguridad, o los de otros usuarios."),N()(),P(55,"li")(56,"p"),V(57,"Transferencias empresariales: En caso de fusi\xF3n, adquisici\xF3n o venta de activos, tu informaci\xF3n podr\xEDa ser transferida al nuevo propietario. "),N()()(),Y(58,"br"),P(59,"h1"),V(60,"4. Seguridad de la Informaci\xF3n"),N(),P(61,"p"),V(62,"Implementamos medidas de seguridad t\xE9cnicas y organizativas para proteger tu informaci\xF3n personal contra accesos no autorizados, alteraciones, divulgaciones o destrucci\xF3n. Sin embargo, ning\xFAn sistema es completamente seguro, por lo que no podemos garantizar la seguridad absoluta de tus datos."),N(),Y(63,"br"),P(64,"h1"),V(65,"5. Tus Derechos "),N(),P(66,"p"),V(67,"Dependiendo de tu jurisdicci\xF3n, puedes tener los siguientes derechos respecto a tu informaci\xF3n personal:"),N(),Y(68,"br"),P(69,"ul")(70,"li")(71,"p"),V(72,"Acceso: Solicitar una copia de la informaci\xF3n que tenemos sobre ti."),N()(),P(73,"p"),V(74,"Rectificaci\xF3n: Solicitar la correcci\xF3n de informaci\xF3n inexacta o incompleta."),N(),P(75,"li")(76,"p"),V(77,"Eliminaci\xF3n: Solicitar la eliminaci\xF3n de tus datos personales."),N()(),P(78,"p"),V(79,"Oposici\xF3n: Oponerte al procesamiento de tus datos en ciertas circunstancias."),N(),P(80,"li")(81,"p"),V(82,"Retiro del consentimiento: Retirar tu consentimiento para el uso de tus datos, cuando corresponda."),N()(),P(83,"li")(84,"p"),V(85,"Para ejercer estos derechos, cont\xE1ctanos a trav\xE9s de la informaci\xF3n proporcionada al final de esta pol\xEDtica."),N()()(),Y(86,"br"),P(87,"h1"),V(88,"6. Enlaces a Terceros"),N(),P(89,"p"),V(90,"Nuestro sitio puede contener enlaces a sitios web de terceros. No somos responsables de las pr\xE1cticas de privacidad o el contenido de estos sitios. Te recomendamos revisar sus pol\xEDticas de privacidad antes de proporcionarles cualquier informaci\xF3n personal."),N(),Y(91,"br"),P(92,"h1"),V(93,"7. Cambios a esta Pol\xEDtica"),N(),P(94,"p"),V(95,"Podemos actualizar esta Pol\xEDtica de Privacidad ocasionalmente. Cualquier cambio ser\xE1 publicado en esta p\xE1gina con la fecha de la \xFAltima actualizaci\xF3n. Te recomendamos revisar esta pol\xEDtica peri\xF3dicamente para estar informado sobre c\xF3mo protegemos tu informaci\xF3n."),N(),Y(96,"br"),P(97,"h1"),V(98,"8. Contacto"),N(),P(99,"p"),V(100,"Si tienes preguntas, comentarios o inquietudes sobre esta Pol\xEDtica de Privacidad o el manejo de tus datos personales, no dudes en contactarnos a:"),N(),Y(101,"br"),P(102,"p"),V(103),N(),P(104,"p"),V(105),N(),P(106,"p"),V(107),N()()),t&2&&($(103),Et("Correo electr\xF3nico: ",r.email,""),$(2),Et("Direcci\xF3n: ",r.location,""),$(2),Et("Tel\xE9fono: ",r.phone,""))},encapsulation:2})};var iA=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:Ih},{path:"privacy",component:wh},{path:"**",redirectTo:"index"}];var oA={firebaseConfig:{production:!0,apiKey:"AIzaSyAVzD198amuR8UIZ5Zu-XqCWUritGxW9k8",authDomain:"gmapp-f6d70.firebaseapp.com",databaseURL:"https://gmapp-f6d70-default-rtdb.firebaseio.com",projectId:"gmapp-f6d70",storageBucket:"gmapp-f6d70.firebasestorage.app",messagingSenderId:"999905388732",appId:"1:999905388732:web:8a671ff9e202ba59ac08b9",measurementId:"G-JDYRP554XE"}};var sA={providers:[iT({eventCoalescing:!0}),hm(iA),nD(()=>rD(oA.firebaseConfig)),tA(()=>nA())]};var Eh=class n extends Pt{constructor(){super("header")}get headerInfo$(){return this.getFirst()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var ls=class n extends Pt{constructor(){super("links")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ch=class n extends Pt{linkService=M(ls);converter={toFirestore(e){return{email:e.email,instagram:e.instagram,whatsApp:e.whatsApp}},fromFirestore(e,t){let r=e.data(t);return{email:r.email,instagram:r.instagram,whatsApp:r.whatsApp}}};convertToOrigin(e){return D(this,null,function*(){let t=yield this.linkService.getByDocumentId(e.email.id),r=yield this.linkService.getByDocumentId(e.whatsApp.id),i=yield this.linkService.getByDocumentId(e.instagram.id);return{email:t,whatsApp:r,instagram:i}})}constructor(){super("contact")}getContacts(){return this.getFirst().pipe(rt(e=>{let t=we(this.linkService.getByDocumentId(e.email.id)),r=we(this.linkService.getByDocumentId(e.whatsApp.id)),i=we(this.linkService.getByDocumentId(e.instagram.id));return ks([t,r,i]).pipe(K(([o,s,c])=>({email:o,whatsApp:s,instagram:c})))}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function hU(n,e){if(n&1){let t=Ir();pt(0),P(1,"p")(2,"a",1),Wt("click",function(){En(t);let i=Pe();return Cn(i.handleContact(i.contacto.email.url))}),V(3),N()(),P(4,"p")(5,"a",1),Wt("click",function(){En(t);let i=Pe();return Cn(i.handleContact(i.contacto.instagram.url))}),V(6),N()(),P(7,"p")(8,"a",1),Wt("click",function(){En(t);let i=Pe();return Cn(i.handleContact(i.contacto.whatsApp.url))}),V(9),N()(),gt()}if(n&2){let t=Pe();$(3),je(t.contacto.email.title),$(3),je(t.contacto.instagram.title),$(3),je(t.contacto.whatsApp.title)}}var ds=class n{sub=new Te;contactService=M(Ch);contacto;ngOnInit(){this.sub=this.contactService.getContacts().subscribe(e=>{this.contacto=e})}ngOnDestroy(){this.sub.unsubscribe()}handleContact(e){e!=null&&window.open(e,"_blanks")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-contact"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click"]],template:function(t,r){t&1&&De(0,hU,10,3,"ng-container",0),t&2&&ee("ngIf",r.contacto)},dependencies:[Ze],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]})};var fU=["videoElement"];function pU(n,e){if(n&1&&(P(0,"p"),V(1),N()),n&2){let t=e.$implicit;$(),Et(" ",t," ")}}function gU(n,e){if(n&1&&(P(0,"p"),V(1),N()),n&2){let t=e.$implicit;$(),Et(" ",t," ")}}function mU(n,e){if(n&1&&(P(0,"header",2),Y(1,"img",3,0),P(3,"div",4)(4,"div",5),De(5,pU,2,1,"p",6),N(),P(6,"div",7),De(7,gU,2,1,"p",6),N(),Y(8,"app-contact"),P(9,"div",8),Y(10,"img",9),N()()()),n&2){let t=Pe();$(),ee("src",t.videoSource,ri),$(4),ee("ngForOf",t.headerInfo.detalles),$(2),ee("ngForOf",t.headerInfo.listado)}}var Th=class n{headerService=M(Eh);spinnerService=M(Zt);router=M(cn);hasExpandedSubcription;videoSource;headerInfo;dataLoaded=!1;hasExpanded=!1;videoRef;constructor(){}ngOnDestroy(){this.hasExpandedSubcription?.unsubscribe()}ngOnInit(){this.hasExpandedSubcription=this.headerService.headerInfo$.subscribe(e=>{this.headerInfo=e,this.videoSource=e.videoPlayBack,this.dataLoaded=!0,this.spinnerService.emitHeaderLoadedDta(!0)})}onIndex(){console.log("index"),this.router.navigateByUrl("index")}onImages(){console.log("images"),this.router.navigateByUrl("images")}handleContact(e){e!=null&&window.open(e,"_blanks")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-header"]],viewQuery:function(t,r){if(t&1&&il(fU,5),t&2){let i;ea(i=ta())&&(r.videoRef=i.first)}},decls:1,vars:1,consts:[["videoElement",""],["class","video-container-desktop",4,"ngIf"],[1,"video-container-desktop"],["alt","Background GIF",1,"video-background",3,"src"],[1,"content-over-video"],[1,"detalles"],[4,"ngFor","ngForOf"],[1,"listado"],[1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/logo.png?alt=media&token=e25e6eb8-f15c-43fe-a6ee-1f0b7a708a2a"]],template:function(t,r){t&1&&De(0,mU,11,3,"header",1),t&2&&ee("ngIf",r.dataLoaded)},dependencies:[At,pm,Ze,ds],styles:['@charset "UTF-8";[class*=mobile][_ngcontent-%COMP%]{display:none!important}header.video-container-desktop[_ngcontent-%COMP%]{width:100%;overflow:hidden;color:#fff;padding:0;margin-bottom:-80px}header.video-container-desktop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}header.video-container-desktop[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]{width:100%;position:relative;top:-90px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;width:100%;display:grid;grid-template-columns:14% 66% 15% 5%;justify-content:right;margin-top:10px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{justify-self:left;margin-left:10px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%]{margin-left:10%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   app-contact[_ngcontent-%COMP%]{margin-right:10%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{justify-self:right;display:block;width:50px;height:50px;margin-right:10px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit;filter:invert(1)}','@charset "UTF-8";@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)){header.video-container-desktop[_ngcontent-%COMP%]{height:100vh;margin-bottom:-75%}}@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)) and (max-device-width: 375px){header.video-container-desktop[_ngcontent-%COMP%]{margin-bottom:-65%}}@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)){header.video-container-desktop[_ngcontent-%COMP%]   .video-background[_ngcontent-%COMP%]{top:-60px;height:70%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]{grid-template-columns:21% 45% 33%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{width:100%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child:after{content:"\\ae"}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   app-contact[_ngcontent-%COMP%]{display:none}}']})};var bh=class n extends Pt{linkService=M(ls);converter={toFirestore(e){return{clients:e.clients,title:e.title}},fromFirestore(e,t){let r=e.data(t);return{clients:r.clients,title:r.title}}};convertToOrigin(e){return D(this,null,function*(){let t=[];for(let r=0;r<e.clients.length;r++){let i=yield this.linkService.getByDocumentId(e.clients[r].id);t.push(i)}return{title:e.title,clients:t}})}constructor(){super("clients")}get clinets$(){return this.getFirst().pipe(rt(e=>{let t=[];for(let r=0;r<e.clients.length;r++)t.push(we(this.linkService.getByDocumentId(e.clients[r].id)));return ks(t).pipe(K(r=>({title:e.title,clients:r})))}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function yU(n,e){if(n&1&&Y(0,"img",7),n&2){let t=e.$implicit;vg("src",t.url,ri)}}function vU(n,e){if(n&1&&(pt(0),P(1,"div",1)(2,"p"),V(3),N()(),Y(4,"div",2),P(5,"div",3)(6,"div",4),De(7,yU,1,1,"img",5),N(),P(8,"div",6)(9,"p"),V(10),N()()(),gt()),n&2){let t=Pe();$(3),je(t.clientes.title),$(4),ee("ngForOf",t.clientes.clients),$(3),Et("",t.clientsInfo,".")}}var Dh=class n{clientes;clientsInfo;clientsService=M(bh);spinnerService=M(Zt);sub=new Te;ngOnInit(){this.sub=this.clientsService.clinets$.subscribe(e=>{this.clientes=e,this.clientsInfo=e.clients.map(t=>t.title).join(", "),this.spinnerService.emitFooterLoadedDta(!0)})}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-clients"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"title"],[1,"empty"],[1,"info"],[1,"clientImages"],[3,"src",4,"ngFor","ngForOf"],[1,"text"],[3,"src"]],template:function(t,r){t&1&&De(0,vU,11,3,"ng-container",0),t&2&&ee("ngIf",r.clientes)},dependencies:[At,Ze],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:15% 25% 60%;grid-template-rows:100%}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:rows}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:left}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(1);opacity:.25;max-height:70px;max-width:120px;margin:5px}","@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)){[_nghost-%COMP%]{grid-template-columns:23% 77%;max-width:100%;display:grid}[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;max-width:50px}}","@media only screen and ((min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait)){[_nghost-%COMP%]{grid-template-columns:20% 0% 80%}}"]})};var Sh=class n extends Pt{constructor(){super("nosotros")}get clinets$(){return this.getFirst()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function _U(n,e){if(n&1&&(P(0,"span")(1,"p"),V(2),N()()),n&2){let t=e.$implicit;$(2),je(t)}}function IU(n,e){if(n&1&&(pt(0),P(1,"div",1)(2,"p"),V(3),N(),P(4,"p"),V(5,"Contact"),N()(),Y(6,"app-contact"),P(7,"div",2),De(8,_U,3,1,"span",3),P(9,"div",4),Y(10,"app-contact"),N()(),gt()),n&2){let t=Pe();$(3),je(t.nosotros.title),$(5),ee("ngForOf",t.nosotros.descriptions)}}var Ah=class n{nosotros;nosotrosServices=M(Sh);sub=new Te;ngOnDestroy(){this.sub.unsubscribe()}ngOnInit(){this.sub=this.nosotrosServices.clinets$.subscribe(e=>{this.nosotros=e})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-nosotros"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"title"],[1,"descripcion"],[4,"ngFor","ngForOf"],[1,"contactDevice"]],template:function(t,r){t&1&&De(0,IU,11,2,"ng-container",0),t&2&&ee("ngIf",r.nosotros)},dependencies:[Ze,At,ds],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:20% 20% 60%;grid-template-rows:100%}[_nghost-%COMP%]   .descripcion[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;overflow-wrap:break-word;padding-bottom:60px;line-height:1.2}[_nghost-%COMP%]   .descripcion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .contactDevice[_ngcontent-%COMP%]   app-contact[_ngcontent-%COMP%]{display:none}","@media only screen and (max-device-width: 767px) and ((orientation: portrait) or (orientation: landscape)){[_nghost-%COMP%]{grid-template-columns:25% 75%}[_nghost-%COMP%]   .contactDevice[_ngcontent-%COMP%]   app-contact[_ngcontent-%COMP%]{display:block;padding-top:10px}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{justify-self:start;width:60%}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}[_nghost-%COMP%]   app-contact[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .descripcion[_ngcontent-%COMP%]{padding:0;margin:0 0 10px}}"]})};var Mh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-footer"]],decls:3,vars:0,template:function(t,r){t&1&&(P(0,"footer"),Y(1,"app-nosotros")(2,"app-clients"),N())},dependencies:[Dh,Ah],styles:["footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.5;margin-left:10px;margin-right:10px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:1px}footer[_ngcontent-%COMP%]:first-child{border-top:.5mm solid rgb(207,207,207)}footer[_ngcontent-%COMP%]:last-child{border-bottom:none}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]{padding:5px 10px 10px 0}footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]{border-top:.5mm solid rgb(207,207,207);padding:10px 10px 10px 0}","@media (max-device-width: 767px) or ((max-device-height: 767px)){footer[_ngcontent-%COMP%]{padding-bottom:20px}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]{padding:5px 5px 5px 0;grid-template-columns:25% 1fr}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   .contactDevice[_ngcontent-%COMP%]{display:block}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{justify-self:start;width:60%}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   app-contact[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{padding:0;margin:0 0 10px}footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]{padding:5px;padding-top:50;grid-template-columns:25% 75%}footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;max-width:50px}}","@media only screen and ((min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait)){footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]{grid-template-columns:20% 0% 80%;padding-top:0}}"]})};function wU(n,e){n&1&&(P(0,"div",1)(1,"div",2),Y(2,"div",3),N()())}var Rh=class n{isLoading=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-spinner"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner-container"],[1,"spinner"]],template:function(t,r){t&1&&De(0,wU,3,0,"div",0),t&2&&ee("ngIf",r.isLoading)},dependencies:[Ze],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#fff;display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top-color:#3f51b5;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}.spinner-text[_ngcontent-%COMP%]{color:#333;font-size:1rem;font-weight:500}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};var Ph=class n{title="gm-web";shouldShowSpinner;showSpinner$;spinnerSubscription;spinnerService=M(Zt);constructor(){this.showSpinner$=this.spinnerService.showSpinner$}ngOnDestroy(){this.spinnerSubscription.unsubscribe()}ngOnInit(){this.spinnerSubscription=this.showSpinner$.subscribe(e=>this.shouldShowSpinner=e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=xe({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[3,"isLoading"]],template:function(t,r){t&1&&Y(0,"app-header")(1,"router-outlet")(2,"app-footer")(3,"app-spinner",0),t&2&&($(3),ee("isLoading",r.shouldShowSpinner))},dependencies:[Ta,Th,Mh,Rh],encapsulation:2})};Vg(Ph,sA).catch(n=>console.error(n));
