var Nx=Object.defineProperty,xx=Object.defineProperties;var kx=Object.getOwnPropertyDescriptors;var nu=Object.getOwnPropertySymbols;var Pb=Object.prototype.hasOwnProperty,Mb=Object.prototype.propertyIsEnumerable;var Rb=(n,e,t)=>e in n?Nx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})Pb.call(e,t)&&Rb(n,t,e[t]);if(nu)for(var t of nu(e))Mb.call(e,t)&&Rb(n,t,e[t]);return n},Me=(n,e)=>xx(n,kx(e));var Nb=(n,e)=>{var t={};for(var r in n)Pb.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&nu)for(var r of nu(n))e.indexOf(r)<0&&Mb.call(n,r)&&(t[r]=n[r]);return t};var S=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});function xb(n,e){return Object.is(n,e)}var ht=null,ru=!1,am=1,Ho=Symbol("SIGNAL");function we(n){let e=ht;return ht=n,e}function cm(){return ht}var iu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lm(n){if(ru)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(n);let e=ht.nextProducerIndex++;if(su(ht),e<ht.producerNode.length&&ht.producerNode[e]!==n&&ec(ht)){let t=ht.producerNode[e];ou(t,ht.producerIndexOfThis[e])}ht.producerNode[e]!==n&&(ht.producerNode[e]=n,ht.producerIndexOfThis[e]=ec(ht)?Vb(n,ht,e):0),ht.producerLastReadVersion[e]=n.version}function kb(){am++}function Ob(n){if(!(ec(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===am)){if(!n.producerMustRecompute(n)&&!hm(n)){sm(n);return}n.producerRecomputeValue(n),sm(n)}}function um(n){if(n.liveConsumerNode===void 0)return;let e=ru;ru=!0;try{for(let t of n.liveConsumerNode)t.dirty||Ox(t)}finally{ru=e}}function Fb(){return ht?.consumerAllowSignalWrites!==!1}function Ox(n){n.dirty=!0,um(n),n.consumerMarkedDirty?.(n)}function sm(n){n.dirty=!1,n.lastCleanEpoch=am}function dm(n){return n&&(n.nextProducerIndex=0),we(n)}function Lb(n,e){if(we(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ec(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ou(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function hm(n){su(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Ob(t),r!==t.version))return!0}return!1}function fm(n){if(su(n),ec(n))for(let e=0;e<n.producerNode.length;e++)ou(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Vb(n,e,t){if(jb(n),n.liveConsumerNode.length===0&&Ub(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Vb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ou(n,e){if(jb(n),n.liveConsumerNode.length===1&&Ub(n))for(let r=0;r<n.producerNode.length;r++)ou(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];su(i),i.producerIndexOfThis[r]=e}}function ec(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function su(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function jb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Ub(n){return n.producerNode!==void 0}function Fx(){throw new Error}var Bb=Fx;function Lx(n){Bb(n)}function pm(n){Bb=n}var Vx=null;function mm(n,e){Fb()||Lx(n),n.equal(n.value,e)||(n.value=e,jx(n))}var gm=Me(U({},iu),{equal:xb,value:void 0,kind:"signal"});function jx(n){n.version++,kb(),um(n),Vx?.()}function ym(n){let e=we(null);try{return n()}finally{we(e)}}var vm;function tc(){return vm}function Ir(n){let e=vm;return vm=n,e}var au=Symbol("NotFound");function ce(n){return typeof n=="function"}function zo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var cu=zo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ji(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof cu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$b(o)}catch(s){e=e??[],s instanceof cu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$b(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ji(t,e)}remove(e){let{_finalizers:t}=this;t&&ji(t,e),e instanceof n&&e._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();var _m=Ve.EMPTY;function lu(n){return n instanceof Ve||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function $b(n){ce(n)?n():n.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qo={setTimeout(n,e,...t){let{delegate:r}=qo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=qo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function uu(n){qo.setTimeout(()=>{let{onUnhandledError:e}=Tn;if(e)e(n);else throw n})}function nc(){}var Hb=Em("C",void 0,void 0);function zb(n){return Em("E",void 0,n)}function qb(n){return Em("N",n,void 0)}function Em(n,e,t){return{kind:n,value:e,error:t}}var Ui=null;function Go(n){if(Tn.useDeprecatedSynchronousErrorHandling){let e=!Ui;if(e&&(Ui={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ui;if(Ui=null,t)throw r}}else n()}function Gb(n){Tn.useDeprecatedSynchronousErrorHandling&&Ui&&(Ui.errorThrown=!0,Ui.error=n)}var Bi=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lu(e)&&e.add(this)):this.destination=Kx}static create(e,t,r){return new Cn(e,t,r)}next(e){this.isStopped?Im(qb(e),this):this._next(e)}error(e){this.isStopped?Im(zb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Im(Hb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Gx=Function.prototype.bind;function wm(n,e){return Gx.call(n,e)}var bm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){du(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){du(r)}else du(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){du(t)}}},Cn=class extends Bi{constructor(e,t,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wm(e.next,o),error:e.error&&wm(e.error,o),complete:e.complete&&wm(e.complete,o)}):i=e}this.destination=new bm(i)}};function du(n){Tn.useDeprecatedSynchronousErrorHandling?Gb(n):uu(n)}function Wx(n){throw n}function Im(n,e){let{onStoppedNotification:t}=Tn;t&&qo.setTimeout(()=>t(n,e))}var Kx={closed:!0,next:nc,error:Wx,complete:nc};var Wo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(n){return n}function hu(...n){return Tm(n)}function Tm(n){return n.length===0?rn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Yx(t)?t:new Cn(t,r,i);return Go(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Wb(r),new r((i,o)=>{let s=new Cn({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Wo](){return this}pipe(...t){return Tm(t)(this)}toPromise(t){return t=Wb(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Wb(n){var e;return(e=n??Tn.Promise)!==null&&e!==void 0?e:Promise}function Qx(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function Yx(n){return n&&n instanceof Bi||Qx(n)&&lu(n)}function Cm(n){return ce(n?.lift)}function Ee(n){return e=>{if(Cm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new Sm(n,e,t,r,i)}var Sm=class extends Bi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ko(){return Ee((n,e)=>{let t=null;n._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Qo=class extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Cm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return Ko()(this)}};var Kb=zo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new fu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Kb}next(t){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_m:(this.currentObservers=null,o.push(t),new Ve(()=>{this.currentObservers=null,ji(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new fu(e,t),n})(),fu=class extends Ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:_m}};var We=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var rc={now(){return(rc.delegate||Date).now()},delegate:void 0};var ic=class extends Ue{constructor(e=1/0,t=1/0,r=rc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var pu=class extends Ve{constructor(e,t){super()}schedule(e,t=0){return this}};var oc={setInterval(n,e,...t){let{delegate:r}=oc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=oc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Yo=class extends pu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return oc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&oc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ji(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Zo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Zo.now=rc.now;var Jo=class extends Zo{constructor(e,t=Zo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Dm=new Jo(Yo);var mu=class extends Yo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var gu=class extends Jo{};var Am=new gu(mu);var At=new le(n=>n.complete());function Qb(n){return n&&ce(n.schedule)}function Yb(n){return n[n.length-1]}function Xo(n){return ce(Yb(n))?n.pop():void 0}function ri(n){return Qb(Yb(n))?n.pop():void 0}function Rm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Jb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function Zb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $i(n){return this instanceof $i?(this.v=n,this):new $i(n)}function Xb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(w){return Promise.resolve(w).then(g,p)}}function a(g,w){r[g]&&(i[g]=function(A){return new Promise(function(M,V){o.push([g,A,M,V])>1||l(g,A)})},w&&(i[g]=w(i[g])))}function l(g,w){try{u(r[g](w))}catch(A){y(o[0][3],A)}}function u(g){g.value instanceof $i?Promise.resolve(g.value.v).then(h,p):y(o[0][2],g)}function h(g){l("next",g)}function p(g){l("throw",g)}function y(g,w){g(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function eT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Zb=="function"?Zb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var yu=n=>n&&typeof n.length=="number"&&typeof n!="function";function vu(n){return ce(n?.then)}function _u(n){return ce(n[Wo])}function Eu(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function wu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Zx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Iu=Zx();function bu(n){return ce(n?.[Iu])}function Tu(n){return Xb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield $i(t.read());if(i)return yield $i(void 0);yield yield $i(r)}}finally{t.releaseLock()}})}function Cu(n){return ce(n?.getReader)}function Ge(n){if(n instanceof le)return n;if(n!=null){if(_u(n))return Jx(n);if(yu(n))return Xx(n);if(vu(n))return ek(n);if(Eu(n))return tT(n);if(bu(n))return tk(n);if(Cu(n))return nk(n)}throw wu(n)}function Jx(n){return new le(e=>{let t=n[Wo]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Xx(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ek(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,uu)})}function tk(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function tT(n){return new le(e=>{rk(n,e).catch(t=>e.error(t))})}function nk(n){return tT(Tu(n))}function rk(n,e){var t,r,i,o;return Jb(this,void 0,void 0,function*(){try{for(t=eT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ht(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ii(n,e=0){return Ee((t,r)=>{t.subscribe(me(r,i=>Ht(r,n,()=>r.next(i),e),()=>Ht(r,n,()=>r.complete(),e),i=>Ht(r,n,()=>r.error(i),e)))})}function oi(n,e=0){return Ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nT(n,e){return Ge(n).pipe(oi(e),ii(e))}function rT(n,e){return Ge(n).pipe(oi(e),ii(e))}function iT(n,e){return new le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function oT(n,e){return new le(t=>{let r;return Ht(t,e,()=>{r=n[Iu](),Ht(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function Su(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{Ht(t,e,()=>{let r=n[Symbol.asyncIterator]();Ht(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function sT(n,e){return Su(Tu(n),e)}function aT(n,e){if(n!=null){if(_u(n))return nT(n,e);if(yu(n))return iT(n,e);if(vu(n))return rT(n,e);if(Eu(n))return Su(n,e);if(bu(n))return oT(n,e);if(Cu(n))return sT(n,e)}throw wu(n)}function Ne(n,e){return e?aT(n,e):Ge(n)}function re(...n){let e=ri(n);return Ne(n,e)}function es(n,e){let t=ce(n)?n:()=>n,r=i=>i.error(t());return new le(e?i=>e.schedule(r,0,i):r)}function Pm(n){return!!n&&(n instanceof le||ce(n.lift)&&ce(n.subscribe))}var Sn=zo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function on(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Cn({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Sn)}});n.subscribe(o)})}function K(n,e){return Ee((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:ik}=Array;function ok(n,e){return ik(e)?n(...e):n(e)}function Du(n){return K(e=>ok(n,e))}var{isArray:sk}=Array,{getPrototypeOf:ak,prototype:ck,keys:lk}=Object;function Au(n){if(n.length===1){let e=n[0];if(sk(e))return{args:e,keys:null};if(uk(e)){let t=lk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function uk(n){return n&&typeof n=="object"&&ak(n)===ck}function Ru(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Hi(...n){let e=ri(n),t=Xo(n),{args:r,keys:i}=Au(n);if(r.length===0)return Ne([],e);let o=new le(dk(r,e,i?s=>Ru(i,s):rn));return t?o.pipe(Du(t)):o}function dk(n,e,t=rn){return r=>{cT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)cT(e,()=>{let u=Ne(n[l],e),h=!1;u.subscribe(me(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function cT(n,e,t){n?Ht(t,n,e):e()}function lT(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,p=!1,y=()=>{p&&!l.length&&!u&&e.complete()},g=A=>u<r?w(A):l.push(A),w=A=>{o&&e.next(A),u++;let M=!1;Ge(t(A,h++)).subscribe(me(e,V=>{i?.(V),o?g(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;l.length&&u<r;){let V=l.shift();s?Ht(e,s,()=>w(V)):w(V)}y()}catch(V){e.error(V)}}))};return n.subscribe(me(e,g,()=>{p=!0,y()})),()=>{a?.()}}function nt(n,e,t=1/0){return ce(e)?nt((r,i)=>K((o,s)=>e(r,o,i,s))(Ge(n(r,i))),t):(typeof e=="number"&&(t=e),Ee((r,i)=>lT(r,i,n,t)))}function ts(n=1/0){return nt(rn,n)}function uT(){return ts(1)}function ns(...n){return uT()(Ne(n,ri(n)))}function Pu(n){return new le(e=>{Ge(n()).subscribe(e)})}function sc(...n){let e=Xo(n),{args:t,keys:r}=Au(n),i=new le(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;Ge(t[h]).subscribe(me(o,y=>{p||(p=!0,u--),a[h]=y},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?Ru(r,a):a),o.complete())}))}});return e?i.pipe(Du(e)):i}var{isArray:hk}=Array;function dT(n){return n.length===1&&hk(n[0])?n[0]:n}function pt(n,e){return Ee((t,r)=>{let i=0;t.subscribe(me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Mm(...n){let e=Xo(n),t=dT(n);return t.length?new le(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<t.length;s++)Ge(t[s]).subscribe(me(r,a=>{if(i[s].push(a),i.every(l=>l.length)){let l=i.map(u=>u.shift());r.next(e?e(...l):l),i.some((u,h)=>!u.length&&o[h])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):At}function br(n){return Ee((e,t)=>{let r=null,i=!1,o;r=e.subscribe(me(t,void 0,void 0,s=>{o=Ge(n(s,br(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function hT(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(me(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function si(n,e){return ce(e)?nt(n,e,1):nt(n,1)}function ai(n){return Ee((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Tr(n){return n<=0?()=>At:Ee((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Mu(n=fk){return Ee((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fk(){return new Sn}function ac(n){return Ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Cr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pt((i,o)=>n(i,o,r)):rn,Tr(1),t?ai(e):Mu(()=>new Sn))}function rs(n){return n<=0?()=>At:Ee((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Nm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pt((i,o)=>n(i,o,r)):rn,rs(1),t?ai(e):Mu(()=>new Sn))}function Nu(n,e){return Ee(hT(n,e,arguments.length>=2,!0))}function fT(n={}){let{connector:e=()=>new Ue,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,u=0,h=!1,p=!1,y=()=>{a?.unsubscribe(),a=void 0},g=()=>{y(),s=l=void 0,h=p=!1},w=()=>{let A=s;g(),A?.unsubscribe()};return Ee((A,M)=>{u++,!p&&!h&&y();let V=l=l??e();M.add(()=>{u--,u===0&&!p&&!h&&(a=xm(w,i))}),V.subscribe(M),!s&&u>0&&(s=new Cn({next:Y=>V.next(Y),error:Y=>{p=!0,y(),a=xm(g,t,Y),V.error(Y)},complete:()=>{h=!0,y(),a=xm(g,r),V.complete()}}),Ge(A).subscribe(s))})(o)}}function xm(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Cn({next:()=>{r.unsubscribe(),n()}});return Ge(e(...t)).subscribe(r)}function xu(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,fT({connector:()=>new ic(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ku(...n){let e=ri(n);return Ee((t,r)=>{(e?ns(n,t,e):ns(n,t)).subscribe(r)})}function mt(n,e){return Ee((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(me(r,l=>{i?.unsubscribe();let u=0,h=o++;Ge(n(l,h)).subscribe(i=me(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function km(n){return Ee((e,t)=>{Ge(n).subscribe(me(t,()=>t.complete(),nc)),!t.closed&&e.subscribe(t)})}function Be(n,e,t){let r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):rn}var oC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",O=class extends Error{code;constructor(e,t){super(Gg(e,t)),this.code=e}};function pk(n){return`NG0${Math.abs(n)}`}function Gg(n,e){return`${pk(n)}${e?": "+e:""}`}var sC=Symbol("InputSignalNode#UNSET"),mk=Me(U({},gm),{transformFn:void 0,applyValueToInputSignal(n,e){mm(n,e)}});function aC(n,e){let t=Object.create(mk);t.value=n,t.transformFn=e?.transform;function r(){if(lm(t),t.value===sC){let i=null;throw new O(-950,i)}return t.value}return r[Ho]=t,r}function yc(n){return{toString:n}.toString()}var Ou="__parameters__";function gk(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function cC(n,e,t){return yc(()=>{let r=gk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(Ou)?l[Ou]:Object.defineProperty(l,Ou,{value:[]})[Ou];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var us=globalThis;function je(n){for(let e in n)if(n[e]===je)return e;throw Error("Could not find renamed property on target object.")}function Gt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Gt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function pT(n,e){return n?e?`${n} ${e}`:n:e||""}var yk=je({__forward_ref__:je});function lC(n){return n.__forward_ref__=lC,n.toString=function(){return Gt(this())},n}function pn(n){return uC(n)?n():n}function uC(n){return typeof n=="function"&&n.hasOwnProperty(yk)&&n.__forward_ref__===lC}function F(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Es(n){return{providers:n.providers||[],imports:n.imports||[]}}function md(n){return mT(n,hC)||mT(n,fC)}function dC(n){return md(n)!==null}function mT(n,e){return n.hasOwnProperty(e)?n[e]:null}function vk(n){let e=n&&(n[hC]||n[fC]);return e||null}function gT(n){return n&&(n.hasOwnProperty(yT)||n.hasOwnProperty(_k))?n[yT]:null}var hC=je({\u0275prov:je}),yT=je({\u0275inj:je}),fC=je({ngInjectableDef:je}),_k=je({ngInjectorDef:je}),Q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=F({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pC(n){return n&&!!n.\u0275providers}var Ek=je({\u0275cmp:je}),wk=je({\u0275dir:je}),Ik=je({\u0275pipe:je}),bk=je({\u0275mod:je}),Gu=je({\u0275fac:je}),dc=je({__NG_ELEMENT_ID__:je}),vT=je({__NG_ENV_ID__:je});function Wg(n){return typeof n=="string"?n:n==null?"":String(n)}function Tk(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Wg(n)}function mC(n,e){throw new O(-200,n)}function Kg(n,e){throw new O(-201,!1)}var fe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(fe||{}),qm;function gC(){return qm}function zt(n){let e=qm;return qm=n,e}function yC(n,e,t){let r=md(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&fe.Optional)return null;if(e!==void 0)return e;Kg(n,"Injector")}var Ck={},zi=Ck,Gm="__NG_DI_FLAG__",Wu=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?au:zi,r)}},Ku="ngTempTokenPath",Sk="ngTokenPath",Dk=/\n/gm,Ak="\u0275",_T="__source";function Rk(n,e=fe.Default){if(tc()===void 0)throw new O(-203,!1);if(tc()===null)return yC(n,void 0,e);{let t=tc(),r;return t instanceof Wu?r=t.injector:r=t,r.get(n,e&fe.Optional?null:void 0,e)}}function X(n,e=fe.Default){return(gC()||Rk)(pn(n),e)}function R(n,e=fe.Default){return X(n,gd(e))}function gd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Wm(n){let e=[];for(let t=0;t<n.length;t++){let r=pn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=fe.Default;for(let s=0;s<r.length;s++){let a=r[s],l=Pk(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(X(i,o))}else e.push(X(r))}return e}function vC(n,e){return n[Gm]=e,n.prototype[Gm]=e,n}function Pk(n){return n[Gm]}function Mk(n,e,t,r){let i=n[Ku];throw e[_T]&&i.unshift(e[_T]),n.message=Nk(`
`+n.message,i,t,r),n[Sk]=i,n[Ku]=null,n}function Nk(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Ak?n.slice(2):n;let i=Gt(e);if(Array.isArray(e))i=e.map(Gt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Gt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Dk,`
  `)}`}var jt=vC(cC("Optional"),8);var xk=vC(cC("SkipSelf"),4);function Gi(n,e){let t=n.hasOwnProperty(Gu);return t?n[Gu]:null}function kk(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Ok(n){return n.flat(Number.POSITIVE_INFINITY)}function Qg(n,e){n.forEach(t=>Array.isArray(t)?Qg(t,e):e(t))}function _C(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Fk(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Lk(n,e,t){let r=vc(n,e);return r>=0?n[r|1]=t:(r=~r,Fk(n,r,e,t)),r}function Om(n,e){let t=vc(n,e);if(t>=0)return n[t|1]}function vc(n,e){return Vk(n,e,1)}function Vk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ds={},An=[],hs=new Q(""),EC=new Q("",-1),wC=new Q(""),Yu=class{get(e,t=zi){if(t===zi){let r=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw r.name="NullInjectorError",r}return t}};function IC(n,e){let t=n[bk]||null;if(!t&&e===!0)throw new Error(`Type ${Gt(n)} does not have '\u0275mod' property.`);return t}function Wi(n){return n[Ek]||null}function jk(n){return n[wk]||null}function Uk(n){return n[Ik]||null}function Yn(n){return{\u0275providers:n}}function Bk(...n){return{\u0275providers:bC(!0,n),\u0275fromNgModule:!0}}function bC(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Qg(e,s=>{let a=s;Km(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&TC(i,o),t}function TC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Yg(i,o=>{e(o,r)})}}function Km(n,e,t,r){if(n=pn(n),!n)return!1;let i=null,o=gT(n),s=!o&&Wi(n);if(!o&&!s){let l=n.ngModule;if(o=gT(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Km(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Qg(o.imports,h=>{Km(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&TC(u,e)}if(!a){let u=Gi(i)||(()=>new i);e({provide:i,useFactory:u,deps:An},i),e({provide:wC,useValue:i,multi:!0},i),e({provide:hs,useValue:()=>X(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;Yg(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Yg(n,e){for(let t of n)pC(t)&&(t=t.\u0275providers),Array.isArray(t)?Yg(t,e):e(t)}var $k=je({provide:String,useValue:je});function CC(n){return n!==null&&typeof n=="object"&&$k in n}function Hk(n){return!!(n&&n.useExisting)}function zk(n){return!!(n&&n.useFactory)}function Qm(n){return typeof n=="function"}var yd=new Q(""),Uu={},ET={},Fm;function Zg(){return Fm===void 0&&(Fm=new Yu),Fm}var Rt=class{},hc=class extends Rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Zm(e,s=>this.processProvider(s)),this.records.set(EC,is(void 0,this)),i.has("environment")&&this.records.set(Rt,is(void 0,this));let o=this.records.get(yd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wC,An,fe.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?au:zi,r)}destroy(){lc(this),this._destroyed=!0;let e=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return lc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){lc(this);let t=Ir(this),r=zt(void 0),i;try{return e()}finally{Ir(t),zt(r)}}get(e,t=zi,r=fe.Default){if(lc(this),e.hasOwnProperty(vT))return e[vT](this);r=gd(r);let i,o=Ir(this),s=zt(void 0);try{if(!(r&fe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=Yk(e)&&md(e);u&&this.injectableDefInScope(u)?l=is(Ym(e),Uu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&fe.Self?Zg():this.parent;return t=r&fe.Optional&&t===zi?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ku]=a[Ku]||[]).unshift(Gt(e)),o)throw a;return Mk(a,e,"R3InjectorError",this.source)}else throw a}finally{zt(s),Ir(o)}}resolveInjectorInitializers(){let e=we(null),t=Ir(this),r=zt(void 0),i;try{let o=this.get(hs,An,fe.Self);for(let s of o)s()}finally{Ir(t),zt(r),we(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Gt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=pn(e);let t=Qm(e)?e:pn(e&&e.provide),r=Gk(e);if(!Qm(e)&&e.multi===!0){let i=this.records.get(t);i||(i=is(void 0,Uu,!0),i.factory=()=>Wm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=we(null);try{return t.value===ET?mC(Gt(e)):t.value===Uu&&(t.value=ET,t.value=t.factory()),typeof t.value=="object"&&t.value&&Qk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{we(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=pn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ym(n){let e=md(n),t=e!==null?e.factory:Gi(n);if(t!==null)return t;if(n instanceof Q)throw new O(204,!1);if(n instanceof Function)return qk(n);throw new O(204,!1)}function qk(n){if(n.length>0)throw new O(204,!1);let t=vk(n);return t!==null?()=>t.factory(n):()=>new n}function Gk(n){if(CC(n))return is(void 0,n.useValue);{let e=Wk(n);return is(e,Uu)}}function Wk(n,e,t){let r;if(Qm(n)){let i=pn(n);return Gi(i)||Ym(i)}else if(CC(n))r=()=>pn(n.useValue);else if(zk(n))r=()=>n.useFactory(...Wm(n.deps||[]));else if(Hk(n))r=()=>X(pn(n.useExisting));else{let i=pn(n&&(n.useClass||n.provide));if(Kk(n))r=()=>new i(...Wm(n.deps));else return Gi(i)||Ym(i)}return r}function lc(n){if(n.destroyed)throw new O(205,!1)}function is(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Kk(n){return!!n.deps}function Qk(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Yk(n){return typeof n=="function"||typeof n=="object"&&n instanceof Q}function Zm(n,e){for(let t of n)Array.isArray(t)?Zm(t,e):t&&pC(t)?Zm(t.\u0275providers,e):e(t)}function Mt(n,e){let t;n instanceof hc?(lc(n),t=n):t=new Wu(n);let r,i=Ir(t),o=zt(void 0);try{return e()}finally{Ir(i),zt(o)}}function SC(){return gC()!==void 0||tc()!=null}function Jg(n){if(!SC())throw new O(-203,!1)}function Zk(n){return typeof n=="function"}var Pr=0,ge=1,oe=2,Pt=3,Rn=4,Pn=5,Zu=6,Ju=7,Wt=8,fs=9,Sr=10,gt=11,fc=12,wT=13,ws=14,qn=15,Ki=16,os=17,Dr=18,vd=19,DC=20,ci=21,Lm=22,Xu=23,mn=24,cs=25,an=26,AC=1;var Qi=7,ed=8,ps=9,sn=10;function li(n){return Array.isArray(n)&&typeof n[AC]=="object"}function Mr(n){return Array.isArray(n)&&n[AC]===!0}function Xg(n){return(n.flags&4)!==0}function Is(n){return n.componentOffset>-1}function _d(n){return(n.flags&1)===1}function no(n){return!!n.template}function td(n){return(n[oe]&512)!==0}function _c(n){return(n[oe]&256)===256}var Jm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function RC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ed=(()=>{let n=()=>PC;return n.ngInherit=!0,n})();function PC(n){return n.type.prototype.ngOnChanges&&(n.setInput=Xk),Jk}function Jk(){let n=NC(this),e=n?.current;if(e){let t=n.previous;if(t===ds)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Xk(n,e,t,r,i){let o=this.declaredInputs[r],s=NC(n)||eO(n,{previous:ds,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Jm(u&&u.currentValue,t,l===ds),RC(n,e,i,t)}var MC="__ngSimpleChanges__";function NC(n){return n[MC]||null}function eO(n,e){return n[MC]=e}var IT=null;var ke=function(n,e=null,t){IT?.(n,e,t)},xC="svg",tO="math";function Gn(n){for(;Array.isArray(n);)n=n[Pr];return n}function kC(n,e){return Gn(e[n])}function Nr(n,e){return Gn(e[n.index])}function OC(n,e){return n.data[e]}function FC(n,e){return n[e]}function Wn(n,e){let t=e[n];return li(t)?t:t[Pr]}function nO(n){return(n[oe]&4)===4}function ey(n){return(n[oe]&128)===128}function rO(n){return Mr(n[Pt])}function ms(n,e){return e==null?null:n[e]}function LC(n){n[os]=0}function VC(n){n[oe]&1024||(n[oe]|=1024,ey(n)&&Ec(n))}function iO(n,e){for(;n>0;)e=e[ws],n--;return e}function wd(n){return!!(n[oe]&9216||n[mn]?.dirty)}function Xm(n){n[Sr].changeDetectionScheduler?.notify(8),n[oe]&64&&(n[oe]|=1024),wd(n)&&Ec(n)}function Ec(n){n[Sr].changeDetectionScheduler?.notify(0);let e=Yi(n);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!ey(e)));)e=Yi(e)}function jC(n,e){if(_c(n))throw new O(911,!1);n[ci]===null&&(n[ci]=[]),n[ci].push(e)}function oO(n,e){if(n[ci]===null)return;let t=n[ci].indexOf(e);t!==-1&&n[ci].splice(t,1)}function Yi(n){let e=n[Pt];return Mr(e)?e[Pt]:e}function ty(n){return n[Ju]??=[]}function ny(n){return n.cleanup??=[]}function sO(n,e,t,r){let i=ty(e);i.push(t),n.firstCreatePass&&ny(n).push(r,i.length-1)}var he={lFrame:KC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eg=!1;function aO(){return he.lFrame.elementDepthCount}function cO(){he.lFrame.elementDepthCount++}function lO(){he.lFrame.elementDepthCount--}function ry(){return he.bindingsEnabled}function uO(){return he.skipHydrationRootTNode!==null}function dO(n){return he.skipHydrationRootTNode===n}function hO(){he.skipHydrationRootTNode=null}function xe(){return he.lFrame.lView}function Kt(){return he.lFrame.tView}function Zn(n){return he.lFrame.contextLView=n,n[Wt]}function Jn(n){return he.lFrame.contextLView=null,n}function gn(){let n=UC();for(;n!==null&&n.type===64;)n=n.parent;return n}function UC(){return he.lFrame.currentTNode}function fO(){let n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ro(n,e){let t=he.lFrame;t.currentTNode=n,t.isParent=e}function iy(){return he.lFrame.isParent}function BC(){he.lFrame.isParent=!1}function pO(){return he.lFrame.contextLView}function $C(){return eg}function bT(n){let e=eg;return eg=n,e}function HC(){let n=he.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mO(n){return he.lFrame.bindingIndex=n}function zC(){return he.lFrame.bindingIndex++}function gO(n){let e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function yO(){return he.lFrame.inI18n}function vO(n,e){let t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,tg(e)}function _O(){return he.lFrame.currentDirectiveIndex}function tg(n){he.lFrame.currentDirectiveIndex=n}function EO(n){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qC(){return he.lFrame.currentQueryIndex}function oy(n){he.lFrame.currentQueryIndex=n}function wO(n){let e=n[ge];return e.type===2?e.declTNode:e.type===1?n[Pn]:null}function GC(n,e,t){if(t&fe.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&fe.Host);)if(i=wO(o),i===null||(o=o[ws],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=he.lFrame=WC();return r.currentTNode=e,r.lView=n,!0}function sy(n){let e=WC(),t=n[ge];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WC(){let n=he.lFrame,e=n===null?null:n.child;return e===null?KC(n):e}function KC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function QC(){let n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var YC=QC;function ay(){let n=QC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IO(n){return(he.lFrame.contextLView=iO(n,he.lFrame.contextLView))[Wt]}function bs(){return he.lFrame.selectedIndex}function Zi(n){he.lFrame.selectedIndex=n}function ZC(){let n=he.lFrame;return OC(n.tView,n.selectedIndex)}function JC(){he.lFrame.currentNamespace=xC}function bO(){return he.lFrame.currentNamespace}var XC=!0;function Id(){return XC}function bd(n){XC=n}function TO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=PC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function cy(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Bu(n,e,t){e0(n,e,3,t)}function $u(n,e,t,r){(n[oe]&3)===t&&e0(n,e,t,r)}function Vm(n,e){let t=n[oe];(t&3)===e&&(t&=16383,t+=1,n[oe]=t)}function e0(n,e,t,r){let i=r!==void 0?n[os]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[os]+=65536),(a<o||o==-1)&&(CO(n,t,e,l),n[os]=(n[os]&4294901760)+l+2),l++}function TT(n,e){ke(4,n,e);let t=we(null);try{e.call(n)}finally{we(t),ke(5,n,e)}}function CO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[oe]>>14<n[os]>>16&&(n[oe]&3)===e&&(n[oe]+=16384,TT(a,o)):TT(a,o)}var ls=-1,pc=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function SO(n){return(n.flags&8)!==0}function DO(n){return(n.flags&16)!==0}function AO(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];PO(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function RO(n){return n===3||n===4||n===6}function PO(n){return n.charCodeAt(0)===64}function Td(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?CT(n,t,i,null,e[++r]):CT(n,t,i,null,null))}}return n}function CT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function t0(n){return n!==ls}function nd(n){return n&32767}function MO(n){return n>>16}function rd(n,e){let t=MO(n),r=e;for(;t>0;)r=r[ws],t--;return r}var ng=!0;function id(n){let e=ng;return ng=n,e}var NO=256,n0=NO-1,r0=5,xO=0,zn={};function kO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(dc)&&(r=t[dc]),r==null&&(r=t[dc]=xO++);let i=r&n0,o=1<<i;e.data[n+(i>>r0)]|=o}function i0(n,e){let t=o0(n,e);if(t!==-1)return t;let r=e[ge];r.firstCreatePass&&(n.injectorIndex=e.length,jm(r.data,n),jm(e,null),jm(r.blueprint,null));let i=ly(n,e),o=n.injectorIndex;if(t0(i)){let s=nd(i),a=rd(i,e),l=a[ge].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function jm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function o0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ly(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=u0(i),r===null)return ls;if(t++,i=i[ws],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ls}function OO(n,e,t){kO(n,e,t)}function s0(n,e,t){if(t&fe.Optional||n!==void 0)return n;Kg(e,"NodeInjector")}function a0(n,e,t,r){if(t&fe.Optional&&r===void 0&&(r=null),(t&(fe.Self|fe.Host))===0){let i=n[fs],o=zt(void 0);try{return i?i.get(e,r,t&fe.Optional):yC(e,r,t&fe.Optional)}finally{zt(o)}}return s0(r,e,t)}function c0(n,e,t,r=fe.Default,i){if(n!==null){if(e[oe]&2048&&!(r&fe.Self)){let s=jO(n,e,t,r,zn);if(s!==zn)return s}let o=l0(n,e,t,r,zn);if(o!==zn)return o}return a0(e,t,r,i)}function l0(n,e,t,r,i){let o=LO(t);if(typeof o=="function"){if(!GC(e,n,r))return r&fe.Host?s0(i,t,r):a0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&fe.Optional))Kg(t);else return s}finally{YC()}}else if(typeof o=="number"){let s=null,a=o0(n,e),l=ls,u=r&fe.Host?e[qn][Pn]:null;for((a===-1||r&fe.SkipSelf)&&(l=a===-1?ly(n,e):e[a+8],l===ls||!DT(r,!1)?a=-1:(s=e[ge],a=nd(l),e=rd(l,e)));a!==-1;){let h=e[ge];if(ST(o,a,h.data)){let p=FO(a,e,t,s,r,u);if(p!==zn)return p}l=e[a+8],l!==ls&&DT(r,e[ge].data[a+8]===u)&&ST(o,a,e)?(s=h,a=nd(l),e=rd(l,e)):a=-1}}return i}function FO(n,e,t,r,i,o){let s=e[ge],a=s.data[n+8],l=r==null?Is(a)&&ng:r!=s&&(a.type&3)!==0,u=i&fe.Host&&o===a,h=Hu(a,s,t,l,u);return h!==null?od(e,s,h,a):zn}function Hu(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:u;for(let g=p;g<y;g++){let w=s[g];if(g<l&&t===w||g>=l&&w.type===t)return g}if(i){let g=s[l];if(g&&no(g)&&g.type===t)return l}return null}function od(n,e,t,r){let i=n[t],o=e.data;if(i instanceof pc){let s=i;s.resolving&&mC(Tk(o[t]));let a=id(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?zt(s.injectImpl):null,h=GC(n,r,fe.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&TO(t,o[t],e)}finally{u!==null&&zt(u),id(a),s.resolving=!1,YC()}}return i}function LO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(dc)?n[dc]:void 0;return typeof e=="number"?e>=0?e&n0:VO:e}function ST(n,e,t){let r=1<<n;return!!(t[e+(n>>r0)]&r)}function DT(n,e){return!(n&fe.Self)&&!(n&fe.Host&&e)}var qi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return c0(this._tNode,this._lView,e,gd(r),t)}};function VO(){return new qi(gn(),xe())}function uy(n){return yc(()=>{let e=n.prototype.constructor,t=e[Gu]||rg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Gu]||rg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function rg(n){return uC(n)?()=>{let e=rg(pn(n));return e&&e()}:Gi(n)}function jO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!td(s);){let a=l0(o,s,t,r|fe.Self,zn);if(a!==zn)return a;let l=o.parent;if(!l){let u=s[DC];if(u){let h=u.get(t,zn,r);if(h!==zn)return h}l=u0(s),s=s[ws]}o=l}return i}function u0(n){let e=n[ge],t=e.type;return t===2?e.declTNode:t===1?n[Pn]:null}function AT(n,e=null,t=null,r){let i=d0(n,e,t,r);return i.resolveInjectorInitializers(),i}function d0(n,e=null,t=null,r,i=new Set){let o=[t||An,Bk(n)];return r=r||(typeof n=="object"?void 0:Gt(n)),new hc(o,e||Zg(),r||null,i)}var ct=class n{static THROW_IF_NOT_FOUND=zi;static NULL=new Yu;static create(e,t){if(Array.isArray(e))return AT({name:""},t,e,"");{let r=e.name??"";return AT({name:r},e.parent,e.providers,r)}}static \u0275prov=F({token:n,providedIn:"any",factory:()=>X(EC)});static __NG_ELEMENT_ID__=-1};var UO=new Q("");UO.__NG_ELEMENT_ID__=n=>{let e=gn();if(e===null)throw new O(204,!1);if(e.type&2)return e.value;if(n&fe.Optional)return null;throw new O(204,!1)};var h0=!1,Ts=(()=>{class n{static __NG_ELEMENT_ID__=BO;static __NG_ENV_ID__=t=>t}return n})(),ig=class extends Ts{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return jC(this._lView,e),()=>oO(this._lView,e)}};function BO(){return new ig(xe())}var Ji=class{},Cd=new Q("",{providedIn:"root",factory:()=>!1});var f0=new Q(""),p0=new Q(""),io=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new We(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),Sd=(()=>{class n{internalPendingTasks=R(io);scheduler=R(Ji);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return S(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),og=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,SC()&&(this.destroyRef=R(Ts,{optional:!0})??void 0,this.pendingTasks=R(io,{optional:!0})??void 0)}emit(e){let t=we(null);try{super.next(e)}finally{we(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},qt=og;function sd(...n){}function m0(n){let e,t;function r(){n=sd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function RT(n){return queueMicrotask(()=>n()),()=>{n=sd}}var dy="isAngularZone",ad=dy+"_ID",$O=0,Ie=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new qt(!1);onMicrotaskEmpty=new qt(!1);onStable=new qt(!1);onError=new qt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=h0}=e;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,qO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new O(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,HO,sd,sd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},HO={};function hy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){m0(()=>{n.callbackScheduled=!1,sg(n),n.isCheckStableRunning=!0,hy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),sg(n)}function qO(n){let e=()=>{zO(n)},t=$O++;n._inner=n._inner.fork({name:"angular",properties:{[dy]:!0,[ad]:t,[ad+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(GO(l))return r.invokeTask(o,s,a,l);try{return PT(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),MT(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return PT(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!WO(l)&&e(),MT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,sg(n),hy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function sg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function PT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function MT(n){n._nesting--,hy(n)}var ag=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new qt;onMicrotaskEmpty=new qt;onStable=new qt;onError=new qt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function GO(n){return g0(n,"__ignore_ng_zone__")}function WO(n){return g0(n,"__scheduler_tick__")}function g0(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Kn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},KO=new Q("",{providedIn:"root",factory:()=>{let n=R(Ie),e=R(Kn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function NT(n,e){return aC(n,e)}function QO(n){return aC(sC,n)}var y0=(NT.required=QO,NT);function YO(){return Cs(gn(),xe())}function Cs(n,e){return new Xn(Nr(n,e))}var Xn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=YO}return n})();function ZO(n){return n instanceof Xn?n.nativeElement:n}function JO(){return this._results[Symbol.iterator]()}var cg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ue}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=Ok(e);(this._changesDetected=!kk(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=JO};function v0(n){return(n.flags&128)===128}var _0=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(_0||{}),E0=new Map,XO=0;function e1(){return XO++}function t1(n){E0.set(n[vd],n)}function lg(n){E0.delete(n[vd])}var xT="__ngContext__";function Ss(n,e){li(e)?(n[xT]=e[vd],t1(e)):n[xT]=e}function w0(n){return b0(n[fc])}function I0(n){return b0(n[Rn])}function b0(n){for(;n!==null&&!Mr(n);)n=n[Rn];return n}var ug;function T0(n){ug=n}function n1(){if(ug!==void 0)return ug;if(typeof document<"u")return document;throw new O(210,!1)}var fy=new Q("",{providedIn:"root",factory:()=>r1}),r1="ng",py=new Q(""),hi=new Q("",{providedIn:"platform",factory:()=>"unknown"});var my=new Q(""),gy=new Q("",{providedIn:"root",factory:()=>n1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var i1="h",o1="b";var C0=!1,s1=new Q("",{providedIn:"root",factory:()=>C0});var yy=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(yy||{}),Ds=new Q(""),kT=new Set;function As(n){kT.has(n)||(kT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var S0=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=a1}return n})();function a1(){return new S0(xe(),gn())}var ss=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ss||{}),D0=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),c1=[ss.EarlyRead,ss.Write,ss.MixedReadWrite,ss.Read],l1=(()=>{class n{ngZone=R(Ie);scheduler=R(Ji);errorHandler=R(Kn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){R(Ds,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ke(16),this.executing=!0;for(let r of c1)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ke(17)}register(t){let{view:r}=t;r!==void 0?((r[cs]??=[]).push(t),Ec(r),r[oe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(yy.AFTER_NEXT_RENDER,t):t()}static \u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}return n})(),dg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[cs];e&&(this.view[cs]=e.filter(t=>t!==this))}};function vy(n,e){!e?.injector&&Jg(vy);let t=e?.injector??R(ct);return As("NgAfterNextRender"),d1(n,t,e,!0)}function u1(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function d1(n,e,t,r){let i=e.get(D0);i.impl??=e.get(l1);let o=e.get(Ds,null,{optional:!0}),s=t?.phase??ss.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Ts):null,l=e.get(S0,null,{optional:!0}),u=new dg(i.impl,u1(n,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var h1=()=>null;function A0(n,e,t=!1){return h1(n,e,t)}function R0(n,e){let t=n.contentQueries;if(t!==null){let r=we(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];oy(o),a.contentQueries(2,e[s],s)}}}finally{we(r)}}}function hg(n,e,t){oy(0);let r=we(null);try{e(n,t)}finally{we(r)}}function _y(n,e,t){if(Xg(e)){let r=we(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{we(r)}}}var Qn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Qn||{}),Fu;function f1(){if(Fu===void 0&&(Fu=null,us.trustedTypes))try{Fu=us.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Fu}function Dd(n){return f1()?.createHTML(n)||n}var Lu;function p1(){if(Lu===void 0&&(Lu=null,us.trustedTypes))try{Lu=us.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Lu}function OT(n){return p1()?.createScriptURL(n)||n}var Ar=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oC})`}},fg=class extends Ar{getTypeName(){return"HTML"}},pg=class extends Ar{getTypeName(){return"Style"}},mg=class extends Ar{getTypeName(){return"Script"}},gg=class extends Ar{getTypeName(){return"URL"}},yg=class extends Ar{getTypeName(){return"ResourceURL"}};function er(n){return n instanceof Ar?n.changingThisBreaksApplicationSecurity:n}function fi(n,e){let t=m1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${oC})`)}return t===e}function m1(n){return n instanceof Ar&&n.getTypeName()||null}function P0(n){return new fg(n)}function M0(n){return new pg(n)}function N0(n){return new mg(n)}function x0(n){return new gg(n)}function k0(n){return new yg(n)}function g1(n){let e=new _g(n);return y1()?new vg(e):e}var vg=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Dd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},_g=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Dd(e),t}};function y1(){try{return!!new window.DOMParser().parseFromString(Dd(""),"text/html")}catch{return!1}}var v1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ad(n){return n=String(n),n.match(v1)?n:"unsafe:"+n}function xr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function wc(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var O0=xr("area,br,col,hr,img,wbr"),F0=xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),L0=xr("rp,rt"),_1=wc(L0,F0),E1=wc(F0,xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),w1=wc(L0,xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),FT=wc(O0,E1,w1,_1),V0=xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),I1=xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),b1=xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),T1=wc(V0,I1,b1),C1=xr("script,style,template"),Eg=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=A1(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=D1(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=LT(e).toLowerCase();if(!FT.hasOwnProperty(t))return this.sanitizedSomething=!0,!C1.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!T1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;V0[a]&&(l=Ad(l)),this.buf.push(" ",s,'="',VT(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=LT(e).toLowerCase();FT.hasOwnProperty(t)&&!O0.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(VT(e))}};function S1(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function D1(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw j0(e);return e}function A1(n){let e=n.firstChild;if(e&&S1(n,e))throw j0(e);return e}function LT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function j0(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var R1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P1=/([^\#-~ |!])/g;function VT(n){return n.replace(/&/g,"&amp;").replace(R1,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(P1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Vu;function U0(n,e){let t=null;try{Vu=Vu||g1(n);let r=e?String(e):"";t=Vu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Vu.getInertBodyElement(r)}while(r!==o);let a=new Eg().sanitizeChildren(jT(t)||t);return Dd(a)}finally{if(t){let r=jT(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function jT(n){return"content"in n&&M1(n)?n.content:null}function M1(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var tr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(tr||{});function oo(n){let e=B0();return e?e.sanitize(tr.URL,n)||"":fi(n,"URL")?er(n):Ad(Wg(n))}function Ey(n){let e=B0();if(e)return OT(e.sanitize(tr.RESOURCE_URL,n)||"");if(fi(n,"ResourceURL"))return OT(er(n));throw new O(904,!1)}function B0(){let n=xe();return n&&n[Sr].sanitizer}var N1=/^>|^->|<!--|-->|--!>|<!-$/g,x1=/(<|>)/g,k1="\u200B$1\u200B";function O1(n){return n.replace(N1,e=>e.replace(x1,k1))}function $0(n){return n.ownerDocument.defaultView}function H0(n){return n instanceof Function?n():n}function F1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var z0="ng-template";function L1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&F1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(wy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function wy(n){return n.type===4&&n.value!==z0}function V1(n,e,t){let r=n.type===4&&!t?z0:n.value;return e===r}function j1(n,e,t){let r=4,i=n.attrs,o=i!==null?$1(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Dn(r)&&!Dn(l))return!1;if(s&&Dn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!V1(n,l,t)||l===""&&e.length===1){if(Dn(r))return!1;s=!0}}else if(r&8){if(i===null||!L1(n,i,l,t)){if(Dn(r))return!1;s=!0}}else{let u=e[++a],h=U1(l,i,wy(n),t);if(h===-1){if(Dn(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(Dn(r))return!1;s=!0}}}}return Dn(r)||s}function Dn(n){return(n&1)===0}function U1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return H1(e,n)}function B1(n,e,t=!1){for(let r=0;r<e.length;r++)if(j1(n,e[r],t))return!0;return!1}function $1(n){for(let e=0;e<n.length;e++){let t=n[e];if(RO(t))return e}return n.length}function H1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function UT(n,e){return n?":not("+e.trim()+")":e}function z1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dn(s)&&(e+=UT(o,i),i=""),r=s,o=o||!Dn(r);t++}return i!==""&&(e+=UT(o,i)),e}function q1(n){return n.map(z1).join(",")}function G1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Dn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var pi={};function W1(n,e){return n.createText(e)}function K1(n,e,t){n.setValue(e,t)}function Q1(n,e){return n.createComment(O1(e))}function q0(n,e,t){return n.createElement(e,t)}function cd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function G0(n,e,t){n.appendChild(e,t)}function BT(n,e,t,r,i){r!==null?cd(n,e,t,r,i):G0(n,e,t)}function Y1(n,e,t){n.removeChild(null,e,t)}function Z1(n,e,t){n.setAttribute(e,"style",t)}function J1(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function W0(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&AO(n,e,r),i!==null&&J1(n,e,i),o!==null&&Z1(n,e,o)}function Iy(n,e,t,r,i,o,s,a,l,u,h){let p=an+r,y=p+i,g=X1(p,y),w=typeof u=="function"?u():u;return g[ge]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:h}}function X1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:pi);return t}function eF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Iy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function by(n,e,t,r,i,o,s,a,l,u,h){let p=e.blueprint.slice();return p[Pr]=i,p[oe]=r|4|128|8|64|1024,(u!==null||n&&n[oe]&2048)&&(p[oe]|=2048),LC(p),p[Pt]=p[ws]=n,p[Wt]=t,p[Sr]=s||n&&n[Sr],p[gt]=a||n&&n[gt],p[fs]=l||n&&n[fs]||null,p[Pn]=o,p[vd]=e1(),p[Zu]=h,p[DC]=u,p[qn]=e.type==2?n[qn]:p,p}function tF(n,e,t){let r=Nr(e,n),i=eF(t),o=n[Sr].rendererFactory,s=Ty(n,by(n,i,null,K0(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function K0(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Q0(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ty(n,e){return n[fc]?n[wT][Rn]=e:n[fc]=e,n[wT]=e,e}function $(n=1){Y0(Kt(),xe(),bs()+n,!1)}function Y0(n,e,t,r){if(!r)if((e[oe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Bu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&$u(e,o,0,t)}Zi(t)}var Rd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Rd||{});function wg(n,e,t,r){let i=we(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Rd.SignalBased)!==0&&(l=e[o][Ho]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):RC(e,l,o,r)}finally{we(i)}}function Z0(n,e,t,r,i){let o=bs(),s=r&2;try{Zi(-1),s&&e.length>an&&Y0(n,e,an,!1),ke(s?2:0,i),t(r,i)}finally{Zi(o),ke(s?3:1,i)}}function Pd(n,e,t){aF(n,e,t),(t.flags&64)===64&&cF(n,e,t)}function Cy(n,e,t=Nr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function nF(n,e,t,r){let o=r.get(s1,C0)||t===Qn.ShadowDom,s=n.selectRootElement(e,o);return rF(s),s}function rF(n){iF(n)}var iF=()=>null;function oF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function J0(n,e,t,r,i,o,s,a){if(!a&&Dy(e,n,t,r,i)){Is(e)&&sF(t,e.index);return}if(e.type&3){let l=Nr(e,t);r=oF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function sF(n,e){let t=Wn(e,n);t[oe]&16||(t[oe]|=64)}function aF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Is(t)&&tF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||i0(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=od(e,n,s,t);if(Ss(l,e),o!==null&&uF(e,s-r,l,a,t,o),no(a)){let u=Wn(t.index,e);u[Wt]=od(e,n,s,t)}}}function cF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=_O();try{Zi(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];tg(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&lF(l,u)}}finally{Zi(-1),tg(s)}}function lF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Sy(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];B1(e,o.selectors,!1)&&(r??=[],no(o)?r.unshift(o):r.push(o))}return r}function uF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];wg(r,t,l,u)}}function dF(n,e){let t=n[fs],r=t?t.get(Kn,null):null;r&&r.handleError(e)}function Dy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],h=s[l+1],p=e.data[u];wg(p,t[u],h,i),a=!0}if(o)for(let l of o){let u=t[l],h=e.data[l];wg(h,u,r,i),a=!0}return a}function hF(n,e){let t=Wn(e,n),r=t[ge];fF(r,t);let i=t[Pr];i!==null&&t[Zu]===null&&(t[Zu]=A0(i,t[fs])),ke(18),Ay(r,t,t[Wt]),ke(19,t[Wt])}function fF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ay(n,e,t){sy(e);try{let r=n.viewQuery;r!==null&&hg(1,r,t);let i=n.template;i!==null&&Z0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Dr]?.finishViewCreation(n),n.staticContentQueries&&R0(n,e),n.staticViewQueries&&hg(2,n.viewQuery,t);let o=n.components;o!==null&&pF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[oe]&=-5,ay()}}function pF(n,e){for(let t=0;t<e.length;t++)hF(n,e[t])}function mF(n,e,t,r){let i=we(null);try{let o=e.tView,a=n[oe]&4096?4096:16,l=by(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[Ki]=u;let h=n[Dr];return h!==null&&(l[Dr]=h.createEmbeddedView(o)),Ay(o,l,t),l}finally{we(i)}}function $T(n,e){return!e||e.firstChild===null||v0(n)}var gF;function Ry(n,e){return gF(n,e)}var Rr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Rr||{});function X0(n){return(n.flags&32)===32}function as(n,e,t,r,i){if(r!=null){let o,s=!1;Mr(r)?o=r:li(r)&&(s=!0,r=r[Pr]);let a=Gn(r);n===0&&t!==null?i==null?G0(e,t,a):cd(e,t,a,i||null,!0):n===1&&t!==null?cd(e,t,a,i||null,!0):n===2?Y1(e,a,s):n===3&&e.destroyNode(a),o!=null&&AF(e,n,o,t,i)}}function yF(n,e){eS(n,e),e[Pr]=null,e[Pn]=null}function vF(n,e,t,r,i,o){r[Pr]=i,r[Pn]=e,Nd(n,r,t,1,i,o)}function eS(n,e){e[Sr].changeDetectionScheduler?.notify(9),Nd(n,e,e[gt],2,null,null)}function _F(n){let e=n[fc];if(!e)return Um(n[ge],n);for(;e;){let t=null;if(li(e))t=e[fc];else{let r=e[sn];r&&(t=r)}if(!t){for(;e&&!e[Rn]&&e!==n;)li(e)&&Um(e[ge],e),e=e[Pt];e===null&&(e=n),li(e)&&Um(e[ge],e),t=e&&e[Rn]}e=t}}function Py(n,e){let t=n[ps],r=t.indexOf(e);t.splice(r,1)}function tS(n,e){if(_c(e))return;let t=e[gt];t.destroyNode&&Nd(n,e,t,3,null,null),_F(e)}function Um(n,e){if(_c(e))return;let t=we(null);try{e[oe]&=-129,e[oe]|=256,e[mn]&&fm(e[mn]),wF(n,e),EF(n,e),e[ge].type===1&&e[gt].destroy();let r=e[Ki];if(r!==null&&Mr(e[Pt])){r!==e[Pt]&&Py(r,e);let i=e[Dr];i!==null&&i.detachView(n)}lg(e)}finally{we(t)}}function EF(n,e){let t=n.cleanup,r=e[Ju];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ju]=null);let i=e[ci];if(i!==null){e[ci]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Xu];if(o!==null){e[Xu]=null;for(let s of o)s.destroy()}}function wF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof pc)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ke(4,a,l);try{l.call(a)}finally{ke(5,a,l)}}else{ke(4,i,o);try{o.call(i)}finally{ke(5,i,o)}}}}}function IF(n,e,t){return bF(n,e.parent,t)}function bF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Pr];if(Is(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Qn.None||i===Qn.Emulated)return null}return Nr(r,t)}function TF(n,e,t){return SF(n,e,t)}function CF(n,e,t){return n.type&40?Nr(n,t):null}var SF=CF,HT;function Md(n,e,t,r){let i=IF(n,r,e),o=e[gt],s=r.parent||e[Pn],a=TF(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)BT(o,i,t[l],a,!1);else BT(o,i,t,a,!1);HT!==void 0&&HT(o,r,e,t,i)}function uc(n,e){if(e!==null){let t=e.type;if(t&3)return Nr(e,n);if(t&4)return Ig(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return uc(n,r);{let i=n[e.index];return Mr(i)?Ig(-1,i):Gn(i)}}else{if(t&128)return uc(n,e.next);if(t&32)return Ry(e,n)()||Gn(n[e.index]);{let r=nS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yi(n[qn]);return uc(i,r)}else return uc(n,e.next)}}}return null}function nS(n,e){if(e!==null){let r=n[qn][Pn],i=e.projection;return r.projection[i]}return null}function Ig(n,e){let t=sn+n+1;if(t<e.length){let r=e[t],i=r[ge].firstChild;if(i!==null)return uc(r,i)}return e[Qi]}function My(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Ss(Gn(a),r),t.flags|=2),!X0(t))if(l&8)My(n,e,t.child,r,i,o,!1),as(e,n,i,a,o);else if(l&32){let u=Ry(t,r),h;for(;h=u();)as(e,n,i,h,o);as(e,n,i,a,o)}else l&16?DF(n,e,r,t,i,o):as(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Nd(n,e,t,r,i,o){My(t,r,n.firstChild,e,i,o,!1)}function DF(n,e,t,r,i,o){let s=t[qn],l=s[Pn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];as(e,n,i,h,o)}else{let u=l,h=s[Pt];v0(r)&&(u.flags|=128),My(n,e,u,h,i,o,!0)}}function AF(n,e,t,r,i){let o=t[Qi],s=Gn(t);o!==s&&as(e,n,r,o,i);for(let a=sn;a<t.length;a++){let l=t[a];Nd(l[ge],l,n,e,r,o)}}function RF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Rr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Rr.Important),n.setStyle(t,r,i,o))}}function ld(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Gn(o)),Mr(o)&&PF(o,r);let s=t.type;if(s&8)ld(n,e,t.child,r);else if(s&32){let a=Ry(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=nS(e,t);if(Array.isArray(a))r.push(...a);else{let l=Yi(e[qn]);ld(l[ge],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function PF(n,e){for(let t=sn;t<n.length;t++){let r=n[t],i=r[ge].firstChild;i!==null&&ld(r[ge],r,i,e)}n[Qi]!==n[Pr]&&e.push(n[Qi])}function rS(n){if(n[cs]!==null){for(let e of n[cs])e.impl.addSequence(e);n[cs].length=0}}var iS=[];function MF(n){return n[mn]??NF(n)}function NF(n){let e=iS.pop()??Object.create(kF);return e.lView=n,e}function xF(n){n.lView[mn]!==n&&(n.lView=null,iS.push(n))}var kF=Me(U({},iu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ec(n.lView)},consumerOnSignalRead(){this.lView[mn]=this}});function OF(n){let e=n[mn]??Object.create(FF);return e.lView=n,e}var FF=Me(U({},iu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Yi(n.lView);for(;e&&!oS(e[ge]);)e=Yi(e);e&&VC(e)},consumerOnSignalRead(){this.lView[mn]=this}});function oS(n){return n.type!==2}function sS(n){if(n[Xu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Xu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[oe]&8192)}}var LF=100;function aS(n,e=!0,t=0){let i=n[Sr].rendererFactory,o=!1;o||i.begin?.();try{VF(n,t)}catch(s){throw e&&dF(n,s),s}finally{o||i.end?.()}}function VF(n,e){let t=$C();try{bT(!0),bg(n,e);let r=0;for(;wd(n);){if(r===LF)throw new O(103,!1);r++,bg(n,1)}}finally{bT(t)}}function jF(n,e,t,r){if(_c(e))return;let i=e[oe],o=!1,s=!1;sy(e);let a=!0,l=null,u=null;o||(oS(n)?(u=MF(e),l=dm(u)):cm()===null?(a=!1,u=OF(e),l=dm(u)):e[mn]&&(fm(e[mn]),e[mn]=null));try{LC(e),mO(n.bindingStartIndex),t!==null&&Z0(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let g=n.preOrderCheckHooks;g!==null&&Bu(e,g,null)}else{let g=n.preOrderHooks;g!==null&&$u(e,g,0,null),Vm(e,0)}if(s||UF(e),sS(e),cS(e,0),n.contentQueries!==null&&R0(n,e),!o)if(h){let g=n.contentCheckHooks;g!==null&&Bu(e,g)}else{let g=n.contentHooks;g!==null&&$u(e,g,1),Vm(e,1)}$F(n,e);let p=n.components;p!==null&&uS(e,p,0);let y=n.viewQuery;if(y!==null&&hg(2,y,r),!o)if(h){let g=n.viewCheckHooks;g!==null&&Bu(e,g)}else{let g=n.viewHooks;g!==null&&$u(e,g,2),Vm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Lm]){for(let g of e[Lm])g();e[Lm]=null}o||(rS(e),e[oe]&=-73)}catch(h){throw o||Ec(e),h}finally{u!==null&&(Lb(u,l),a&&xF(u)),ay()}}function cS(n,e){for(let t=w0(n);t!==null;t=I0(t))for(let r=sn;r<t.length;r++){let i=t[r];lS(i,e)}}function UF(n){for(let e=w0(n);e!==null;e=I0(e)){if(!(e[oe]&2))continue;let t=e[ps];for(let r=0;r<t.length;r++){let i=t[r];VC(i)}}}function BF(n,e,t){ke(18);let r=Wn(e,n);lS(r,t),ke(19,r[Wt])}function lS(n,e){ey(n)&&bg(n,e)}function bg(n,e){let r=n[ge],i=n[oe],o=n[mn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&hm(o)),s||=!1,o&&(o.dirty=!1),n[oe]&=-9217,s)jF(r,n,r.template,n[Wt]);else if(i&8192){sS(n),cS(n,1);let a=r.components;a!==null&&uS(n,a,1),rS(n)}}function uS(n,e,t){for(let r=0;r<e.length;r++)BF(n,e[r],t)}function $F(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zi(~i);else{let o=i,s=t[++r],a=t[++r];vO(s,o);let l=e[o];ke(24,l),a(2,l),ke(25,l)}}}finally{Zi(-1)}}function Ny(n,e){let t=$C()?64:1088;for(n[Sr].changeDetectionScheduler?.notify(e);n;){n[oe]|=t;let r=Yi(n);if(td(n)&&!r)return n;n=r}return null}function dS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function HF(n,e,t,r=!0){let i=e[ge];if(zF(i,e,n,t),r){let s=Ig(t,n),a=e[gt],l=a.parentNode(n[Qi]);l!==null&&vF(i,n[Pn],a,e,l,s)}let o=e[Zu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Tg(n,e){if(n.length<=sn)return;let t=sn+e,r=n[t];if(r){let i=r[Ki];i!==null&&i!==n&&Py(i,r),e>0&&(n[t-1][Rn]=r[Rn]);let o=Qu(n,sn+e);yF(r[ge],r);let s=o[Dr];s!==null&&s.detachView(o[ge]),r[Pt]=null,r[Rn]=null,r[oe]&=-129}return r}function zF(n,e,t,r){let i=sn+r,o=t.length;r>0&&(t[i-1][Rn]=e),r<o-sn?(e[Rn]=t[i],_C(t,sn+r,e)):(t.push(e),e[Rn]=null),e[Pt]=t;let s=e[Ki];s!==null&&t!==s&&hS(s,e);let a=e[Dr];a!==null&&a.insertView(n),Xm(e),e[oe]|=128}function hS(n,e){let t=n[ps],r=e[Pt];if(li(r))n[oe]|=2;else{let i=r[Pt][qn];e[qn]!==i&&(n[oe]|=2)}t===null?n[ps]=[e]:t.push(e)}var mc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ge];return ld(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return _c(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pt];if(Mr(e)){let t=e[ed],r=t?t.indexOf(this):-1;r>-1&&(Tg(e,r),Qu(t,r))}this._attachedToViewContainer=!1}tS(this._lView[ge],this._lView)}onDestroy(e){jC(this._lView,e)}markForCheck(){Ny(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){Xm(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,aS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=td(this._lView),t=this._lView[Ki];t!==null&&!e&&Py(t,this._lView),eS(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e;let t=td(this._lView),r=this._lView[Ki];r!==null&&!t&&hS(r,this._lView),Xm(this._lView)}};var Xi=(()=>{class n{static __NG_ELEMENT_ID__=WF}return n})(),qF=Xi,GF=class extends qF{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=mF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new mc(i)}};function WF(){return xd(gn(),xe())}function xd(n,e){return n.type&4?new GF(e,n,Cs(n,e)):null}function kd(n,e,t,r,i){let o=n.data[e];if(o===null)o=KF(n,e,t,r,i),yO()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=fO();o.injectorIndex=s===null?-1:s.injectorIndex}return ro(o,!0),o}function KF(n,e,t,r,i){let o=UC(),s=iy(),a=s?o:o&&o.parent,l=n.data[e]=YF(n,a,t,e,r,i);return QF(n,l,o,s),l}function QF(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function YF(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return uO()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var n7=new RegExp(`^(\\d+)*(${o1}|${i1})*(.*)`);var ZF=()=>null;function zT(n,e){return ZF(n,e)}var JF=class{},fS=class{},Cg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Gt(e)}.`)}},Od=class{static NULL=new Cg},ui=class{},Fd=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>XF()}return n})();function XF(){let n=xe(),e=gn(),t=Wn(e.index,n);return(li(t)?t:n)[gt]}var eL=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>null})}return n})();var Bm={},Sg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=gd(r);let i=this.injector.get(e,Bm,r);return i!==Bm||t===Bm?i:this.parentInjector.get(e,t,r)}};function Dg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pT(i,a);else if(o==2){let l=a,u=e[++s];r=pT(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Nt(n,e=fe.Default){let t=xe();if(t===null)return X(n,e);let r=gn();return c0(r,t,pn(n),e)}function Ld(){let n="invalid";throw new Error(n)}function xy(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,l=null,u=null,h=nL(s);h===null?a=s:[a,l,u]=h,oL(n,e,t,a,o,l,u)}o!==null&&r!==null&&tL(t,r,o)}function tL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new O(-301,!1);r.push(e[i],o)}}function nL(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&no(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,rL(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function rL(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function iL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function oL(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let y=0;y<a;y++){let g=r[y];!l&&no(g)&&(l=!0,iL(n,t,y)),OO(i0(t,e),n,g.type)}dL(t,n.data.length,a);for(let y=0;y<a;y++){let g=r[y];g.providersResolver&&g.providersResolver(g)}let u=!1,h=!1,p=Q0(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let g=r[y];if(t.mergedAttrs=Td(t.mergedAttrs,g.hostAttrs),aL(n,t,e,p,g),uL(p,g,i),s!==null&&s.has(g)){let[A,M]=s.get(g);t.directiveToIndex.set(g.type,[p,A+t.directiveStart,M+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let w=g.type.prototype;!u&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}sL(n,t,o)}function sL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))qT(0,e,i,r),qT(1,e,i,r),WT(e,r,!1);else{let o=t.get(i);GT(0,e,o,r),GT(1,e,o,r),WT(e,r,!0)}}}function qT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),pS(e,o)}}function GT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),pS(e,s)}}function pS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function WT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||wy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let h of u)if(h===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function aL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Gi(i.type,!0)),s=new pc(o,no(i),Nt);n.blueprint[r]=s,t[r]=s,cL(n,e,r,Q0(n,t,i.hostVars,pi),i)}function cL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;lL(s)!=a&&s.push(a),s.push(t,r,o)}}function lL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function uL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;no(e)&&(t[""]=n)}}function dL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function mS(n,e,t,r,i,o,s,a){let l=e.consts,u=ms(l,s),h=kd(e,n,2,r,u);return o&&xy(e,t,h,ms(l,a),i),h.mergedAttrs=Td(h.mergedAttrs,h.attrs),h.attrs!==null&&Dg(h,h.attrs,!1),h.mergedAttrs!==null&&Dg(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function gS(n,e){cy(n,e),Xg(e)&&n.queries.elementEnd(e)}var ud=class extends Od{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Wi(e);return new gs(t,this.ngModule)}};function hL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Rd.SignalBased)!==0};return i&&(o.transform=i),o})}function fL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function pL(n,e,t){let r=e instanceof Rt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Sg(t,r):t}function mL(n){let e=n.get(ui,null);if(e===null)throw new O(407,!1);let t=n.get(eL,null),r=n.get(Ji,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function gL(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return q0(e,t,t==="svg"?xC:t==="math"?tO:null)}var gs=class extends fS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=hL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=fL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=q1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){ke(22);let o=we(null);try{let s=this.componentDef,a=r?["ng-version","19.2.5"]:G1(this.componentDef.selectors[0]),l=Iy(0,null,null,1,0,null,null,null,null,[a],null),u=pL(s,i||this.ngModule,e),h=mL(u),p=h.rendererFactory.createRenderer(null,s),y=r?nF(p,r,s.encapsulation,u):gL(s,p),g=by(null,l,null,512|K0(s),null,null,h,p,u,null,A0(y,u,!0));g[an]=y,sy(g);let w=null;try{let A=mS(an,l,g,"#host",()=>[this.componentDef],!0,0);y&&(W0(p,y,A),Ss(y,g)),Pd(l,g,A),_y(l,A,g),gS(l,A),t!==void 0&&yL(A,this.ngContentSelectors,t),w=Wn(A.index,g),g[Wt]=w[Wt],Ay(l,g,null)}catch(A){throw w!==null&&lg(w),lg(g),A}finally{ke(23),ay()}return new Ag(this.componentType,g)}finally{we(o)}}},Ag=class extends JF{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=OC(t[ge],an),this.location=Cs(this._tNode,t),this.instance=Wn(this._tNode.index,t)[Wt],this.hostView=this.changeDetectorRef=new mc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Dy(r,i[ge],i,e,t);this.previousInputValues.set(e,t);let s=Wn(r.index,i);Ny(s,1)}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mi=(()=>{class n{static __NG_ELEMENT_ID__=vL}return n})();function vL(){let n=gn();return vS(n,xe())}var _L=mi,yS=class extends _L{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){let e=ly(this._hostTNode,this._hostLView);if(t0(e)){let t=rd(e,this._hostLView),r=nd(e),i=t[ge].data[r+8];return new qi(i,t)}else return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=KT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-sn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,$T(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Zk(e),a;if(s)a=t;else{let w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let l=s?e:new gs(Wi(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let A=(s?u:this.parentInjector).get(Rt,null);A&&(o=A)}let h=Wi(l.componentType??{}),p=zT(this._lContainer,h?.id??null),y=p?.firstChild??null,g=l.create(u,i,y,o);return this.insertImpl(g.hostView,a,$T(this._hostTNode,p)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(rO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Pt],u=new yS(l,l[Pn],l[Pt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return HF(s,i,o,r),e.attachToViewContainerRef(),_C($m(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=KT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Tg(this._lContainer,t);r&&(Qu($m(this._lContainer),t),tS(r[ge],r))}detach(e){let t=this._adjustIndex(e,-1),r=Tg(this._lContainer,t);return r&&Qu($m(this._lContainer),t)!=null?new mc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function KT(n){return n[ed]}function $m(n){return n[ed]||(n[ed]=[])}function vS(n,e){let t,r=e[n.index];return Mr(r)?t=r:(t=dS(r,e,null,n),e[n.index]=t,Ty(e,t)),wL(t,e,n,r),new yS(t,n,e)}function EL(n,e){let t=n[gt],r=t.createComment(""),i=Nr(e,n),o=t.parentNode(i);return cd(t,o,r,t.nextSibling(i),!1),r}var wL=TL,IL=()=>!1;function bL(n,e,t){return IL(n,e,t)}function TL(n,e,t,r){if(n[Qi])return;let i;t.type&8?i=Gn(r):i=EL(e,t),n[Qi]=i}var Rg=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Pg=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ky(e,t).matches!==null&&this.queries[t].setDirty()}},Mg=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=NL(e):this.predicate=e}},Ng=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xg=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,CL(t,o)),this.matchTNodeWithReadOption(e,t,Hu(t,e,o,!1,!1))}else r===Xi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Hu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Xn||i===mi||i===Xi&&t.type&4)this.addMatch(t.index,-2);else{let o=Hu(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function CL(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function SL(n,e){return n.type&11?Cs(n,e):n.type&4?xd(n,e):null}function DL(n,e,t,r){return t===-1?SL(e,n):t===-2?AL(n,e,r):od(n,n[ge],t,e)}function AL(n,e,t){if(t===Xn)return Cs(e,n);if(t===Xi)return xd(e,n);if(t===mi)return vS(e,n)}function _S(n,e,t,r){let i=e[Dr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let h=o[u];a.push(DL(e,h,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function kg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=_S(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],h=e[-l];for(let p=sn;p<h.length;p++){let y=h[p];y[Ki]===y[Pt]&&kg(y[ge],y,u,r)}if(h[ps]!==null){let p=h[ps];for(let y=0;y<p.length;y++){let g=p[y];kg(g[ge],g,u,r)}}}}}return r}function RL(n,e){return n[Dr].queries[e].queryList}function PL(n,e,t){let r=new cg((t&4)===4);return sO(n,e,r,r.destroy),(e[Dr]??=new Pg).queries.push(new Rg(r))-1}function ML(n,e,t){let r=Kt();return r.firstCreatePass&&(xL(r,new Mg(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),PL(r,xe(),e)}function NL(n){return n.split(",").map(e=>e.trim())}function xL(n,e,t){n.queries===null&&(n.queries=new Ng),n.queries.track(new xg(e,t))}function ky(n,e){return n.queries.getByIndex(e)}function kL(n,e){let t=n[ge],r=ky(t,e);return r.crossesNgTemplate?kg(t,n,e,[]):_S(t,n,r,e)}var ys=class{},Oy=class{};var Og=class extends ys{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ud(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=IC(e);this._bootstrapComponents=H0(o.bootstrap),this._r3Injector=d0(e,t,[{provide:ys,useValue:this},{provide:Od,useValue:this.componentFactoryResolver},...r],Gt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Fg=class extends Oy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Og(this.moduleType,e,[])}};var dd=class extends ys{injector;componentFactoryResolver=new ud(this);instance=null;constructor(e){super();let t=new hc([...e.providers,{provide:ys,useValue:this},{provide:Od,useValue:this.componentFactoryResolver}],e.parent||Zg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ic(n,e,t=null){return new dd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var OL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=bC(!1,t.type),i=r.length>0?Ic([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:n,providedIn:"environment",factory:()=>new n(X(Rt))})}return n})();function Oe(n){return yc(()=>{let e=wS(n),t=Me(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===_0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(OL).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Qn.Emulated,styles:n.styles||An,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&As("NgStandalone"),IS(t);let r=n.dependencies;return t.directiveDefs=QT(r,!1),t.pipeDefs=QT(r,!0),t.id=UL(t),t})}function FL(n){return Wi(n)||jk(n)}function LL(n){return n!==null}function Rs(n){return yc(()=>({type:n.type,bootstrap:n.bootstrap||An,declarations:n.declarations||An,imports:n.imports||An,exports:n.exports||An,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function VL(n,e){if(n==null)return ds;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Rd.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function jL(n){if(n==null)return ds;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function so(n){return yc(()=>{let e=wS(n);return IS(e),e})}function ES(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function wS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ds,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||An,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VL(n.inputs,e),outputs:jL(n.outputs),debugInfo:null}}function IS(n){n.features?.forEach(e=>e(n))}function QT(n,e){if(!n)return null;let t=e?Uk:FL;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(LL)}function UL(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bS(n){return $L(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function BL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function $L(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function TS(n,e,t){return n[e]=t}function vs(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function HL(n,e,t,r){let i=vs(n,e,t);return vs(n,e+1,r)||i}function zL(n,e,t,r,i,o,s,a,l){let u=e.consts,h=kd(e,n,4,s||null,a||null);ry()&&xy(e,t,h,ms(u,l),Sy),h.mergedAttrs=Td(h.mergedAttrs,h.attrs),cy(e,h);let p=h.tView=Iy(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function qL(n,e,t,r,i,o,s,a,l,u){let h=t+an,p=e.firstCreatePass?zL(h,e,n,r,i,o,s,a,l):e.data[h];ro(p,!1);let y=GL(e,n,p,t);Id()&&Md(e,n,y,p),Ss(y,n);let g=dS(y,n,y,p);return n[h]=g,Ty(n,g),bL(g,p,n),_d(p)&&Pd(e,n,p),l!=null&&Cy(n,p,u),p}function be(n,e,t,r,i,o,s,a){let l=xe(),u=Kt(),h=ms(u.consts,o);return qL(l,u,n,e,t,r,i,h,s,a),be}var GL=WL;function WL(n,e,t,r){return bd(!0),e[gt].createComment("")}var Fy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var CS=new Q("");var KL=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>new Lg})}return n})(),Lg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ps(n){return!!n&&typeof n.then=="function"}function Ly(n){return!!n&&typeof n.subscribe=="function"}var Vd=new Q("");var SS=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=R(Vd,{optional:!0})??[];injector=R(ct);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Mt(this.injector,i);if(Ps(o))t.push(o);else if(Ly(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jd=new Q("");function QL(){pm(()=>{throw new O(600,!1)})}function YL(n){return n.isBoundToModule}var ZL=10;var di=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(KO);afterRenderManager=R(D0);zonelessEnabled=R(Cd);rootEffectScheduler=R(KL);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ue;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=R(io).hasPendingTasks.pipe(K(t=>!t));constructor(){R(Ds,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=R(Rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){ke(10);let i=t instanceof fS;if(!this._injector.get(SS).done){let y="";throw new O(405,y)}let s;i?s=t:s=this._injector.get(Od).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=YL(s)?void 0:this._injector.get(ys),l=r||s.selector,u=s.create(ct.NULL,[],l,a),h=u.location.nativeElement,p=u.injector.get(CS,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),zu(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),ke(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(yy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);let t=we(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,we(t),this.afterTick.next(),ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ui,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<ZL;)ke(14),this.synchronizeOnce(),ke(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)JL(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>wd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;zu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(jd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new O(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JL(n,e,t,r){if(!t&&!wd(n))return;aS(n,e,t&&!r?0:1)}function DS(n,e,t,r){return vs(n,zC(),t)?e+Wg(t)+r:pi}function ju(n,e){return n<<17|e<<2}function eo(n){return n>>17&32767}function XL(n){return(n&2)==2}function eV(n,e){return n&131071|e<<17}function Vg(n){return n|2}function _s(n){return(n&131068)>>2}function Hm(n,e){return n&-131069|e<<2}function tV(n){return(n&1)===1}function jg(n){return n|1}function nV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=eo(s),l=_s(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||vc(p,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let y=eo(n[a+1]);n[r+1]=ju(y,a),y!==0&&(n[y+1]=Hm(n[y+1],r)),n[a+1]=eV(n[a+1],r)}else n[r+1]=ju(a,0),a!==0&&(n[a+1]=Hm(n[a+1],r)),a=r;else n[r+1]=ju(l,0),a===0?a=r:n[l+1]=Hm(n[l+1],r),l=r;u&&(n[r+1]=Vg(n[r+1])),YT(n,h,r,!0),YT(n,h,r,!1),rV(e,h,n,r,o),s=ju(a,l),o?e.classBindings=s:e.styleBindings=s}function rV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&vc(o,e)>=0&&(t[r+1]=jg(t[r+1]))}function YT(n,e,t,r){let i=n[t+1],o=e===null,s=r?eo(i):_s(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];iV(l,e)&&(a=!0,n[s+1]=r?jg(u):Vg(u)),s=r?eo(u):_s(u)}a&&(n[t+1]=r?Vg(i):jg(i))}function iV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?vc(n,e)>=0:!1}function ee(n,e,t){let r=xe(),i=zC();if(vs(r,i,e)){let o=Kt(),s=ZC();J0(o,s,r,n,e,r[gt],t,!1)}return ee}function ZT(n,e,t,r,i){Dy(e,n,t,i?"class":"style",r)}function bc(n,e){return oV(n,e,null,!0),bc}function oV(n,e,t,r){let i=xe(),o=Kt(),s=gO(2);if(o.firstUpdatePass&&aV(o,n,s,r),e!==pi&&vs(i,s,e)){let a=o.data[bs()];hV(o,a,i,i[gt],n,i[s+1]=fV(e,t),r,s)}}function sV(n,e){return e>=n.expandoStartIndex}function aV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[bs()],s=sV(n,t);pV(o,r)&&e===null&&!s&&(e=!1),e=cV(i,o,e,r),nV(i,o,e,t,s,r)}}function cV(n,e,t,r){let i=EO(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=zm(null,n,e,t,r),t=gc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=zm(i,n,e,t,r),o===null){let l=lV(n,e,r);l!==void 0&&Array.isArray(l)&&(l=zm(null,n,e,l[1],r),l=gc(l,e.attrs,r),uV(n,e,r,l))}else o=dV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function lV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(_s(r)!==0)return n[eo(r)]}function uV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[eo(i)]=r}function dV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=gc(r,s,t)}return gc(r,e.attrs,t)}function zm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=gc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function gc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Lk(n,s,t?!0:e[++o]))}return n===void 0?null:n}function hV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=tV(u)?JT(l,e,t,i,_s(u),s):void 0;if(!hd(h)){hd(o)||XL(u)&&(o=JT(l,null,t,i,a,s));let p=kC(bs(),t);RF(r,s,p,i,o)}}function JT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,y=t[i+1];y===pi&&(y=p?An:void 0);let g=p?Om(y,r):h===r?y:void 0;if(u&&!hd(g)&&(g=Om(l,r)),hd(g)&&(a=g,s))return a;let w=n[i+1];i=s?eo(w):_s(w)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Om(l,r))}return a}function hd(n){return n!==void 0}function fV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Gt(er(n)))),n}function pV(n,e){return(n.flags&(e?8:16))!==0}function N(n,e,t,r){let i=xe(),o=Kt(),s=an+n,a=i[gt],l=o.firstCreatePass?mS(s,o,i,e,Sy,ry(),t,r):o.data[s],u=mV(o,i,l,a,e,n);i[s]=u;let h=_d(l);return ro(l,!0),W0(a,u,l),!X0(l)&&Id()&&Md(o,i,u,l),(aO()===0||h)&&Ss(u,i),cO(),h&&(Pd(o,i,l),_y(o,l,i)),r!==null&&Cy(i,l),N}function k(){let n=gn();iy()?BC():(n=n.parent,ro(n,!1));let e=n;dO(e)&&hO(),lO();let t=Kt();return t.firstCreatePass&&gS(t,e),e.classesWithoutHost!=null&&SO(e)&&ZT(t,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DO(e)&&ZT(t,e,xe(),e.stylesWithoutHost,!1),k}function te(n,e,t,r){return N(n,e,t,r),k(),te}var mV=(n,e,t,r,i,o)=>(bd(!0),q0(r,i,bO()));function gV(n,e,t,r,i){let o=e.consts,s=ms(o,r),a=kd(e,n,8,"ng-container",s);s!==null&&Dg(a,s,!0);let l=ms(o,i);return ry()&&xy(e,t,a,l,Sy),a.mergedAttrs=Td(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function rt(n,e,t){let r=xe(),i=Kt(),o=n+an,s=i.firstCreatePass?gV(o,i,r,e,t):i.data[o];ro(s,!0);let a=yV(i,r,s,n);return r[o]=a,Id()&&Md(i,r,a,s),Ss(a,r),_d(s)&&(Pd(i,r,s),_y(i,s,r)),t!=null&&Cy(r,s),rt}function it(){let n=gn(),e=Kt();return iy()?BC():(n=n.parent,ro(n,!1)),e.firstCreatePass&&(cy(e,n),Xg(n)&&e.queries.elementEnd(n)),it}var yV=(n,e,t,r)=>(bd(!0),Q1(e[gt],""));function gi(){return xe()}var fd="en-US";var vV=fd;function _V(n){typeof n=="string"&&(vV=n.toLowerCase().replace(/_/g,"-"))}function XT(n,e,t){return function r(i){if(i===Function)return t;let o=Is(n)?Wn(n.index,e):e;Ny(o,5);let s=e[Wt],a=eC(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=eC(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function eC(n,e,t,r){let i=we(null);try{return ke(6,e,t),t(r)!==!1}catch(o){return EV(n,o),!1}finally{ke(7,e,t),we(i)}}function EV(n,e){let t=n[fs],r=t?t.get(Kn,null):null;r&&r.handleError(e)}function tC(n,e,t,r,i,o){let s=e[t],a=e[ge],u=a.data[t].outputs[r],h=s[u],p=a.firstCreatePass?ny(a):null,y=ty(e),g=h.subscribe(o),w=y.length;y.push(o,g),p&&p.push(i,n.index,w,-(w+1))}var wV=(n,e,t)=>{};function Ut(n,e,t,r){let i=xe(),o=Kt(),s=gn();return bV(o,i,i[gt],s,n,e,r),Ut}function IV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ju],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function bV(n,e,t,r,i,o,s){let a=_d(r),u=n.firstCreatePass?ny(n):null,h=ty(e),p=!0;if(r.type&3||s){let y=Nr(r,e),g=s?s(y):y,w=h.length,A=s?V=>s(Gn(V[r.index])):r.index,M=null;if(!s&&a&&(M=IV(n,e,i,r.index)),M!==null){let V=M.__ngLastListenerFn__||M;V.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,p=!1}else{o=XT(r,e,o),wV(g,i,o);let V=t.listen(g,i,o);h.push(o,V),u&&u.push(i,A,w,w+1)}}else o=XT(r,e,o);if(p){let y=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let w=0;w<g.length;w+=2){let A=g[w],M=g[w+1];tC(r,e,A,M,i,o)}if(y&&y.length)for(let w of y)tC(r,e,w,i,i,o)}}function Pe(n=1){return IO(n)}function Vy(n,e,t){return AS(n,"",e,"",t),Vy}function AS(n,e,t,r,i){let o=xe(),s=DS(o,e,t,r);if(s!==pi){let a=Kt(),l=ZC();J0(a,l,o,n,s,o[gt],i,!1)}return AS}function kr(n,e,t){ML(n,e,t)}function nr(n){let e=xe(),t=Kt(),r=qC();oy(r+1);let i=ky(t,r);if(n.dirty&&nO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=kL(e,r);n.reset(o,ZO),n.notifyOnChanges()}return!0}return!1}function rr(){return RL(xe(),qC())}function TV(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ms(n){let e=pO();return FC(e,an+n)}function B(n,e=""){let t=xe(),r=Kt(),i=n+an,o=r.firstCreatePass?kd(r,i,1,e,null):r.data[i],s=CV(r,t,o,e,n);t[i]=s,Id()&&Md(r,t,s,o),ro(o,!1)}var CV=(n,e,t,r,i)=>(bd(!0),W1(e[gt],r));function et(n){return Bt("",n,""),et}function Bt(n,e,t){let r=xe(),i=DS(r,n,e,t);return i!==pi&&SV(r,bs(),i),Bt}function SV(n,e,t){let r=kC(e,n);K1(n[gt],r,t)}function RS(n,e,t,r,i){return AV(xe(),HC(),n,e,t,r,i)}function PS(n,e){let t=n[e];return t===pi?void 0:t}function DV(n,e,t,r,i,o){let s=e+t;return vs(n,s,i)?TS(n,s+1,o?r.call(o,i):r(i)):PS(n,s+1)}function AV(n,e,t,r,i,o,s){let a=e+t;return HL(n,a,i,o)?TS(n,a+2,s?r.call(s,i,o):r(i,o)):PS(n,a+2)}function ir(n,e){let t=Kt(),r,i=n+an;t.firstCreatePass?(r=RV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Gi(r.type,!0)),s,a=zt(Nt);try{let l=id(!1),u=o();return id(l),TV(t,xe(),i,u),u}finally{zt(a)}}function RV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function or(n,e,t){let r=n+an,i=xe(),o=FC(i,r);return PV(i,r)?DV(i,HC(),e,o.transform,t,o):o.transform(t)}function PV(n,e){return n[ge].data[e].pure}function Ns(n,e){return xd(n,e)}var to=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},MS=new to("19.2.5"),Ug=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ud=(()=>{class n{compileModuleSync(t){return new Fg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=IC(t),o=H0(i.declarations).reduce((s,a)=>{let l=Wi(a);return l&&s.push(new gs(l)),s},[]);return new Ug(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var MV=(()=>{class n{zone=R(Ie);changeDetectionScheduler=R(Ji);applicationRef=R(di);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NV=new Q("",{factory:()=>!1});function NS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ie(Me(U({},kS()),{scheduleInRootZone:t})),[{provide:Ie,useFactory:n},{provide:hs,multi:!0,useFactory:()=>{let r=R(MV,{optional:!0});return()=>r.initialize()}},{provide:hs,multi:!0,useFactory:()=>{let r=R(xV);return()=>{r.initialize()}}},e===!0?{provide:f0,useValue:!0}:[],{provide:p0,useValue:t??h0}]}function xS(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=NS({ngZoneFactory:()=>{let i=kS(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&As("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Yn([{provide:NV,useValue:!0},{provide:Cd,useValue:!1},r])}function kS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var xV=(()=>{class n{subscription=new Ve;initialized=!1;zone=R(Ie);pendingTasks=R(io);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kV=(()=>{class n{appRef=R(di);taskService=R(io);ngZone=R(Ie);zonelessEnabled=R(Cd);tracing=R(Ds,{optional:!0});disableScheduling=R(f0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ad):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(p0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ag||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?RT:m0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ad+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,RT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OV(){return typeof $localize<"u"&&$localize.locale||fd}var jy=new Q("",{providedIn:"root",factory:()=>R(jy,fe.Optional|fe.SkipSelf)||OV()});var Bg=new Q(""),FV=new Q("");function cc(n){return!n.moduleRef}function LV(n){let e=cc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ie);return t.run(()=>{cc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Kn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),cc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Bg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Bg);s.add(o),n.moduleRef.onDestroy(()=>{zu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return jV(r,t,()=>{let o=e.get(SS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(jy,fd);if(_V(s||fd),!e.get(FV,!0))return cc(n)?e.get(di):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(cc(n)){let l=e.get(di);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return VV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function VV(n,e){let t=n.injector.get(di);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new O(-403,!1);e.push(n)}function jV(n,e,t){try{let r=t();return Ps(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var qu=null;function UV(n=[],e){return ct.create({name:e,providers:[{provide:yd,useValue:"platform"},{provide:Bg,useValue:new Set([()=>qu=null])},...n]})}function BV(n=[]){if(qu)return qu;let e=UV(n);return qu=e,QL(),$V(e),e}function $V(n){let e=n.get(py,null);Mt(n,()=>{e?.forEach(t=>t())})}function Uy(){return!1}var xs=(()=>{class n{static __NG_ELEMENT_ID__=HV}return n})();function HV(n){return zV(gn(),xe(),(n&16)===16)}function zV(n,e,t){if(Is(n)&&!t){let r=Wn(n.index,e);return new mc(r,r)}else if(n.type&175){let r=e[qn];return new mc(r,e)}return null}var $g=class{constructor(){}supports(e){return bS(e)}create(e){return new Hg(e)}},qV=(n,e)=>e,Hg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||qV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<nC(r,i,o)?t:r,a=nC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let y=0;y<u;y++){let g=y<o.length?o[y]:o[y]=0,w=g+y;h<=w&&w<u&&(o[y]=g+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!bS(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,BL(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new zg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new pd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new pd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},qg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},pd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new qg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function rC(){return new By([new $g])}var By=(()=>{class n{factories;static \u0275prov=F({token:n,providedIn:"root",factory:rC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||rC()),deps:[[n,new xk,new jt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new O(901,!1)}}return n})();function OS(n){ke(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=BV(r),o=[NS({}),{provide:Ji,useExisting:kV},...t||[]],s=new dd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return LV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ke(9)}}function Bd(n){return ym(n)}var iC=class{[Ho];constructor(e){this[Ho]=e}destroy(){this[Ho].destroy()}};function FS(n){let e=Wi(n);if(!e)return null;let t=new gs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ot=new Q("");var jS=null;function Or(){return jS}function $y(n){jS??=n}var Tc=class{},Cc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(US),providedIn:"platform"})}return n})(),Hy=new Q(""),US=(()=>{class n extends Cc{_location;_history;_doc=R(ot);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Or().getBaseHref(this._doc)}onPopState(t){let r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function $d(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function LS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Mn(n){return n&&n[0]!=="?"?`?${n}`:n}var Fr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(zd),providedIn:"root"})}return n})(),Hd=new Q(""),zd=(()=>{class n extends Fr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $d(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Mn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Mn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Mn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(Cc),X(Hd,8))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yi=(()=>{class n{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=KV(LS(VS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Mn(r))}normalize(t){return n.stripTrailingSlash(WV(this._basePath,VS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Mn;static joinWithSlash=$d;static stripTrailingSlash=LS;static \u0275fac=function(r){return new(r||n)(X(Fr))};static \u0275prov=F({token:n,factory:()=>GV(),providedIn:"root"})}return n})();function GV(){return new yi(X(Fr))}function WV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function VS(n){return n.replace(/\/index.html$/,"")}function KV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Wy=(()=>{class n extends Fr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=$d(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Mn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Mn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(Cc),X(Hd,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var zy=/\s+/,BS=[],Ky=(()=>{class n{_ngEl;_renderer;initialClasses=BS;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(zy):BS}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(zy):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(zy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Nt(Xn),Nt(Fd))};static \u0275dir=so({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var qd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$S(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$S(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Nt(mi),Nt(Xi),Nt(By))};static \u0275dir=so({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function $S(n,e){n.context.$implicit=e.item}var st=(()=>{class n{_viewContainer;_context=new Gd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){HS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){HS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Nt(mi),Nt(Xi))};static \u0275dir=so({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Gd=class{$implicit=null;ngIf=null};function HS(n,e){if(n&&!n.createEmbeddedView)throw new O(2020,!1)}function YV(n,e){return new O(2100,!1)}var qy=class{createSubscription(e,t){return Bd(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Bd(()=>e.unsubscribe())}},Gy=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},ZV=new Gy,JV=new qy,Nn=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Ps(t))return ZV;if(Ly(t))return JV;throw YV(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Nt(xs,16))};static \u0275pipe=ES({name:"async",type:n,pure:!1})}return n})();function Qy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Yy="browser",zS="server";function Wd(n){return n===zS}var Sc=class{};var qS=(()=>{class n{static \u0275prov=F({token:n,providedIn:"root",factory:()=>new Zy(R(ot),window)})}return n})(),Zy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=t2(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function t2(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Yd=new Q(""),tv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(X(Yd),X(Ie))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Dc=class{_doc;constructor(e){this._doc=e}manager},Kd="ng-app-id";function GS(n){for(let e of n)e.remove()}function WS(n,e){let t=e.createElement("style");return t.textContent=n,t}function n2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Kd}="${e}"],link[${Kd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Kd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Xy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var nv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Wd(o),n2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,WS);r?.forEach(i=>this.addUsage(i,this.external,Xy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(GS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])GS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,WS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Xy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Kd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(X(ot),X(fy),X(gy,8),X(hi))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Jy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rv=/%COMP%/g;var QS="%COMP%",r2=`_nghost-${QS}`,i2=`_ngcontent-${QS}`,o2=!0,s2=new Q("",{providedIn:"root",factory:()=>o2});function a2(n){return i2.replace(rv,n)}function c2(n){return r2.replace(rv,n)}function YS(n,e){return e.map(t=>t.replace(rv,n))}var Pc=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,u=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=h,this.platformIsServer=Wd(a),this.defaultRenderer=new Ac(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qn.ShadowDom&&(r=Me(U({},r),{encapsulation:Qn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Qd?i.applyToHost(t):i instanceof Rc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Qn.Emulated:o=new Qd(l,u,r,this.appId,h,s,a,p,y);break;case Qn.ShadowDom:return new ev(l,u,t,r,s,a,this.nonce,p,y);default:o=new Rc(l,u,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(X(tv),X(nv),X(fy),X(s2),X(ot),X(hi),X(Ie),X(gy),X(Ds,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Ac=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Jy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(KS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(KS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Jy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Jy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Rr.DashCase|Rr.Important)?e.style.setProperty(t,r,i&Rr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Rr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Or().getGlobalEventTarget(this.doc,e),!e))throw new O(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function KS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ev=class extends Ac{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=YS(i.id,h);for(let y of h){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=y,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let y of p){let g=Xy(y,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Rc=class extends Ac{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?YS(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qd=class extends Rc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,u){let h=i+"-"+r.id;super(e,t,r,o,s,a,l,u,h),this.contentAttr=a2(h),this.hostAttr=c2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var iv=class extends Tc{supportsDOMEvents=!0},Zd=class n extends iv{static makeCurrent(){$y(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=l2();return t==null?null:u2(t)}resetBaseElement(){Mc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qy(document.cookie,e)}},Mc=null;function l2(){return Mc=Mc||document.querySelector("base"),Mc?Mc.getAttribute("href"):null}function u2(n){return new URL(n,document.baseURI).pathname}var d2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),JS=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(X(ot))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),ZS=["alt","control","meta","shift"],h2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},XS=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Or().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ZS.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=h2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ZS.forEach(s=>{if(s!==i){let a=f2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(X(ot))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function ov(n,e){return OS(U({rootComponent:n},p2(e)))}function p2(n){return{appProviders:[..._2,...n?.providers??[]],platformProviders:v2}}function m2(){Zd.makeCurrent()}function g2(){return new Kn}function y2(){return T0(document),document}var v2=[{provide:hi,useValue:Yy},{provide:py,useValue:m2,multi:!0},{provide:ot,useFactory:y2}];var _2=[{provide:yd,useValue:"root"},{provide:Kn,useFactory:g2},{provide:Yd,useClass:JS,multi:!0,deps:[ot]},{provide:Yd,useClass:XS,multi:!0,deps:[ot]},Pc,nv,tv,{provide:ui,useExisting:Pc},{provide:Sc,useClass:d2},[]];var eD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(X(ot))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=X(E2),i},providedIn:"root"})}return n})(),E2=(()=>{class n extends sv{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case tr.NONE:return r;case tr.HTML:return fi(r,"HTML")?er(r):U0(this._doc,String(r)).toString();case tr.STYLE:return fi(r,"Style")?er(r):r;case tr.SCRIPT:if(fi(r,"Script"))return er(r);throw new O(5200,!1);case tr.URL:return fi(r,"URL")?er(r):Ad(String(r));case tr.RESOURCE_URL:if(fi(r,"ResourceURL"))return er(r);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(t){return P0(t)}bypassSecurityTrustStyle(t){return M0(t)}bypassSecurityTrustScript(t){return N0(t)}bypassSecurityTrustUrl(t){return x0(t)}bypassSecurityTrustResourceUrl(t){return k0(t)}static \u0275fac=function(r){return new(r||n)(X(ot))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ue="primary",zc=Symbol("RouteTitle"),dv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function lo(n){return new dv(n)}function lD(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function w2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!sr(n[t],e[t]))return!1;return!0}function sr(n,e){let t=n?hv(n):void 0,r=e?hv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!uD(n[i],e[i]))return!1;return!0}function hv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function uD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function dD(n){return n.length>0?n[n.length-1]:null}function wi(n){return Pm(n)?n:Ps(n)?Ne(Promise.resolve(n)):re(n)}var I2={exact:fD,subset:pD},hD={exact:b2,subset:T2,ignored:()=>!0};function nD(n,e,t){return I2[t.paths](n.root,e.root,t.matrixParams)&&hD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function b2(n,e){return sr(n,e)}function fD(n,e,t){if(!ao(n.segments,e.segments)||!eh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!fD(n.children[r],e.children[r],t))return!1;return!0}function T2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uD(n[t],e[t]))}function pD(n,e,t){return mD(n,e,e.segments,t)}function mD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ao(i,t)||e.hasChildren()||!eh(i,t,r))}else if(n.segments.length===t.length){if(!ao(n.segments,t)||!eh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!pD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ao(n.segments,i)||!eh(n.segments,i,r)||!n.children[ue]?!1:mD(n.children[ue],e,o,r)}}function eh(n,e,t){return e.every((r,i)=>hD[t](n[i].parameters,r.parameters))}var cr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ae([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){return D2.serialize(this)}},Ae=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return th(this)}},vi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=lo(this.parameters),this._parameterMap}toString(){return yD(this)}};function C2(n,e){return ao(n,e)&&n.every((t,r)=>sr(t.parameters,e[r].parameters))}function ao(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function S2(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var uo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>new _i,providedIn:"root"})}return n})(),_i=class{parse(e){let t=new pv(e);return new cr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Nc(e.root,!0)}`,r=P2(e.queryParams),i=typeof e.fragment=="string"?`#${A2(e.fragment)}`:"";return`${t}${r}${i}`}},D2=new _i;function th(n){return n.segments.map(e=>yD(e)).join("/")}function Nc(n,e){if(!n.hasChildren())return th(n);if(e){let t=n.children[ue]?Nc(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${Nc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=S2(n,(r,i)=>i===ue?[Nc(n.children[ue],!1)]:[`${i}:${Nc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${th(n)}/${t[0]}`:`${th(n)}/(${t.join("//")})`}}function gD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jd(n){return gD(n).replace(/%3B/gi,";")}function A2(n){return encodeURI(n)}function fv(n){return gD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(n){return decodeURIComponent(n)}function rD(n){return nh(n.replace(/\+/g,"%20"))}function yD(n){return`${fv(n.path)}${R2(n.parameters)}`}function R2(n){return Object.entries(n).map(([e,t])=>`;${fv(e)}=${fv(t)}`).join("")}function P2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Jd(t)}=${Jd(i)}`).join("&"):`${Jd(t)}=${Jd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var M2=/^[^\/()?;#]+/;function av(n){let e=n.match(M2);return e?e[0]:""}var N2=/^[^\/()?;=#]+/;function x2(n){let e=n.match(N2);return e?e[0]:""}var k2=/^[^=?&#]+/;function O2(n){let e=n.match(k2);return e?e[0]:""}var F2=/^[^&#]+/;function L2(n){let e=n.match(F2);return e?e[0]:""}var pv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new Ae(e,t)),r}parseSegment(){let e=av(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new vi(nh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=x2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=av(this.remaining);i&&(r=i,this.capture(r))}e[nh(t)]=nh(r)}parseQueryParam(e){let t=O2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=L2(this.remaining);s&&(r=s,this.capture(r))}let i=rD(t),o=rD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=av(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ue]:new Ae([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function vD(n){return n.segments.length>0?new Ae([],{[ue]:n}):n}function _D(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=_D(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ae(n.segments,e);return V2(t)}function V2(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new Ae(n.segments.concat(e.segments),e.children)}return n}function Vs(n){return n instanceof cr}function ED(n,e,t=null,r=null){let i=wD(n);return ID(i,e,t,r)}function wD(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new Ae(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=vD(r);return e??i}function ID(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return cv(i,i,i,t,r);let o=j2(e);if(o.toRoot())return cv(i,i,new Ae([],{}),t,r);let s=U2(o,i,n),a=s.processChildren?kc(s.segmentGroup,s.index,o.commands):TD(s.segmentGroup,s.index,o.commands);return cv(i,s.segmentGroup,a,t,r)}function ih(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Fc(n){return typeof n=="object"&&n!=null&&n.outlets}function cv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=bD(n,e,t);let a=vD(_D(s));return new cr(a,o,i)}function bD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=bD(o,e,t)}),new Ae(n.segments,r)}var oh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ih(r[0]))throw new O(4003,!1);let i=r.find(Fc);if(i&&i!==dD(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function j2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new oh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new oh(t,e,r)}var Fs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function U2(n,e,t){if(n.isAbsolute)return new Fs(e,!0,0);if(!t)return new Fs(e,!1,NaN);if(t.parent===null)return new Fs(t,!0,0);let r=ih(n.commands[0])?0:1,i=t.segments.length-1+r;return B2(t,i,n.numberOfDoubleDots)}function B2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Fs(r,!1,i-o)}function $2(n){return Fc(n[0])?n[0].outlets:{[ue]:n}}function TD(n,e,t){if(n??=new Ae([],{}),n.segments.length===0&&n.hasChildren())return kc(n,e,t);let r=H2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ae(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new Ae(n.segments.slice(r.pathIndex),n.children),kc(o,0,i)}else return r.match&&i.length===0?new Ae(n.segments,{}):r.match&&!n.hasChildren()?mv(n,e,t):r.match?kc(n,0,i):mv(n,e,t)}function kc(n,e,t){if(t.length===0)return new Ae(n.segments,{});{let r=$2(t),i={};if(Object.keys(r).some(o=>o!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let o=kc(n.children[ue],e,t);return new Ae(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(n.segments,i)}}function H2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Fc(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!oD(l,u,s))return o;r+=2}else{if(!oD(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Fc(o)){let l=z2(o.outlets);return new Ae(r,l)}if(i===0&&ih(t[0])){let l=n.segments[e];r.push(new vi(l.path,iD(t[0]))),i++;continue}let s=Fc(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ih(a)?(r.push(new vi(s,iD(a))),i+=2):(r.push(new vi(s,{})),i++)}return new Ae(r,{})}function z2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=mv(new Ae([],{}),0,r))}),e}function iD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function oD(n,e,t){return n==t.path&&sr(e,t.parameters)}var rh="imperative",ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{}),ln=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ei=class extends ln{type=ft.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends ln{urlAfterRedirects;type=ft.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Yt||{}),js=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(js||{}),ar=class extends ln{reason;code;type=ft.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lr=class extends ln{reason;code;type=ft.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Us=class extends ln{error;target;type=ft.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lc=class extends ln{urlAfterRedirects;state;type=ft.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sh=class extends ln{urlAfterRedirects;state;type=ft.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ah=class extends ln{urlAfterRedirects;state;shouldActivate;type=ft.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ch=class extends ln{urlAfterRedirects;state;type=ft.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lh=class extends ln{urlAfterRedirects;state;type=ft.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uh=class{route;type=ft.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dh=class{route;type=ft.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hh=class{snapshot;type=ft.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fh=class{snapshot;type=ft.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ph=class{snapshot;type=ft.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mh=class{snapshot;type=ft.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bs=class{routerEvent;position;anchor;type=ft.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Vc=class{},$s=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function q2(n,e){return n.providers&&!n._injector&&(n._injector=Ic(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xn(n){return n.outlet||ue}function G2(n,e){let t=n.filter(r=>xn(r)===e);return t.push(...n.filter(r=>xn(r)!==e)),t}function qc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var gh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return qc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ho(this.rootInjector)}},ho=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new gh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(X(Rt))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=gv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=gv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=yv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yv(e,this._root).map(t=>t.value)}};function gv(n,e){if(n===e.value)return e;for(let t of e.children){let r=gv(n,t);if(r)return r}return null}function yv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=yv(n,t);if(r.length)return r.unshift(e),r}return[]}var cn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Os(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var jc=class extends yh{snapshot;constructor(e,t){super(e),this.snapshot=t,Cv(this,e)}toString(){return this.snapshot.toString()}};function CD(n){let e=W2(n),t=new We([new vi("",{})]),r=new We({}),i=new We({}),o=new We({}),s=new We(""),a=new Lr(t,r,o,s,i,ue,n,e.root);return a.snapshot=e.root,new jc(new cn(a,[]),e)}function W2(n){let e={},t={},r={},i="",o=new co([],e,r,i,t,ue,n,null,{});return new Uc("",new cn(o,[]))}var Lr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(K(u=>u[zc]))??re(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>lo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>lo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&DD(i)&&(r.resolve[zc]=i.title),r}var co=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[zc]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Uc=class extends yh{url;constructor(e,t){super(t),this.url=e,Cv(this,t)}toString(){return SD(this._root)}};function Cv(n,e){e.value._routerState=n,e.children.forEach(t=>Cv(n,t))}function SD(n){let e=n.children.length>0?` { ${n.children.map(SD).join(", ")} } `:"";return`${n.value}${e}`}function lv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,sr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),sr(e.params,t.params)||n.paramsSubject.next(t.params),w2(e.url,t.url)||n.urlSubject.next(t.url),sr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vv(n,e){let t=sr(n.params,e.params)&&C2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||vv(n.parent,e.parent))}function DD(n){return typeof n.title=="string"||n.title===null}var AD=new Q(""),Gc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new qt;deactivateEvents=new qt;attachEvents=new qt;detachEvents=new qt;routerOutletData=y0(void 0);parentContexts=R(ho);location=R(mi);changeDetector=R(xs);inputBinder=R(Wc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new _v(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=so({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ed]})}return n})(),_v=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Lr?this.route:e===ho?this.childContexts:e===AD?this.outletData:this.parent.get(e,t)}},Wc=new Q(""),Sv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Hi([r.queryParams,r.params,r.data]).pipe(mt(([o,s,a],l)=>(a=U(U(U({},o),s),a),l===0?re(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=FS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function K2(n,e,t){let r=Bc(n,e._root,t?t._root:void 0);return new jc(r,e)}function Bc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Q2(n,e,t);return new cn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Bc(n,a)),s}}let r=Y2(e.value),i=e.children.map(o=>Bc(n,o));return new cn(r,i)}}function Q2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bc(n,r,i);return Bc(n,r)})}function Y2(n){return new Lr(new We(n.url),new We(n.params),new We(n.queryParams),new We(n.fragment),new We(n.data),n.outlet,n.component,n)}var Hs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},RD="ngNavigationCancelingError";function _h(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PD(!1,Yt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function PD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[RD]=!0,t.cancellationCode=e,t}function Z2(n){return MD(n)&&Vs(n.url)}function MD(n){return!!n&&n[RD]}var J2=(n,e,t,r)=>K(i=>(new Ev(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ev=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Os(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Os(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new mh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(lv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Eh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ls=class{component;route;constructor(e,t){this.component=e,this.route=t}};function X2(n,e,t){let r=n._root,i=e?e._root:null;return xc(r,i,t,[r.value])}function ej(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function qs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!dC(n)?n:e.get(n):r}function xc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Os(e);return n.children.forEach(s=>{tj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Oc(a,t.getContext(s),i)),i}function tj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=nj(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Eh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?xc(n,e,a?a.children:null,r,i):xc(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ls(a.outlet.component,s))}else s&&Oc(e,a,i),i.canActivateChecks.push(new Eh(r)),o.component?xc(n,null,a?a.children:null,r,i):xc(n,null,t,r,i);return i}function nj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ao(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(n.url,e.url)||!sr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vv(n,e)||!sr(n.queryParams,e.queryParams);case"paramsChange":default:return!vv(n,e)}}function Oc(n,e,t){let r=Os(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Oc(s,e.children.getContext(o),t):Oc(s,null,t):Oc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ls(e.outlet.component,i)):t.canDeactivateChecks.push(new Ls(null,i)):t.canDeactivateChecks.push(new Ls(null,i))}function Kc(n){return typeof n=="function"}function rj(n){return typeof n=="boolean"}function ij(n){return n&&Kc(n.canLoad)}function oj(n){return n&&Kc(n.canActivate)}function sj(n){return n&&Kc(n.canActivateChild)}function aj(n){return n&&Kc(n.canDeactivate)}function cj(n){return n&&Kc(n.canMatch)}function ND(n){return n instanceof Sn||n?.name==="EmptyError"}var Xd=Symbol("INITIAL_VALUE");function zs(){return mt(n=>Hi(n.map(e=>e.pipe(Tr(1),ku(Xd)))).pipe(K(e=>{for(let t of e)if(t!==!0){if(t===Xd)return Xd;if(t===!1||lj(t))return t}return!0}),pt(e=>e!==Xd),Tr(1)))}function lj(n){return Vs(n)||n instanceof Hs}function uj(n,e){return nt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?re(Me(U({},t),{guardsResult:!0})):dj(s,r,i,n).pipe(nt(a=>a&&rj(a)?hj(r,o,n,e):re(a)),K(a=>Me(U({},t),{guardsResult:a})))})}function dj(n,e,t,r){return Ne(n).pipe(nt(i=>yj(i.component,i.route,t,e,r)),Cr(i=>i!==!0,!0))}function hj(n,e,t,r){return Ne(e).pipe(si(i=>ns(pj(i.route.parent,r),fj(i.route,r),gj(n,i.path,t),mj(n,i.route,t))),Cr(i=>i!==!0,!0))}function fj(n,e){return n!==null&&e&&e(new ph(n)),re(!0)}function pj(n,e){return n!==null&&e&&e(new hh(n)),re(!0)}function mj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(o=>Pu(()=>{let s=qc(e)??t,a=qs(o,s),l=oj(a)?a.canActivate(e,n):Mt(s,()=>a(e,n));return wi(l).pipe(Cr())}));return re(i).pipe(zs())}function gj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ej(s)).filter(s=>s!==null).map(s=>Pu(()=>{let a=s.guards.map(l=>{let u=qc(s.node)??t,h=qs(l,u),p=sj(h)?h.canActivateChild(r,n):Mt(u,()=>h(r,n));return wi(p).pipe(Cr())});return re(a).pipe(zs())}));return re(o).pipe(zs())}function yj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let l=qc(e)??i,u=qs(a,l),h=aj(u)?u.canDeactivate(n,e,t,r):Mt(l,()=>u(n,e,t,r));return wi(h).pipe(Cr())});return re(s).pipe(zs())}function vj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let o=i.map(s=>{let a=qs(s,n),l=ij(a)?a.canLoad(e,t):Mt(n,()=>a(e,t));return wi(l)});return re(o).pipe(zs(),xD(r))}function xD(n){return hu(Be(e=>{if(typeof e!="boolean")throw _h(n,e)}),K(e=>e===!0))}function _j(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let o=i.map(s=>{let a=qs(s,n),l=cj(a)?a.canMatch(e,t):Mt(n,()=>a(e,t));return wi(l)});return re(o).pipe(zs(),xD(r))}var $c=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Hc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ks(n){return es(new $c(n))}function Ej(n){return es(new O(4e3,!1))}function wj(n){return es(PD(!1,Yt.GuardRejected))}var wv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[ue])return Ej(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:y,params:g,data:w,title:A}=i,M=Mt(o,()=>a({params:g,data:w,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:y,title:A}));if(M instanceof cr)throw new Hc(M);t=M}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Hc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new cr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ae(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Iv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ij(n,e,t,r,i){let o=kD(n,e,t);return o.matched?(r=q2(e,r),_j(r,e,t,i).pipe(K(s=>s===!0?o:U({},Iv)))):re(o)}function kD(n,e,t){if(e.path==="**")return bj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},Iv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||lD)(t,n,e);if(!i)return U({},Iv);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function bj(n){return{matched:!0,parameters:n.length>0?dD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sD(n,e,t,r){return t.length>0&&Sj(n,t,r)?{segmentGroup:new Ae(e,Cj(r,new Ae(t,n.children))),slicedSegments:[]}:t.length===0&&Dj(n,t,r)?{segmentGroup:new Ae(n.segments,Tj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ae(n.segments,n.children),slicedSegments:t}}function Tj(n,e,t,r){let i={};for(let o of t)if(Ih(n,e,o)&&!r[xn(o)]){let s=new Ae([],{});i[xn(o)]=s}return U(U({},r),i)}function Cj(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&xn(r)!==ue){let i=new Ae([],{});t[xn(r)]=i}return t}function Sj(n,e,t){return t.some(r=>Ih(n,e,r)&&xn(r)!==ue)}function Dj(n,e,t){return t.some(r=>Ih(n,e,r))}function Ih(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Aj(n,e,t){return e.length===0&&!n.children[t]}var bv=class{};function Rj(n,e,t,r,i,o,s="emptyOnly"){return new Tv(n,e,t,r,i,s,o).recognize()}var Pj=31,Tv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wv(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=sD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(({children:t,rootSnapshot:r})=>{let i=new cn(r,t),o=new Uc("",i),s=ED(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new co([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(K(r=>({children:r,rootSnapshot:t})),br(r=>{if(r instanceof Hc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $c?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(K(s=>s instanceof cn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(si(s=>{let a=r.children[s],l=G2(t,s);return this.processSegmentGroup(e,l,a,s,i)}),Nu((s,a)=>(s.push(...a),s)),ai(null),Nm(),nt(s=>{if(s===null)return ks(r);let a=OD(s);return Mj(a),re(a)}))}processSegment(e,t,r,i,o,s,a){return Ne(t).pipe(si(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(br(u=>{if(u instanceof $c)return re(null);throw u}))),Cr(l=>!!l),br(l=>{if(ND(l))return Aj(r,i,o)?re(new bv):ks(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return xn(r)!==s&&(s===ue||!Ih(i,o,r))?ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):ks(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=kD(t,i,o);if(!l)return ks(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Pj&&(this.allowRedirects=!1));let g=new co(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,aD(i),xn(i),i.component??i._loadedComponent??null,i,cD(i)),w=vh(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(w.params),g.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,g,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(nt(M=>this.processSegment(e,r,t,M.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Ij(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(mt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(mt(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:g}=l,w=new co(y,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,aD(r),xn(r),r.component??r._loadedComponent??null,r,cD(r)),A=vh(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:M,slicedSegments:V}=sD(t,y,g,u);if(V.length===0&&M.hasChildren())return this.processChildren(h,u,M,w).pipe(K(G=>new cn(w,G)));if(u.length===0&&V.length===0)return re(new cn(w,[]));let Y=xn(r)===o;return this.processSegment(h,u,M,V,Y?ue:o,!0,w).pipe(K(G=>new cn(w,G instanceof cn?[G]:[])))}))):ks(t)))}getChildConfig(e,t,r){return t.children?re({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?re({routes:t._loadedRoutes,injector:t._loadedInjector}):vj(e,t,r,this.urlSerializer).pipe(nt(i=>i?this.configLoader.loadChildren(e,t).pipe(Be(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):wj(t))):re({routes:[],injector:e})}};function Mj(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function Nj(n){let e=n.value.routeConfig;return e&&e.path===""}function OD(n){let e=[],t=new Set;for(let r of n){if(!Nj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=OD(r.children);e.push(new cn(r.value,i))}return e.filter(r=>!t.has(r))}function aD(n){return n.data||{}}function cD(n){return n.resolve||{}}function xj(n,e,t,r,i,o){return nt(s=>Rj(n,e,t,r,s.extractedUrl,i,o).pipe(K(({state:a,tree:l})=>Me(U({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function kj(n,e){return nt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return re(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of FD(l))s.add(u);let a=0;return Ne(s).pipe(si(l=>o.has(l)?Oj(l,r,n,e):(l.data=vh(l,l.parent,n).resolve,re(void 0))),Be(()=>a++),rs(1),nt(l=>a===s.size?re(t):At))})}function FD(n){let e=n.children.map(t=>FD(t)).flat();return[n,...e]}function Oj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!DD(i)&&(o[zc]=i.title),Fj(o,n,e,r).pipe(K(s=>(n._resolvedData=s,n.data=vh(n,n.parent,t).resolve,null)))}function Fj(n,e,t,r){let i=hv(n);if(i.length===0)return re({});let o={};return Ne(i).pipe(nt(s=>Lj(n[s],e,t,r).pipe(Cr(),Be(a=>{if(a instanceof Hs)throw _h(new _i,a);o[s]=a}))),rs(1),K(()=>o),br(s=>ND(s)?At:es(s)))}function Lj(n,e,t,r){let i=qc(e)??r,o=qs(n,i),s=o.resolve?o.resolve(e,t):Mt(i,()=>o(e,t));return wi(s)}function uv(n){return mt(e=>{let t=n(e);return t?Ne(t).pipe(K(()=>e)):re(e)})}var Dv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[zc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(LD),providedIn:"root"})}return n})(),LD=(()=>{class n extends Dv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(X(eD))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fo=new Q("",{providedIn:"root",factory:()=>({})}),Av=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[Gc],encapsulation:2})}return n})();function Rv(n){let e=n.children&&n.children.map(Rv),t=e?Me(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Av),t}var po=new Q(""),bh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(Ud);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return re(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=wi(t.loadComponent()).pipe(K(jD),Be(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ac(()=>{this.componentLoaders.delete(t)})),i=new Qo(r,()=>new Ue).pipe(Ko());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=VD(r,this.compiler,t,this.onLoadEndListener).pipe(ac(()=>{this.childrenLoaders.delete(r)})),s=new Qo(o,()=>new Ue).pipe(Ko());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VD(n,e,t,r){return wi(n.loadChildren()).pipe(K(jD),nt(i=>i instanceof Oy||Array.isArray(i)?re(i):Ne(e.compileModuleAsync(i))),K(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(po,[],{optional:!0,self:!0}).flat()),{routes:s.map(Rv),injector:o}}))}function Vj(n){return n&&typeof n=="object"&&"default"in n}function jD(n){return Vj(n)?n.default:n}var Th=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(jj),providedIn:"root"})}return n})(),jj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pv=new Q(""),Mv=new Q("");function UD(n,e,t){let r=n.get(Mv),i=n.get(ot);return n.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),Uj(n))),{onViewTransitionCreated:l}=r;return l&&Mt(n,()=>l({transition:a,from:e,to:t})),s})}function Uj(n){return new Promise(e=>{vy({read:()=>setTimeout(e)},{injector:n})})}var Nv=new Q(""),Ch=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortSubject=new Ue;configLoader=R(bh);environmentInjector=R(Rt);destroyRef=R(Ts);urlSerializer=R(uo);rootContexts=R(ho);location=R(yi);inputBindingEnabled=R(Wc,{optional:!0})!==null;titleStrategy=R(Dv);options=R(fo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(Th);createViewTransition=R(Pv,{optional:!0});navigationErrorHandler=R(Nv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>re(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new uh(i)),r=i=>this.events.next(new dh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Me(U({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new We(null),this.transitions.pipe(pt(r=>r!==null),mt(r=>{let i=!1,o=!1;return re(r).pipe(mt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Yt.SupersededByNewNavigation),At;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Me(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let u="";return this.events.next(new lr(s.id,this.urlSerializer.serialize(s.rawUrl),u,js.IgnoredSameUrlNavigation)),s.resolve(!1),At}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return re(s).pipe(mt(u=>(this.events.next(new Ei(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?At:Promise.resolve(u))),xj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Me(U({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new Lc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:h,source:p,restoredState:y,extras:g}=s,w=new Ei(u,this.urlSerializer.serialize(h),p,y);this.events.next(w);let A=CD(this.rootComponentType).snapshot;return this.currentTransition=r=Me(U({},s),{targetSnapshot:A,urlAfterRedirects:h,extras:Me(U({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,re(r)}else{let u="";return this.events.next(new lr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,js.IgnoredByUrlHandlingStrategy)),s.resolve(!1),At}}),Be(s=>{let a=new sh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),K(s=>(this.currentTransition=r=Me(U({},s),{guards:X2(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),uj(this.environmentInjector,s=>this.events.next(s)),Be(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw _h(this.urlSerializer,s.guardsResult);let a=new ah(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),pt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Yt.GuardRejected),!1)),uv(s=>{if(s.guards.canActivateChecks.length!==0)return re(s).pipe(Be(a=>{let l=new ch(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),mt(a=>{let l=!1;return re(a).pipe(kj(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Yt.NoDataFromResolver)}}))}),Be(a=>{let l=new lh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),uv(s=>{let a=l=>{let u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Be(h=>{l.component=h}),K(()=>{})));for(let h of l.children)u.push(...a(h));return u};return Hi(a(s.targetSnapshot.root)).pipe(ai(null),Tr(1))}),uv(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Ne(l).pipe(K(()=>r)):re(r)}),K(s=>{let a=K2(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Me(U({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Be(()=>{this.events.next(new Vc)}),J2(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Tr(1),Be({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),km(this.transitionAbortSubject.pipe(Be(s=>{throw s}))),ac(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Yt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),br(s=>{if(this.destroyed)return r.resolve(!1),At;if(o=!0,MD(s))this.events.next(new ar(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Z2(s)?this.events.next(new $s(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Us(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Mt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Hs){let{message:u,cancellationCode:h}=_h(this.urlSerializer,l);this.events.next(new ar(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new $s(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return At}))}))}cancelNavigationTransition(t,r,i){let o=new ar(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bj(n){return n!==rh}var BD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R($j),providedIn:"root"})}return n})(),wh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},$j=(()=>{class n extends wh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=uy(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$D=(()=>{class n{urlSerializer=R(uo);options=R(fo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(yi);urlHandlingStrategy=R(Th);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new cr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof cr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=CD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:()=>R(Hj),providedIn:"root"})}return n})(),Hj=(()=>{class n extends $D{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ei?this.updateStateMemento():t instanceof lr?this.commitTransition(r):t instanceof Lc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ar&&(t.code===Yt.GuardRejected||t.code===Yt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Us?this.restoreHistory(r,!0):t instanceof kn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=U(U({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=U(U({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=uy(n)))(i||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sh(n,e){n.events.pipe(pt(t=>t instanceof kn||t instanceof ar||t instanceof Us||t instanceof lr),K(t=>t instanceof kn||t instanceof lr?0:(t instanceof ar?t.code===Yt.Redirect||t.code===Yt.SupersededByNewNavigation:!1)?2:1),pt(t=>t!==2),Tr(1)).subscribe(()=>{e()})}var zj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},On=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(Fy);stateManager=R($D);options=R(fo,{optional:!0})||{};pendingTasks=R(io);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(Ch);urlSerializer=R(uo);location=R(yi);urlHandlingStrategy=R(Th);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(BD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(po,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(Wc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ar&&r.code!==Yt.Redirect&&r.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof kn)this.navigated=!0;else if(r instanceof $s){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Bj(i.source)},s);this.scheduleNavigation(a,rh,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Wj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=U({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Rv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=wD(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return ID(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Vs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,rh,null,r)}navigate(t,r={skipLocationChange:!1}){return Gj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},zj):r===!1?i=U({},qj):i=r,Vs(t))return nD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return nD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,y)=>{a=p,l=y});let h=this.pendingTasks.add();return Sh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new O(4008,!1)}function Wj(n){return!(n instanceof Vc)&&!(n instanceof $s)}var Qc=class{};var HD=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(pt(t=>t instanceof kn),si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ic(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ne(i).pipe(ts())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=re(null);let o=i.pipe(nt(s=>s===null?re(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ne([o,s]).pipe(ts())}else return o})}static \u0275fac=function(r){return new(r||n)(X(On),X(Ud),X(Rt),X(Qc),X(bh))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zD=new Q(""),Kj=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ei?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof lr&&t.code===js.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Bs&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bs(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Ld()};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function kv(n,...e){return Yn([{provide:po,multi:!0,useValue:n},[],{provide:Lr,useFactory:qD,deps:[On]},{provide:jd,multi:!0,useFactory:GD},e.map(t=>t.\u0275providers)])}function qD(n){return n.routerState.root}function Yc(n,e){return{\u0275kind:n,\u0275providers:e}}function GD(){let n=R(ct);return e=>{let t=n.get(di);if(e!==t.components[0])return;let r=n.get(On),i=n.get(WD);n.get(Ov)===1&&r.initialNavigation(),n.get(YD,null,fe.Optional)?.setUpPreloading(),n.get(zD,null,fe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WD=new Q("",{factory:()=>new Ue}),Ov=new Q("",{providedIn:"root",factory:()=>1});function KD(){return Yc(2,[{provide:Ov,useValue:0},{provide:Vd,multi:!0,deps:[ct],useFactory:e=>{let t=e.get(Hy,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(On),o=e.get(WD);Sh(i,()=>{r(!0)}),e.get(Ch).afterPreactivation=()=>(r(!0),o.closed?re(void 0):o),i.initialNavigation()}))}}])}function QD(){return Yc(3,[{provide:Vd,multi:!0,useFactory:()=>{let e=R(On);return()=>{e.setUpLocationChangeListener()}}},{provide:Ov,useValue:2}])}var YD=new Q("");function ZD(n){return Yc(0,[{provide:YD,useExisting:HD},{provide:Qc,useExisting:n}])}function JD(){return Yc(8,[Sv,{provide:Wc,useExisting:Sv}])}function XD(n){let e=[{provide:Pv,useValue:UD},{provide:Mv,useValue:U({skipNextTransition:!!n?.skipInitialTransition},n)}];return Yc(9,e)}var eA=[yi,{provide:uo,useClass:_i},On,ho,{provide:Lr,useFactory:qD,deps:[On]},bh,[]],Fv=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[eA,[],{provide:po,multi:!0,useValue:t},[],r?.errorHandler?{provide:Nv,useValue:r.errorHandler}:[],{provide:fo,useValue:r||{}},r?.useHash?Yj():Zj(),Qj(),r?.preloadingStrategy?ZD(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Jj(r):[],r?.bindToComponentInputs?JD().\u0275providers:[],r?.enableViewTransitions?XD().\u0275providers:[],Xj()]}}static forChild(t){return{ngModule:n,providers:[{provide:po,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Rs({type:n});static \u0275inj=Es({})}return n})();function Qj(){return{provide:zD,useFactory:()=>{let n=R(qS),e=R(Ie),t=R(fo),r=R(Ch),i=R(uo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Kj(i,r,n,e,t)}}}function Yj(){return{provide:Fr,useClass:Wy}}function Zj(){return{provide:Fr,useClass:zd}}function Jj(n){return[n.initialNavigation==="disabled"?QD().\u0275providers:[],n.initialNavigation==="enabledBlocking"?KD().\u0275providers:[]]}var xv=new Q("");function Xj(){return[{provide:xv,useFactory:GD},{provide:jd,multi:!0,useExisting:xv}]}var se=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(se||{}),yn="*";function Lv(n,e){return{type:se.Trigger,name:n,definitions:e,options:{}}}function Vv(n,e=null){return{type:se.Animate,styles:e,timings:n}}function tA(n,e=null){return{type:se.Sequence,steps:n,options:e}}function go(n){return{type:se.Style,styles:n,offset:null}}function Dh(n,e,t){return{type:se.State,name:n,styles:e,options:t}}function jv(n,e,t=null){return{type:se.Transition,expr:n,animation:e,options:t}}var ur=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},mo=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Gs="!";function nA(n){return new O(3e3,!1)}function tU(){return new O(3100,!1)}function nU(){return new O(3101,!1)}function rU(n){return new O(3001,!1)}function iU(n){return new O(3003,!1)}function oU(n){return new O(3004,!1)}function iA(n,e){return new O(3005,!1)}function oA(){return new O(3006,!1)}function sA(){return new O(3007,!1)}function aA(n,e){return new O(3008,!1)}function cA(n){return new O(3002,!1)}function lA(n,e,t,r,i){return new O(3010,!1)}function uA(){return new O(3011,!1)}function dA(){return new O(3012,!1)}function hA(){return new O(3200,!1)}function fA(){return new O(3202,!1)}function pA(){return new O(3013,!1)}function mA(n){return new O(3014,!1)}function gA(n){return new O(3015,!1)}function yA(n){return new O(3016,!1)}function vA(n,e){return new O(3404,!1)}function sU(n){return new O(3502,!1)}function _A(n){return new O(3503,!1)}function EA(){return new O(3300,!1)}function wA(n){return new O(3504,!1)}function IA(n){return new O(3301,!1)}function bA(n,e){return new O(3302,!1)}function TA(n){return new O(3303,!1)}function CA(n,e){return new O(3400,!1)}function SA(n){return new O(3401,!1)}function DA(n){return new O(3402,!1)}function AA(n,e){return new O(3505,!1)}function Vr(n){switch(n.length){case 0:return new ur;case 1:return n[0];default:return new mo(n)}}function Hv(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),h=u==s,p=h&&a||new Map;l.forEach((y,g)=>{let w=g,A=y;if(g!=="offset")switch(w=n.normalizePropertyName(w,i),A){case Gs:A=t.get(g);break;case yn:A=r.get(g);break;default:A=n.normalizeStyleValue(g,w,A,i);break}p.set(w,A)}),h||o.push(p),a=p,s=u}),i.length)throw sU(i);return o}function Ah(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Uv(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Uv(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Uv(t,"destroy",n)));break}}function Uv(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Rh(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Rh(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Zt(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function zv(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var aU=typeof document>"u"?null:document.documentElement;function Ph(n){let e=n.parentNode||n.host||null;return e===aU?null:e}function cU(n){return n.substring(1,6)=="ebkit"}var yo=null,rA=!1;function RA(n){yo||(yo=lU()||{},rA=yo.style?"WebkitAppearance"in yo.style:!1);let e=!0;return yo.style&&!cU(n)&&(e=n in yo.style,!e&&rA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in yo.style)),e}function lU(){return typeof document<"u"?document.body:null}function qv(n,e){for(;e;){if(e===n)return!0;e=Ph(e)}return!1}function Gv(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var uU=1e3,Wv="{{",dU="}}",Kv="ng-enter",Mh="ng-leave",Zc="ng-trigger",Jc=".ng-trigger",Qv="ng-animating",Nh=".ng-animating";function dr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Bv(parseFloat(e[1]),e[2])}function Bv(n,e){switch(e){case"s":return n*uU;default:return n}}function Xc(n,e,t){return n.hasOwnProperty("duration")?n:hU(n,e,t)}function hU(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(nA(n)),{duration:0,delay:0,easing:""};i=Bv(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Bv(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(tU()),a=!0),o<0&&(e.push(nU()),a=!0),a&&e.splice(l,0,nA(n))}return{duration:i,delay:o,easing:s}}function PA(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Fn(n,e,t){e.forEach((r,i)=>{let o=xh(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Ii(n,e){e.forEach((t,r)=>{let i=xh(r);n.style[i]=""})}function Ws(n){return Array.isArray(n)?n.length==1?n[0]:tA(n):n}function MA(n,e,t){let r=e.params||{},i=Yv(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(rU(o))})}var $v=new RegExp(`${Wv}\\s*(.+?)\\s*${dU}`,"g");function Yv(n){let e=[];if(typeof n=="string"){let t;for(;t=$v.exec(n);)e.push(t[1]);$v.lastIndex=0}return e}function Ks(n,e,t){let r=`${n}`,i=r.replace($v,(o,s)=>{let a=e[s];return a==null&&(t.push(iU(s)),a=""),a.toString()});return i==r?n:i}var fU=/-+([a-z0-9])/g;function xh(n){return n.replace(fU,(...e)=>e[1].toUpperCase())}function NA(n,e){return n===0||e===0}function xA(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,kh(n,a)))}}return e}function Jt(n,e,t){switch(e.type){case se.Trigger:return n.visitTrigger(e,t);case se.State:return n.visitState(e,t);case se.Transition:return n.visitTransition(e,t);case se.Sequence:return n.visitSequence(e,t);case se.Group:return n.visitGroup(e,t);case se.Animate:return n.visitAnimate(e,t);case se.Keyframes:return n.visitKeyframes(e,t);case se.Style:return n.visitStyle(e,t);case se.Reference:return n.visitReference(e,t);case se.AnimateChild:return n.visitAnimateChild(e,t);case se.AnimateRef:return n.visitAnimateRef(e,t);case se.Query:return n.visitQuery(e,t);case se.Stagger:return n.visitStagger(e,t);default:throw oU(e.type)}}function kh(n,e){return window.getComputedStyle(n)[e]}var f_=(()=>{class n{validateStyleProperty(t){return RA(t)}containsElement(t,r){return qv(t,r)}getParentElement(t){return Ph(t)}query(t,r,i){return Gv(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new ur(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),_o=class{static NOOP=new f_},Eo=class{};var pU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),jh=class extends Eo{normalizePropertyName(e,t){return xh(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(pU.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(iA(e,r))}return s+o}};var Uh="*";function mU(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>gU(r,t,e)):t.push(n),t}function gU(n,e,t){if(n[0]==":"){let l=yU(n,t);if(typeof l=="function"){e.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(gA(n)),e;let i=r[1],o=r[2],s=r[3];e.push(kA(i,s));let a=i==Uh&&s==Uh;o[0]=="<"&&!a&&e.push(kA(s,i))}function yU(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(yA(n)),"* => *"}}var Oh=new Set(["true","1"]),Fh=new Set(["false","0"]);function kA(n,e){let t=Oh.has(n)||Fh.has(n),r=Oh.has(e)||Fh.has(e);return(i,o)=>{let s=n==Uh||n==i,a=e==Uh||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Oh.has(n):Fh.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Oh.has(e):Fh.has(e)),s&&a}}var zA=":self",vU=new RegExp(`s*${zA}s*,?`,"g");function qA(n,e,t,r){return new n_(n).build(e,t,r)}var OA="",n_=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new r_(t);return this._resetContextStyleTimingState(i),Jt(this,Ws(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=OA,e.collectedStyles=new Map,e.collectedStyles.set(OA,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(oA()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==se.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=u}else if(a.type==se.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(sA())}),{type:se.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Yv(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(aA(e.name,[...o.values()]))}return{type:se.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Jt(this,Ws(e.animation),t),i=mU(e.expr,t.errors);return{type:se.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:vo(e.options)}}visitSequence(e,t){return{type:se.Sequence,steps:e.steps.map(r=>Jt(this,r,t)),options:vo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Jt(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:se.Group,steps:o,options:vo(e.options)}}visitAnimate(e,t){let r=IU(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:go({});if(o.type==se.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=go(u)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:se.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===yn?r.push(a):t.errors.push(cA(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(Wv)>=0){o=!0;break}}}),{type:se.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(l),p=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(t.errors.push(lA(l,h.startTime,h.endTime,o,i)),p=!1),o=h.startTime),p&&u.set(l,{startTime:o,endTime:i}),t.options&&MA(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:se.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(uA()),r;let i=1,o=0,s=[],a=!1,l=!1,u=0,h=e.steps.map(V=>{let Y=this._makeStyleAst(V,t),G=Y.offset!=null?Y.offset:wU(Y.styles),Z=0;return G!=null&&(o++,Z=Y.offset=G),l=l||Z<0||Z>1,a=a||Z<u,u=Z,s.push(Z),Y});l&&t.errors.push(dA()),a&&t.errors.push(hA());let p=e.steps.length,y=0;o>0&&o<p?t.errors.push(fA()):o==0&&(y=i/(p-1));let g=p-1,w=t.currentTime,A=t.currentAnimateTimings,M=A.duration;return h.forEach((V,Y)=>{let G=y>0?Y==g?1:y*Y:s[Y],Z=G*M;t.currentTime=w+A.delay+Z,A.duration=Z,this._validateStyleAst(V,t),V.offset=G,r.styles.push(V)}),r}visitReference(e,t){return{type:se.Reference,animation:Jt(this,Ws(e.animation),t),options:vo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:se.AnimateChild,options:vo(e.options)}}visitAnimateRef(e,t){return{type:se.AnimateRef,animation:this.visitReference(e.animation,t),options:vo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=_U(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Zt(t.collectedStyles,t.currentQuerySelector,new Map);let a=Jt(this,Ws(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:se.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:vo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(pA());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Xc(e.timings,t.errors,!0);return{type:se.Stagger,animation:Jt(this,Ws(e.animation),t),timings:r,options:null}}};function _U(n){let e=!!n.split(/\s*,\s*/).find(t=>t==zA);return e&&(n=n.replace(vU,"")),n=n.replace(/@\*/g,Jc).replace(/@\w+/g,t=>Jc+"-"+t.slice(1)).replace(/:animating/g,Nh),[n,e]}function EU(n){return n?U({},n):null}var r_=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function wU(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function IU(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Xc(n,e).duration;return Zv(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Zv(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Xc(t,e);return Zv(i.duration,i.delay,i.easing)}function vo(n){return n?(n=U({},n),n.params&&(n.params=EU(n.params))):n={},n}function Zv(n,e,t){return{duration:n,delay:e,easing:t}}function p_(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var tl=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},bU=1,TU=":enter",CU=new RegExp(TU,"g"),SU=":leave",DU=new RegExp(SU,"g");function GA(n,e,t,r,i,o=new Map,s=new Map,a,l,u=[]){return new i_().buildKeyframes(n,e,t,r,i,o,s,a,l,u)}var i_=class{buildKeyframes(e,t,r,i,o,s,a,l,u,h=[]){u=u||new tl;let p=new o_(e,t,u,i,o,h,[]);p.options=l;let y=l.delay?dr(l.delay):0;p.currentTimeline.delayNextStep(y),p.currentTimeline.setStyles([s],null,p.errors,l),Jt(this,r,p);let g=p.timelines.filter(w=>w.containsAnimation());if(g.length&&a.size){let w;for(let A=g.length-1;A>=0;A--){let M=g[A];if(M.element===t){w=M;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,l)}return g.length?g.map(w=>w.buildKeyframes()):[p_(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:dr(Ks(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?dr(r.duration):null,a=r.delay!=null?dr(r.delay):null;return s!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Jt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==se.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Bh);let s=dr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Jt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?dr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Jt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Ks(r,t.params,t.errors):r;return Xc(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==se.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?dr(i.delay):0;o&&(t.previousNode.type===se.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bh);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{t.currentQueryIndex=h;let p=t.createSubContext(e.options,u);o&&p.delayNextStep(o),u===t.element&&(l=p.currentTimeline),Jt(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let y=p.currentTimeline.currentTime;s=Math.max(s,y)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let h=t.currentTimeline;l&&h.delayNextStep(l);let p=h.currentTime;Jt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},Bh={},o_=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Bh;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new $h(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=dr(r.duration)),r.delay!=null&&(i.delay=dr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ks(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Bh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new s_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(CU,"."+this._enterClassName),e=e.replace(DU,"."+this._leaveClassName);let l=r!=1,u=this._driver.query(this.element,e,l);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(mA(t)),a}},$h=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=bU,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||yn),this._currentKeyframe.set(t,yn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=AU(e,this._globalTimelineStyles);for(let[a,l]of s){let u=Ks(l,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??yn),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((h,p)=>{h===Gs?e.add(p):h===yn&&t.add(p)}),r||u.set("offset",l/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return p_(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},s_=class extends $h{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let u=new Map(e[0]);u.set("offset",FA(a)),o.push(u);let h=e.length-1;for(let p=1;p<=h;p++){let y=new Map(e[p]),g=y.get("offset"),w=t+g*r;y.set("offset",FA(w/s)),o.push(y)}r=s,t=0,i="",e=o}return p_(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function FA(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function AU(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,yn)}else for(let[o,s]of i)t.set(o,s)}),t}function LA(n,e,t,r,i,o,s,a,l,u,h,p,y){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:p,errors:y}}var Jv={},Hh=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return RU(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,u,h){let p=[],y=this.ast.options&&this.ast.options.params||Jv,g=a&&a.params||Jv,w=this.buildStyles(r,g,p),A=l&&l.params||Jv,M=this.buildStyles(i,A,p),V=new Set,Y=new Map,G=new Map,Z=i==="void",Fe={params:WA(A,y),delay:this.ast.options?.delay},ie=h?[]:GA(e,t,this.ast.animation,o,s,w,M,Fe,u,p),I=0;return ie.forEach(v=>{I=Math.max(v.duration+v.delay,I)}),p.length?LA(t,this._triggerName,r,i,Z,w,M,[],[],Y,G,I,p):(ie.forEach(v=>{let _=v.element,b=Zt(Y,_,new Set);v.preStyleProps.forEach(D=>b.add(D));let T=Zt(G,_,new Set);v.postStyleProps.forEach(D=>T.add(D)),_!==t&&V.add(_)}),LA(t,this._triggerName,r,i,Z,w,M,ie,[...V.values()],Y,G,I))}};function RU(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function WA(n,e){let t=U({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var a_=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=WA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Ks(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}};function PU(n,e,t){return new c_(n,e,t)}var c_=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new a_(i.style,o,r))}),VA(this.states,"true","1"),VA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Hh(e,i,this.states))}),this.fallbackTransition=MU(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function MU(n,e,t){let r=[(s,a)=>!0],i={type:se.Sequence,steps:[],options:null},o={type:se.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Hh(n,o,e)}function VA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var NU=new tl,l_=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=qA(this._driver,t,r,i);if(r.length)throw _A(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=Hv(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=GA(this._driver,t,o,Kv,Mh,new Map,new Map,r,NU,i),s.forEach(h=>{let p=Zt(a,h.element,new Map);h.postStyleProps.forEach(y=>p.set(y,null))})):(i.push(EA()),s=[]),i.length)throw wA(i);a.forEach((h,p)=>{h.forEach((y,g)=>{h.set(g,this._driver.computeStyle(p,g,yn))})});let l=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),u=Vr(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw IA(e);return t}listen(e,t,r,i){let o=Rh(t,"","","");return Ah(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},jA="ng-animate-queued",xU=".ng-animate-queued",Xv="ng-animate-disabled",kU=".ng-animate-disabled",OU="ng-star-inserted",FU=".ng-star-inserted",LU=[],KA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ln="__ng_removed",nl=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=UU(i),r){let o=e,{value:s}=o,a=Nb(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},el="void",e_=new nl(el),u_=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,vn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw bA(r,t);if(r==null||r.length==0)throw TA(t);if(!BU(r))throw CA(r,t);let o=Zt(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Zt(this._engine.statesByElement,e,new Map);return a.has(t)||(vn(e,Zc),vn(e,Zc+"-"+t),a.set(t,e_)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw SA(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new rl(this.id,t,e),a=this._engine.statesByElement.get(e);a||(vn(e,Zc),vn(e,Zc+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new nl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=e_),!(u.value===el)&&l.value===u.value){if(!zU(l.params,u.params)){let A=[],M=o.matchStyles(l.value,l.params,A),V=o.matchStyles(u.value,u.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Ii(e,M),Fn(e,V)})}return}let y=Zt(this._engine.playersByElement,e,[]);y.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let g=o.matchTransition(l.value,u.value,e,u.params),w=!1;if(!g){if(!i)return;g=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:l,toState:u,player:s,isFallbackTransition:w}),w||(vn(e,jA),s.onStart(()=>{Qs(e,jA)})),s.onDone(()=>{let A=this.players.indexOf(s);A>=0&&this.players.splice(A,1);let M=this._engine.playersByElement.get(e);if(M){let V=M.indexOf(s);V>=0&&M.splice(V,1)}}),this.players.push(s),y.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Jc,!0);r.forEach(i=>{if(i[Ln])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let h=this.trigger(e,u,el,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Vr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,u=r.get(s)||e_,h=new nl(el),p=new rl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Ln];(!o||o===KA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){vn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=Rh(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Ah(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},d_=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new u_(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let u=r.indexOf(l);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Lh(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Lh(t))return;let o=t[Ln];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vn(e,Xv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qs(e,Xv))}removeNode(e,t,r){if(Lh(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Ln]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Lh(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Jc,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Nh,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ln];if(t&&t.setForRemoval){if(e[Ln]=KA,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Xv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,kU,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];vn(i,OU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Vr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw DA(e)}_flushAnimations(e,t){let r=new tl,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(q=>{h.add(q);let W=this.driver.query(q,xU,!0);for(let J=0;J<W.length;J++)h.add(W[J])});let p=this.bodyNode,y=Array.from(this.statesByElement.keys()),g=$A(y,this.collectedEnterElements),w=new Map,A=0;g.forEach((q,W)=>{let J=Kv+A++;w.set(W,J),q.forEach(ve=>vn(ve,J))});let M=[],V=new Set,Y=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){let W=this.collectedLeaveElements[q],J=W[Ln];J&&J.setForRemoval&&(M.push(W),V.add(W),J.hasAnimation?this.driver.query(W,FU,!0).forEach(ve=>V.add(ve)):Y.add(W))}let G=new Map,Z=$A(y,Array.from(V));Z.forEach((q,W)=>{let J=Mh+A++;G.set(W,J),q.forEach(ve=>vn(ve,J))}),e.push(()=>{g.forEach((q,W)=>{let J=w.get(W);q.forEach(ve=>Qs(ve,J))}),Z.forEach((q,W)=>{let J=G.get(W);q.forEach(ve=>Qs(ve,J))}),M.forEach(q=>{this.processLeaveNode(q)})});let Fe=[],ie=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(t).forEach(J=>{let ve=J.player,tt=J.element;if(Fe.push(ve),this.collectedEnterElements.length){let Je=tt[Ln];if(Je&&Je.setForMove){if(Je.previousTriggersValues&&Je.previousTriggersValues.has(J.triggerName)){let vr=Je.previousTriggersValues.get(J.triggerName),$t=this.statesByElement.get(J.element);if($t&&$t.has(J.triggerName)){let _r=$t.get(J.triggerName);_r.value=vr,$t.set(J.triggerName,_r)}}ve.destroy();return}}let fn=!p||!this.driver.containsElement(p,tt),Ze=G.get(tt),He=w.get(tt),ze=this._buildInstruction(J,r,He,Ze,fn);if(ze.errors&&ze.errors.length){ie.push(ze);return}if(fn){ve.onStart(()=>Ii(tt,ze.fromStyles)),ve.onDestroy(()=>Fn(tt,ze.toStyles)),i.push(ve);return}if(J.isFallbackTransition){ve.onStart(()=>Ii(tt,ze.fromStyles)),ve.onDestroy(()=>Fn(tt,ze.toStyles)),i.push(ve);return}let Jr=[];ze.timelines.forEach(Je=>{Je.stretchStartingKeyframe=!0,this.disabledNodes.has(Je.element)||Jr.push(Je)}),ze.timelines=Jr,r.append(tt,ze.timelines);let Op={instruction:ze,player:ve,element:tt};s.push(Op),ze.queriedElements.forEach(Je=>Zt(a,Je,[]).push(ve)),ze.preStyleProps.forEach((Je,vr)=>{if(Je.size){let $t=l.get(vr);$t||l.set(vr,$t=new Set),Je.forEach((_r,Xr)=>$t.add(Xr))}}),ze.postStyleProps.forEach((Je,vr)=>{let $t=u.get(vr);$t||u.set(vr,$t=new Set),Je.forEach((_r,Xr)=>$t.add(Xr))})});if(ie.length){let q=[];ie.forEach(W=>{q.push(AA(W.triggerName,W.errors))}),Fe.forEach(W=>W.destroy()),this.reportError(q)}let I=new Map,v=new Map;s.forEach(q=>{let W=q.element;r.has(W)&&(v.set(W,W),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,I))}),i.forEach(q=>{let W=q.element;this._getPreviousPlayers(W,!1,q.namespaceId,q.triggerName,null).forEach(ve=>{Zt(I,W,[]).push(ve),ve.destroy()})});let _=M.filter(q=>HA(q,l,u)),b=new Map;BA(b,this.driver,Y,u,yn).forEach(q=>{HA(q,l,u)&&_.push(q)});let D=new Map;g.forEach((q,W)=>{BA(D,this.driver,new Set(q),l,Gs)}),_.forEach(q=>{let W=b.get(q),J=D.get(q);b.set(q,new Map([...W?.entries()??[],...J?.entries()??[]]))});let E=[],hn=[],Zr={};s.forEach(q=>{let{element:W,player:J,instruction:ve}=q;if(r.has(W)){if(h.has(W)){J.onDestroy(()=>Fn(W,ve.toStyles)),J.disabled=!0,J.overrideTotalTime(ve.totalTime),i.push(J);return}let tt=Zr;if(v.size>1){let Ze=W,He=[];for(;Ze=Ze.parentNode;){let ze=v.get(Ze);if(ze){tt=ze;break}He.push(Ze)}He.forEach(ze=>v.set(ze,tt))}let fn=this._buildAnimation(J.namespaceId,ve,I,o,D,b);if(J.setRealPlayer(fn),tt===Zr)E.push(J);else{let Ze=this.playersByElement.get(tt);Ze&&Ze.length&&(J.parentPlayer=Vr(Ze)),i.push(J)}}else Ii(W,ve.fromStyles),J.onDestroy(()=>Fn(W,ve.toStyles)),hn.push(J),h.has(W)&&i.push(J)}),hn.forEach(q=>{let W=o.get(q.element);if(W&&W.length){let J=Vr(W);q.setRealPlayer(J)}}),i.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<M.length;q++){let W=M[q],J=W[Ln];if(Qs(W,Mh),J&&J.hasAnimation)continue;let ve=[];if(a.size){let fn=a.get(W);fn&&fn.length&&ve.push(...fn);let Ze=this.driver.query(W,Nh,!0);for(let He=0;He<Ze.length;He++){let ze=a.get(Ze[He]);ze&&ze.length&&ve.push(...ze)}}let tt=ve.filter(fn=>!fn.destroyed);tt.length?$U(this,W,tt):this.processLeaveNode(W)}return M.length=0,E.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();let W=this.players.indexOf(q);this.players.splice(W,1)}),q.play()}),E}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==el;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let u=l.element,h=u!==o,p=Zt(r,u,[]);this._getPreviousPlayers(u,h,s,a,t.toState).forEach(g=>{let w=g.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),g.destroy(),p.push(g)})}Ii(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,l=t.element,u=[],h=new Set,p=new Set,y=t.timelines.map(w=>{let A=w.element;h.add(A);let M=A[Ln];if(M&&M.removedBeforeQueried)return new ur(w.duration,w.delay);let V=A!==l,Y=HU((r.get(A)||LU).map(I=>I.getRealPlayer())).filter(I=>{let v=I;return v.element?v.element===A:!1}),G=o.get(A),Z=s.get(A),Fe=Hv(this._normalizer,w.keyframes,G,Z),ie=this._buildPlayer(w,Fe,Y);if(w.subTimeline&&i&&p.add(A),V){let I=new rl(e,a,A);I.setRealPlayer(ie),u.push(I)}return ie});u.forEach(w=>{Zt(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>jU(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>vn(w,Qv));let g=Vr(y);return g.onDestroy(()=>{h.forEach(w=>Qs(w,Qv)),Fn(l,t.toStyles)}),p.forEach(w=>{Zt(i,w,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ur(e.duration,e.delay)}},rl=class{namespaceId;triggerName;element;_player=new ur;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Ah(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Zt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function jU(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function UU(n){return n??null}function Lh(n){return n&&n.nodeType===1}function BU(n){return n=="start"||n=="done"}function UA(n,e){let t=n.style.display;return n.style.display=e??"none",t}function BA(n,e,t,r,i){let o=[];t.forEach(l=>o.push(UA(l)));let s=[];r.forEach((l,u)=>{let h=new Map;l.forEach(p=>{let y=e.computeStyle(u,p,i);h.set(p,y),(!y||y.length==0)&&(u[Ln]=VU,s.push(u))}),n.set(u,h)});let a=0;return t.forEach(l=>UA(l,o[a++])),s}function $A(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:i.has(u)?l=r:l=s(u),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==r&&t.get(l).push(a)}),t}function vn(n,e){n.classList?.add(e)}function Qs(n,e){n.classList?.remove(e)}function $U(n,e,t){Vr(t).onDone(()=>n.processLeaveNode(e))}function HU(n){let e=[];return QA(n,e),e}function QA(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof mo?QA(r.players,e):e.push(r)}}function zU(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function HA(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Ys=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new d_(e.body,t,r),this._timelineEngine=new l_(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],u=[],h=qA(this._driver,o,l,u);if(l.length)throw vA(i,l);a=PU(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=zv(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=zv(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function qU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=t_(e[0]),e.length>1&&(r=t_(e[e.length-1]))):e instanceof Map&&(t=t_(e)),t||r?new GU(n,t,r):null}var GU=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Fn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fn(this._element,this._initialStyles),this._endStyles&&(Fn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ii(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ii(this._element,this._endStyles),this._endStyles=null),Fn(this._element,this._initialStyles),this._state=3)}}return n})();function t_(n){let e=null;return n.forEach((t,r)=>{WU(r)&&(e=e||new Map,e.set(r,t))}),e}function WU(n){return n==="display"||n==="position"}var zh=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:kh(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},qh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return qv(e,t)}getParentElement(e){return Ph(e)}query(e,t,r){return Gv(e,t,r)}computeStyle(e,t,r){return kh(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let u=new Map,h=s.filter(g=>g instanceof zh);NA(r,i)&&h.forEach(g=>{g.currentSnapshot.forEach((w,A)=>u.set(A,w))});let p=PA(t).map(g=>new Map(g));p=xA(e,p,u);let y=qU(e,p);return new zh(e,p,l,y)}};var Vh="@",YA="@.disabled",Gh=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Vh&&t==YA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},h_=class extends Gh{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Vh?t.charAt(1)=="."&&t==YA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Vh){let o=KU(e),s=t.slice(1),a="";return s.charAt(0)!=Vh&&([s,a]=QU(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let u=l._data||-1;this.factory.scheduleListenerCallback(u,r,l)})}return this.delegate.listen(e,t,r,i)}};function KU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function QU(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Wh=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,h=u.get(i);if(!h){let p=()=>u.delete(i);h=new Gh(r,i,this.engine,p),u.set(i,h)}return h}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new h_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var ZU=(()=>{class n extends Ys{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(X(ot),X(_o),X(Eo))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function JU(){return new jh}function XU(n,e,t){return new Wh(n,e,t)}var ZA=[{provide:Eo,useFactory:JU},{provide:Ys,useClass:ZU},{provide:ui,useFactory:XU,deps:[Pc,Ys,Ie]}],nJ=[{provide:_o,useClass:f_},{provide:my,useValue:"NoopAnimations"},...ZA],eB=[{provide:_o,useFactory:()=>new qh},{provide:my,useFactory:()=>"BrowserAnimations"},...ZA];function JA(){return As("NgEagerAnimations"),[...eB]}function tB(n,e){if(n&1&&(rt(0),N(1,"p"),B(2),k(),N(3,"p"),B(4),k(),N(5,"p"),B(6),k(),it()),n&2){let t=Pe();$(2),et(t.httpGroup),$(2),et(t.linkGroup),$(2),et(t.idGroup)}}function nB(n,e){if(n&1&&(N(0,"p"),B(1),k()),n&2){let t=Pe();$(),et(t.link)}}var rB=/^(https:\/\/)(www\.youtube\.com\/watch\?)(v=.+)$/,Kh=class n{link;httpGroup;linkGroup;idGroup;ngOnInit(){let e=rB.exec(this.link);e!=null&&(e[1]!=null&&(this.httpGroup=e[1]),e[2]!=null&&(this.linkGroup=e[2]),e[3]!=null&&(this.idGroup=e[3]))}sendToNewPage(e){e&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-formatted-link"]],inputs:{link:"link"},decls:4,vars:2,consts:[["fullUrl",""],[1,"projectUrl",3,"click"],[4,"ngIf","ngIfElse"]],template:function(t,r){if(t&1){let i=gi();N(0,"a",1),Ut("click",function(){return Zn(i),Jn(r.sendToNewPage(r.link))}),be(1,tB,7,3,"ng-container",2)(2,nB,2,1,"ng-template",null,0,Ns),k()}if(t&2){let i=Ms(3);$(),ee("ngIf",r.httpGroup!=null&&r.linkGroup!=null&&r.idGroup!=null)("ngIfElse",i)}},dependencies:[st],styles:[".projectUrl[_ngcontent-%COMP%]{text-decoration:underline}"]})};var Qh=class n{isYoutubeOrVimeoUrl(e){if(!e)return{isYoutube:!1,isVimeo:!1};let t=e.toLowerCase().trim();return{isYoutube:this.isYoutubeUrl(t),isVimeo:this.isVimeoUrl(t)}}isYoutubeUrl(e){return[/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+/,/^https?:\/\/youtube\.com\/embed\/.+/,/^https?:\/\/youtube\.com\/watch\?v=.+/,/^https?:\/\/youtu\.be\/.+/].some(r=>r.test(e))}isVimeoUrl(e){return[/^(https?:\/\/)?(www\.)?vimeo\.com\/.+/,/^https?:\/\/player\.vimeo\.com\/video\/.+/].some(r=>r.test(e))}extractVideoId(e){let{isYoutube:t,isVimeo:r}=this.isYoutubeOrVimeoUrl(e);return t?{platform:"youtube",id:this.extractYoutubeId(e)}:r?{platform:"vimeo",id:this.extractVimeoId(e)}:{platform:"unknown",id:null}}extractYoutubeId(e){let t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=e.match(t);return r&&r[2].length===11?r[2]:null}extractVimeoId(e){let t=/(vimeo\.com\/|video\/)(\d+)/,r=e.match(t);return r?r[2]:null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var iB=["youtubeContainer"];function oB(n,e){if(n&1&&(rt(0),N(1,"div",8),te(2,"iframe",9),k(),it()),n&2){let t=Pe(2);$(2),ee("src",t.safeUrl,Ey)}}function sB(n,e){if(n&1&&te(0,"iframe",11),n&2){let t=Pe(3);ee("src",t.safeUrl,Ey)}}function aB(n,e){if(n&1&&be(0,sB,1,1,"iframe",10),n&2){let t=Pe(2);ee("ngIf",t.showIframe)}}function cB(n,e){if(n&1&&(N(0,"div",6,0),be(2,oB,3,1,"ng-container",7)(3,aB,1,1,"ng-template",null,1,Ns),k()),n&2){let t=Ms(4),r=Pe();$(2),ee("ngIf",r.isShort)("ngIfElse",t)}}function lB(n,e){if(n&1&&(N(0,"div",12),te(1,"img",13),k()),n&2){let t=Pe();$(),ee("src",t.image,oo)}}function uB(n,e){if(n&1&&(N(0,"div",16),te(1,"img",13),k()),n&2){let t=e.$implicit;$(),ee("src",t,oo)}}function dB(n,e){if(n&1&&(N(0,"div",14),be(1,uB,2,1,"div",15),k()),n&2){let t=Pe();$(),ee("ngForOf",t.images)}}function hB(n,e){n&1&&(rt(0),te(1,"div",17),it())}var Yh=class n{constructor(e){this.sanitizer=e}image;images;youtubeUrl;isShort=!1;youtubeContainer;videoService=R(Qh);showIframe=!1;safeUrl;ngAfterViewInit(){this.youtubeUrl&&this.setupIntersectionObserver()}setupIntersectionObserver(){let e=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&!this.safeUrl&&(this.loadYoutubeEmbed(),e.unobserve(r.target))})},{threshold:.1});e.observe(this.youtubeContainer.nativeElement)}loadYoutubeEmbed(){if(this.youtubeUrl.includes("youtube")){let e=this.extractYoutubeId(this.youtubeUrl);e&&(this.safeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${e}?autoplay=1&mute=0&playsinline=1&enablejsapi=1`),this.showIframe=!0)}else this.safeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`${this.youtubeUrl}?autoplay=1&muted=0&background=0&autopause=0`),this.showIframe=!0}extractYoutubeId(e){let t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=e.match(t);return r&&r[2].length===11?r[2]:null}static \u0275fac=function(t){return new(t||n)(Nt(sv))};static \u0275cmp=Oe({type:n,selectors:[["app-element-image"]],viewQuery:function(t,r){if(t&1&&kr(iB,5),t&2){let i;nr(i=rr())&&(r.youtubeContainer=i.first)}},inputs:{image:"image",images:"images",youtubeUrl:"youtubeUrl",isShort:"isShort"},decls:4,vars:4,consts:[["youtubeContainer",""],["noShort",""],["class","youtube-container",4,"ngIf"],["class","imageElement",4,"ngIf"],["class","imagesElement",4,"ngIf"],[4,"ngIf"],[1,"youtube-container"],[4,"ngIf","ngIfElse"],[1,"shortVideo"],["width","100%","height","100%","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","frameborder","0","allowfullscreen","",1,"youtubeShort",3,"src"],["class","youtubeVideo","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src",4,"ngIf"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"youtubeVideo",3,"src"],[1,"imageElement"],[3,"src"],[1,"imagesElement"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"cuadrado-gris"]],template:function(t,r){t&1&&be(0,cB,5,2,"div",2)(1,lB,2,1,"div",3)(2,dB,2,1,"div",4)(3,hB,2,0,"ng-container",5),t&2&&(ee("ngIf",!r.image&&!r.images&&r.youtubeUrl),$(),ee("ngIf",r.image&&!r.images&&!r.youtubeUrl),$(),ee("ngIf",!r.image&&r.images&&!r.youtubeUrl),$(),ee("ngIf",!r.image&&!r.images&&!r.youtubeUrl))},dependencies:[st,Qt],styles:[".youtube-container[_ngcontent-%COMP%]{width:100%}.youtube-container[_ngcontent-%COMP%]   .shortVideo[_ngcontent-%COMP%]{display:flex;width:100%;margin:0 auto;justify-content:center}.youtube-container[_ngcontent-%COMP%]   iframe.youtubeVideo[_ngcontent-%COMP%]{max-height:400px;height:300px;width:100%}.youtube-container[_ngcontent-%COMP%]   iframe.youtubeShort[_ngcontent-%COMP%]{width:50%;height:50%;aspect-ratio:9/16}.cuadrado-gris[_ngcontent-%COMP%]{width:100%;height:500px;background-color:gray;margin-top:20px;margin-bottom:60px}.imageElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170%}.imagesElement[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:start;width:170%}.imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:last-child{margin-left:20px}.imagesElement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}@media only screen and (max-width: 767px) and (max-height: 932px) and (orientation: portrait){[class*=mobile][_ngcontent-%COMP%]{display:block!important}.youtube-container[_ngcontent-%COMP%]{padding-left:12%;margin-bottom:10px}.youtube-container[_ngcontent-%COMP%]   .shortVideo[_ngcontent-%COMP%]{width:100%;margin:0 auto}.youtube-container[_ngcontent-%COMP%]   iframe.youtubeVideo[_ngcontent-%COMP%]{width:100%;height:150px}.youtube-container[_ngcontent-%COMP%]   iframe.youtubeShort[_ngcontent-%COMP%]{width:70%;height:70%}}"]})};var hr=class n{eventSubject=new Ue;emitEvent(e){this.eventSubject.next(e)}get events$(){return this.eventSubject.asObservable()}focusOnElement(e){let i=e.nativeElement.getBoundingClientRect().top+window.pageYOffset-71;window.scrollTo({top:i,behavior:"smooth"})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var pB=["scrollInto"],mB=(n,e)=>({icon:n,icon_collapsed:e});function gB(n,e){if(n&1&&(rt(0),N(1,"p"),B(2,"[Award-Winning] "),k(),te(3,"p"),N(4,"p"),B(5),k(),it()),n&2){let t=Pe();$(5),et(t.projectElement.awardWining)}}function yB(n,e){if(n&1&&(N(0,"div",20),te(1,"app-formatted-link",21),k()),n&2){let t=e.$implicit;$(),ee("link",t)}}function vB(n,e){if(n&1&&(rt(0),be(1,yB,2,1,"div",19),it()),n&2){let t=Pe();$(),ee("ngForOf",t.projectElement.links)}}function _B(n,e){if(n&1&&(N(0,"div",22),te(1,"app-formatted-link",21),k()),n&2){let t=Pe();$(),ee("link",t.projectElement.url)}}function EB(n,e){if(n&1&&(N(0,"div",23),B(1),k()),n&2){let t=Pe();$(),Bt(" ",t.projectElement.description," ")}}function wB(n,e){if(n&1&&(N(0,"div",24)(1,"p"),B(2),k()()),n&2){let t=Pe();$(2),Bt("Award-Winning, ",t.projectElement.awardWining,"")}}function IB(n,e){if(n&1&&te(0,"app-element-image",25),n&2){let t=Pe();ee("youtubeUrl",t.projectElement.url)("isShort",t.checkIfShort(t.projectElement))}}function bB(n,e){if(n&1&&(N(0,"div",26),te(1,"app-element-image",25),k()),n&2){let t=Pe();$(),ee("youtubeUrl",t.projectElement.url)("isShort",t.checkIfShort(t.projectElement))}}var TB=/^(https:\/\/)(www\.youtube\.com\/watch\?)(v=.+)$/,Zs=class n{constructor(e){this.expandElementService=e}projectElement;expand;miElemento;httpGroup;linkGroup;idGroup;ngOnInit(){if(this.projectElement?.url){let e=TB.exec(this.projectElement.url);e!=null&&(e[1]!=null&&(this.httpGroup=e[1]),e[2]!=null&&(this.linkGroup=e[2]),e[3]!=null&&(this.idGroup=e[3]))}}handleElement(){this.expand=!this.expand;let e={id:this.projectElement.order,isActive:this.expand,elementRef:this.miElemento};requestAnimationFrame(()=>{this.expandElementService.emitEvent(e)})}sendToNewPage(e){e&&window.open(e,"_blank")}checkIfShort(e){return!!(e.index.includes("A")||e.index.includes("B")&&e.index!=="B.1"||e.index==="C.1"||e.index==="C.2")}static \u0275fac=function(t){return new(t||n)(Nt(hr))};static \u0275cmp=Oe({type:n,selectors:[["app-project-element"]],viewQuery:function(t,r){if(t&1&&kr(pB,5),t&2){let i;nr(i=rr())&&(r.miElemento=i.first)}},inputs:{projectElement:"projectElement",expand:"expand"},decls:33,vars:21,consts:[["scrollInto",""],["noLinks",""],[3,"click"],[1,"indexTitle"],[1,"year"],[1,"collapsible-content"],[1,"videoLink"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"title"],[1,"informationShown"],["class","descriptionElement",4,"ngIf"],[1,"mobileYear"],["class","mobileAwardWinning",4,"ngIf"],[1,"mobileVideo"],[3,"youtubeUrl","isShort",4,"ngIf"],[1,"keywords"],[3,"ngClass"],["class","mobileImage",4,"ngIf"],["class","links",4,"ngFor","ngForOf"],[1,"links"],[3,"link"],[1,"link"],[1,"descriptionElement"],[1,"mobileAwardWinning"],[3,"youtubeUrl","isShort"],[1,"mobileImage"]],template:function(t,r){if(t&1){let i=gi();N(0,"a",2,0),Ut("click",function(){return Zn(i),Jn(r.handleElement())}),N(2,"div",3)(3,"p"),B(4),k()(),N(5,"div",4)(6,"p"),B(7),k(),N(8,"div",5)(9,"div",6),be(10,gB,6,1,"ng-container",7)(11,vB,2,1,"ng-container",8)(12,_B,2,1,"ng-template",null,1,Ns),k()()(),N(14,"div",9)(15,"p"),B(16),k(),N(17,"div",5)(18,"div",10),be(19,EB,2,1,"div",11),N(20,"div",12)(21,"p"),B(22),k()(),be(23,wB,3,1,"div",13),N(24,"div",14)(25,"p"),B(26),k()(),be(27,IB,1,2,"app-element-image",15),k()()(),N(28,"div",16)(29,"p"),B(30),k()(),te(31,"div",17),be(32,bB,2,2,"div",18),k()}if(t&2){let i=Ms(13);bc("expanded",r.expand),$(4),Bt("(",r.projectElement.index,")"),$(3),et(r.projectElement.year),$(),ee("@contentAnimation",r.expand?"expanded":"collapsed"),$(2),ee("ngIf",r.projectElement==null?null:r.projectElement.awardWining),$(),ee("ngIf",r.projectElement==null?null:r.projectElement.links)("ngIfElse",i),$(5),et(r.projectElement.title),$(),ee("@contentAnimation",r.expand?"expanded":"collapsed"),$(2),ee("ngIf",r.projectElement==null?null:r.projectElement.description),$(3),et(r.projectElement.year),$(),ee("ngIf",r.projectElement.awardWining),$(3),et(r.projectElement.url),$(),ee("ngIf",r.expand),$(3),et(r.projectElement.keywords),$(),ee("ngClass",RS(18,mB,!r.expand,r.expand)),$(),ee("ngIf",r.expand)}},dependencies:[st,Ky,Qt,Kh,Yh],styles:['[class*=mobile][_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]{overflow-y:hidden;overflow-x:hidden}a[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden;max-height:auto;border-top:.5mm solid rgb(207,207,207);display:grid;padding-top:5px;padding-bottom:5px;grid-template-columns:20% 20% 40% 19% 1%;align-items:start}a[_ngcontent-%COMP%]:not(.expanded){max-height:60px}a[_ngcontent-%COMP%]:not(.expanded)   .collapsible-content[_ngcontent-%COMP%]{display:none}a.expanded[_ngcontent-%COMP%]{max-height:1000px}a.expanded[_ngcontent-%COMP%]   .collapsible-content[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{display:flex;flex-direction:column}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{max-width:fit-content;align-self:flex-start;margin-top:20%;margin-bottom:auto;max-width:50%;word-break:break-all;cursor:pointer}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:86%}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.2}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-bottom:20px}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%]{width:100%;height:300px}.icon[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:">";font-size:12px;font-weight:bolder;position:relative}.icon_collapsed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon_collapsed[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:"x";font-size:12px;font-weight:bolder;position:relative}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}','[class*=mobile][_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]{overflow-y:hidden;overflow-x:hidden}a[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden;max-height:auto;border-top:.5mm solid rgb(207,207,207);display:grid;padding-top:5px;padding-bottom:5px;grid-template-columns:20% 20% 40% 19% 1%;align-items:start}a[_ngcontent-%COMP%]:not(.expanded){max-height:60px}a[_ngcontent-%COMP%]:not(.expanded)   .collapsible-content[_ngcontent-%COMP%]{display:none}a.expanded[_ngcontent-%COMP%]{max-height:1000px}a.expanded[_ngcontent-%COMP%]   .collapsible-content[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{display:flex;flex-direction:column}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{max-width:fit-content;align-self:flex-start;margin-top:20%;margin-bottom:auto;max-width:50%;word-break:break-all;cursor:pointer}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:86%}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.2}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%]{margin-bottom:20px}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%]{width:100%;height:300px}.icon[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:">";font-size:12px;font-weight:bolder;position:relative}.icon_collapsed[_ngcontent-%COMP%]{align-self:flex-start;justify-self:end}.icon_collapsed[_ngcontent-%COMP%]:after{display:inline-block;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-ms-transform:scale(1,1);-o-transform:scale(1,1);transform:scale(1);content:"x";font-size:12px;font-weight:bolder;position:relative}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media only screen and (max-width: 932px){[class*=mobile][_ngcontent-%COMP%]{display:block!important}a[_ngcontent-%COMP%]{display:grid;grid-template-columns:25% 1fr;grid-template-rows:auto;width:100%;padding:3px 0 2px}a[_ngcontent-%COMP%]   .indexTitle[_ngcontent-%COMP%]{grid-column:1;grid-row:1}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:100%}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .collapsible-content[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;padding:0}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .collapsible-content[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .descriptionElement[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .collapsible-content[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileYear[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .collapsible-content[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileAwardWinning[_ngcontent-%COMP%]{margin-bottom:10px}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .collapsible-content[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   .mobileVideo[_ngcontent-%COMP%]{text-decoration:underline}a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   .icon_collapsed[_ngcontent-%COMP%]{grid-column:3;grid-row:1}a[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{grid-column:1/span 3;grid-row:2;flex:1;align-self:center;justify-self:center}a[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%]{width:100%}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   .keywords[_ngcontent-%COMP%]{display:none}a[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]{display:block;max-width:67%;height:auto}a[_ngcontent-%COMP%]   .mobileImage[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:100%}a[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .informationShown[_ngcontent-%COMP%]   app-element-image[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]:after{font-size:9px}.icon_collapsed[_ngcontent-%COMP%]:after{font-size:9px}}@media only screen and (max-width: 932px) and (max-height: 767px) and (orientation: landscape){[class*=mobile][_ngcontent-%COMP%]{display:block!important}.indexTitle[_ngcontent-%COMP%]{font-size:14px!important}.icon[_ngcontent-%COMP%]:after, .icon_collapsed[_ngcontent-%COMP%]:after{font-size:14px}}',"@media only screen and ((min-width: 768px) and (max-width: 1024px)){a[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px}a[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]   .videoLink[_ngcontent-%COMP%]{overflow-wrap:break-word;width:50%;margin:0;padding-top:20%}a.buttonIndexOverflowed[_ngcontent-%COMP%]{max-height:50px}a.buttonIndexOverflowed[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:wrap;overflow:visible;line-height:1.5}}"],data:{animation:[Lv("contentAnimation",[Dh("collapsed",go({height:"0",opacity:"0",overflow:"hidden"})),Dh("expanded",go({height:"*",pacity:"1"})),jv("collapsed <=> expanded",[Vv("300ms ease-in-out")])])]}})};var En=class{constructor(e){this.repository=e}_list$=new We(void 0);_data$=new We(void 0);get list$(){return this._list$.asObservable().pipe(pt(e=>e!=null),xu(1))}get data$(){return this._data$.asObservable().pipe(pt(e=>e!=null),xu(1))}getAll(){return this.repository.getCollection()}getFirst(){return this.repository.getSingle()}getById(e){return this.repository.getByDocumentId(e)}fetch(){return S(this,null,function*(){if(this._data$.value===void 0){let e=yield on(this.repository.getSingle());this._data$.next(e)}return this._data$.value})}fetchAll(){return S(this,null,function*(){if(this._list$.value===void 0){let e=yield this.repository.fecthAll();this._list$.next(e)}return this._list$.value})}};var XA=()=>{};var tR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},CB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Zh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(y=64)),r.push(t[h],t[p],t[y],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new g_;let y=o<<2|a>>4;if(r.push(y),u!==64){let g=a<<4&240|u>>2;if(r.push(g),p!==64){let w=u<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},g_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SB=function(n){let e=tR(n);return Zh.encodeByteArray(e,!0)},il=function(n){return SB(n).replace(/\./g,"")},Jh=function(n){try{return Zh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var DB=()=>nR().__FIREBASE_DEFAULTS__,AB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Jh(n[1]);return e&&JSON.parse(e)},Xh=()=>{try{return XA()||DB()||AB()||RB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rR=n=>{var e,t;return(t=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ef=n=>{let e=rR(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},v_=()=>{var n;return(n=Xh())===null||n===void 0?void 0:n.config},iR=n=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${n}`]};var wo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function tf(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[il(JSON.stringify(t)),il(JSON.stringify(s)),""].join(".")}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function PB(){var n;let e=(n=Xh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lR(){return!PB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ol(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var MB="FirebaseError",Xt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=MB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}},Vn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?NB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Xt(i,a,r)}};function NB(n,e){return n.replace(xB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var xB=/\{\$([^}]+)}/g;function Io(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(eR(o)&&eR(s)){if(!Io(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function eR(n){return n!==null&&typeof n=="object"}function __(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dR(n,e){let t=new y_(n,e);return t.subscribe.bind(t)}var y_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=m_),i.error===void 0&&(i.error=m_),i.complete===void 0&&(i.complete=m_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function m_(){}var VJ=4*60*60*1e3;function wt(n){return n&&n._delegate?n._delegate:n}var It=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bo="[DEFAULT]";var E_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new wo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FB(e))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bo){return this.instances.has(e)}getOptions(e=bo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bo){return this.component?this.component.multipleInstances?e:bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OB(n){return n===bo?void 0:n}function FB(n){return n.instantiationMode==="EAGER"}var nf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new E_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var LB=[],_e=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(_e||{}),VB={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},jB=_e.INFO,UB={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},BB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=UB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fr=class{constructor(e){this.name=e,this._logLevel=jB,this._logHandler=BB,this._userLogHandler=null,LB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}};var $B=(n,e)=>e.some(t=>n instanceof t),hR,fR;function HB(){return hR||(hR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zB(){return fR||(fR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pR=new WeakMap,I_=new WeakMap,mR=new WeakMap,w_=new WeakMap,T_=new WeakMap;function qB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(pr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&pR.set(t,n)}).catch(()=>{}),T_.set(e,n),e}function GB(n){if(I_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});I_.set(n,e)}var b_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return I_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gR(n){b_=n(b_)}function WB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(rf(this),e,...t);return mR.set(r,e.sort?e.sort():[e]),pr(r)}:zB().includes(n)?function(...e){return n.apply(rf(this),e),pr(pR.get(this))}:function(...e){return pr(n.apply(rf(this),e))}}function KB(n){return typeof n=="function"?WB(n):(n instanceof IDBTransaction&&GB(n),$B(n,HB())?new Proxy(n,b_):n)}function pr(n){if(n instanceof IDBRequest)return qB(n);if(w_.has(n))return w_.get(n);let e=KB(n);return e!==n&&(w_.set(n,e),T_.set(e,n)),e}var rf=n=>T_.get(n);function vR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=pr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(pr(s.result),l.oldVersion,l.newVersion,pr(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var QB=["get","getKey","getAll","getAllKeys","count"],YB=["put","add","delete","clear"],C_=new Map;function yR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(C_.get(e))return C_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=YB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QB.includes(t)))return;let o=function(s,...a){return S(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return C_.set(e,o),o}gR(n=>Me(U({},n),{get:(e,t,r)=>yR(e,t)||n.get(e,t,r),has:(e,t)=>!!yR(e,t)||n.has(e,t)}));var D_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function ZB(n){let e=n.getComponent();return e?.type==="VERSION"}var A_="@firebase/app",_R="0.11.4";var jr=new fr("@firebase/app"),JB="@firebase/app-compat",XB="@firebase/analytics-compat",e$="@firebase/analytics",t$="@firebase/app-check-compat",n$="@firebase/app-check",r$="@firebase/auth",i$="@firebase/auth-compat",o$="@firebase/database",s$="@firebase/data-connect",a$="@firebase/database-compat",c$="@firebase/functions",l$="@firebase/functions-compat",u$="@firebase/installations",d$="@firebase/installations-compat",h$="@firebase/messaging",f$="@firebase/messaging-compat",p$="@firebase/performance",m$="@firebase/performance-compat",g$="@firebase/remote-config",y$="@firebase/remote-config-compat",v$="@firebase/storage",_$="@firebase/storage-compat",E$="@firebase/firestore",w$="@firebase/vertexai",I$="@firebase/firestore-compat",b$="firebase",T$="11.6.0";var R_="[DEFAULT]",C$={[A_]:"fire-core",[JB]:"fire-core-compat",[e$]:"fire-analytics",[XB]:"fire-analytics-compat",[n$]:"fire-app-check",[t$]:"fire-app-check-compat",[r$]:"fire-auth",[i$]:"fire-auth-compat",[o$]:"fire-rtdb",[s$]:"fire-data-connect",[a$]:"fire-rtdb-compat",[c$]:"fire-fn",[l$]:"fire-fn-compat",[u$]:"fire-iid",[d$]:"fire-iid-compat",[h$]:"fire-fcm",[f$]:"fire-fcm-compat",[p$]:"fire-perf",[m$]:"fire-perf-compat",[g$]:"fire-rc",[y$]:"fire-rc-compat",[v$]:"fire-gcs",[_$]:"fire-gcs-compat",[E$]:"fire-fst",[I$]:"fire-fst-compat",[w$]:"fire-vertex","fire-js":"fire-js",[b$]:"fire-js-all"};var sl=new Map,S$=new Map,P_=new Map;function ER(n,e){try{n.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dn(n){let e=n.name;if(P_.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;P_.set(e,n);for(let t of sl.values())ER(t,n);for(let t of S$.values())ER(t,n);return!0}function Js(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jn(n){return n==null?!1:n.settings!==void 0}var D$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Vn("app","Firebase",D$);var M_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}};var Ti=T$;function k_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:R_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bi.create("bad-app-name",{appName:String(i)});if(t||(t=v_()),!t)throw bi.create("no-options");let o=sl.get(i);if(o){if(Io(t,o.options)&&Io(r,o.config))return o;throw bi.create("duplicate-app",{appName:i})}let s=new nf(i);for(let l of P_.values())s.addComponent(l);let a=new M_(t,r,s);return sl.set(i,a),a}function Ci(n=R_){let e=sl.get(n);if(!e&&n===R_&&v_())return k_();if(!e)throw bi.create("no-app",{appName:n});return e}function of(){return Array.from(sl.values())}function $e(n,e,t){var r;let i=(r=C$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(a.join(" "));return}dn(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var A$="firebase-heartbeat-database",R$=1,al="firebase-heartbeat-store",S_=null;function TR(){return S_||(S_=vR(A$,R$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(al)}catch(t){console.warn(t)}}}}).catch(n=>{throw bi.create("idb-open",{originalErrorMessage:n.message})})),S_}function P$(n){return S(this,null,function*(){try{let t=(yield TR()).transaction(al),r=yield t.objectStore(al).get(CR(n));return yield t.done,r}catch(e){if(e instanceof Xt)jr.warn(e.message);else{let t=bi.create("idb-get",{originalErrorMessage:e?.message});jr.warn(t.message)}}})}function wR(n,e){return S(this,null,function*(){try{let r=(yield TR()).transaction(al,"readwrite");yield r.objectStore(al).put(e,CR(n)),yield r.done}catch(t){if(t instanceof Xt)jr.warn(t.message);else{let r=bi.create("idb-set",{originalErrorMessage:t?.message});jr.warn(r.message)}}})}function CR(n){return`${n.name}!${n.options.appId}`}var M$=1024,N$=30,N_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new x_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>N$){let s=k$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jr.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=IR(),{heartbeatsToSend:r,unsentEntries:i}=x$(this._heartbeatsCache.heartbeats),o=il(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return jr.warn(t),""}})}};function IR(){return new Date().toISOString().substring(0,10)}function x$(n,e=M$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),bR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var x_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return ol()?uR().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield P$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function bR(n){return il(JSON.stringify({version:2,heartbeats:n})).length}function k$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function O$(n){dn(new It("platform-logger",e=>new D_(e),"PRIVATE")),dn(new It("heartbeat",e=>new N_(e),"PRIVATE")),$e(A_,_R,n),$e(A_,_R,"esm2017"),$e("fire-js","")}O$("");var F$="firebase",L$="11.6.0";$e(F$,L$,"app");function O_(n){n===void 0&&(Jg(O_),n=R(ct));let e=n.get(Sd);return t=>new le(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ur=new to("ANGULARFIRE2_VERSION");function ea(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Si=(n,e)=>{let t=e?[e]:of(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Xs=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Xs||{}),SR=Uy()&&typeof Zone<"u"?Xs.WARN:Xs.SILENT;var sf=class{zone;delegate;constructor(e,t=Am){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Br=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=R(Ie);this.outsideAngular=t.runOutsideAngular(()=>new sf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new sf(typeof Zone>"u"?void 0:Zone.current,Dm))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DR=!1;function V$(n,e){!DR&&(SR>Xs.SILENT||Uy())&&(DR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),SR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function j$(n){let e=R(Ie,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function To(n){let e=R(Ie,{optional:!0});return e?e.run(()=>n()):n()}var U$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Mt(t,()=>To(()=>n.apply(void 0,r)))),xt=(n,e,t)=>(t||=e?Xs.WARN:Xs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=R(Br),s=R(Sd),a=R(Rt)}catch{return V$(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=To(()=>s.add())),i[u]=U$(i[u],r,a));let l=j$(()=>n.apply(this,i));return e?l instanceof le?l.pipe(oi(o.outsideAngular),ii(o.insideAngular),O_(a)):l instanceof Promise?To(()=>new Promise((u,h)=>{s.run(()=>l).then(p=>Mt(a,()=>To(()=>u(p))),p=>Mt(a,()=>To(()=>h(p))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:To(()=>l):l instanceof le?l.pipe(oi(o.outsideAngular),ii(o.insideAngular)):To(()=>l)});var $r=class{constructor(e){return e}},Co=class{constructor(){return of()}};function B$(n){return n&&n.length===1?n[0]:new $r(Ci())}var F_=new Q("angularfire2._apps"),$$={provide:$r,useFactory:B$,deps:[[new jt,F_]]},H$={provide:Co,deps:[[new jt,F_]]};function z$(n){return(e,t)=>{let r=t.get(hi);$e("angularfire",Ur.full,"core"),$e("angularfire",Ur.full,"app"),$e("angular",MS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new $r(i)}}function AR(n,...e){return Yn([$$,H$,{provide:F_,useFactory:z$(n),multi:!0,deps:[Ie,ct,Br,...e]}])}var RR=xt(k_,!0);var q$=new Map,G$={activated:!1,tokenObservers:[]},W$={initialized:!1,enabled:!1};function Un(n){return q$.get(n)||Object.assign({},G$)}function xR(){return W$}var K$="https://content-firebaseappcheck.googleapis.com/v1";var Q$="exchangeDebugToken",PR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},zX=24*60*60*1e3;var j_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new wo,this.pending.promise.catch(t=>{}),yield Y$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new wo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Y$(n){return new Promise(e=>{setTimeout(e,n)})}var Z$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Di=new Vn("appCheck","AppCheck",Z$);function kR(n){if(!Un(n).activated)throw Di.create("use-before-activation",{appName:n.name})}function OR(r,i){return S(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(g){throw Di.create("fetch-network-error",{originalErrorMessage:g?.message})}if(l.status!==200)throw Di.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(g){throw Di.create("fetch-parse-error",{originalErrorMessage:g?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:u.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function FR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${K$}/projects/${t}/apps/${r}:${Q$}?key=${i}`,body:{debug_token:e}}}var J$="firebase-app-check-database",X$=1,U_="firebase-app-check-store";var af=null;function eH(){return af||(af=new Promise((n,e)=>{try{let t=indexedDB.open(J$,X$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Di.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(U_,{keyPath:"compositeKey"})}}}catch(t){e(Di.create("storage-open",{originalErrorMessage:t?.message}))}}),af)}function tH(n,e){return nH(rH(n),e)}function nH(n,e){return S(this,null,function*(){let r=(yield eH()).transaction(U_,"readwrite"),o=r.objectStore(U_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(Di.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function rH(n){return`${n.options.appId}-${n.name}`}var cl=new fr("@firebase/app-check");function L_(n,e){return ol()?tH(n,e).catch(t=>{cl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function LR(){return xR().enabled}function VR(){return S(this,null,function*(){let n=xR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var iH={error:"UNKNOWN_ERROR"};function oH(n){return Zh.encodeString(JSON.stringify(n),!1)}function B_(n,e=!1,t=!1){return S(this,null,function*(){let r=n.app;kR(r);let i=Un(r),o=i.token,s;if(o&&!ll(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(ll(u)?o=u:yield L_(r,void 0))}if(!e&&o&&ll(o))return{token:o.token};let a=!1;if(LR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=OR(FR(r,yield VR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield L_(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?cl.warn(u.message):t&&cl.error(u),V_(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Un(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?cl.warn(u.message):t&&cl.error(u),s=u}let l;return o?s?ll(o)?l={token:o.token,internalError:s}:l=V_(s):(l={token:o.token},i.token=o,yield L_(r,o)):l=V_(s),a&&lH(r,l),l})}function sH(n){return S(this,null,function*(){let e=n.app;kR(e);let{provider:t}=Un(e);if(LR()){let r=yield VR(),{token:i}=yield OR(FR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function aH(n,e,t,r){let{app:i}=n,o=Un(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ll(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),MR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>MR(n))}function jR(n,e){let t=Un(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function MR(n){let{app:e}=n,t=Un(e),r=t.tokenRefresher;r||(r=cH(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function cH(n){let{app:e}=n;return new j_(()=>S(this,null,function*(){let t=Un(e),r;if(t.token?r=yield B_(n,!0):r=yield B_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Un(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},PR.RETRIAL_MIN_WAIT,PR.RETRIAL_MAX_WAIT)}function lH(n,e){let t=Un(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ll(n){return n.expireTimeMillis-Date.now()>0}function V_(n){return{token:oH(iH),error:n}}var $_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Un(this.app);for(let t of e)jR(this.app,t.next);return Promise.resolve()}};function uH(n,e){return new $_(n,e)}function dH(n){return{getToken:e=>B_(n,e),getLimitedUseToken:()=>sH(n),addTokenListener:e=>aH(n,"INTERNAL",e),removeTokenListener:e=>jR(n.app,e)}}var hH="@firebase/app-check",fH="0.8.13";var pH="app-check",NR="app-check-internal";function mH(){dn(new It(pH,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return uH(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(NR).initialize()})),dn(new It(NR,n=>{let e=n.getProvider("app-check").getImmediate();return dH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$e(hH,fH)}mH();var gH="app-check";var ta=class{constructor(){return Si(gH)}};var yH=["localhost","0.0.0.0","127.0.0.1"],ree=typeof window<"u"&&yH.includes(window.location.hostname);function WR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var KR=WR,QR=new Vn("auth","Firebase",WR());var df=new fr("@firebase/auth");function _H(n,...e){df.logLevel<=_e.WARN&&df.warn(`Auth (${Ti}): ${n}`,...e)}function lf(n,...e){df.logLevel<=_e.ERROR&&df.error(`Auth (${Ti}): ${n}`,...e)}function UR(n,...e){throw eE(n,...e)}function X_(n,...e){return eE(n,...e)}function YR(n,e,t){let r=Object.assign(Object.assign({},KR()),{[e]:t});return new Vn("auth","Firebase",r).create(e,{appName:n.name})}function uf(n){return YR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QR.create(n,...e)}function Re(n,e,...t){if(!n)throw eE(e,...t)}function ul(n){let e="INTERNAL ASSERTION FAILED: "+n;throw lf(e),new Error(e)}function hf(n,e){n||ul(e)}function EH(){return BR()==="http:"||BR()==="https:"}function BR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function wH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EH()||aR()||"connection"in navigator)?navigator.onLine:!0}function IH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ao=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,hf(t>e,"Short delay should be less than long delay!"),this.isMobile=oR()||cR()}get(){return wH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function bH(n,e){hf(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ff=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ul("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ul("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ul("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var TH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var CH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SH=new Ao(3e4,6e4);function ZR(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function vf(o,s,a,l){return S(this,arguments,function*(n,e,t,r,i={}){return JR(n,i,()=>S(this,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=__(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:y},u);return sR()||(g.referrerPolicy="no-referrer"),ff.fetch()(yield XR(n,n.config.apiHost,t,p),g)}))})}function JR(n,e,t){return S(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},TH),e);try{let i=new q_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw cf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw cf(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw cf(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw YR(n,h,u);UR(n,h)}}catch(i){if(i instanceof Xt)throw i;UR(n,"network-request-failed",{message:String(i)})}})}function XR(n,e,t,r){return S(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?bH(n.config,i):`${n.config.apiScheme}://${i}`;return CH.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var q_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(X_(this.auth,"network-request-failed")),SH.get())})}};function cf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=X_(n,e,r);return i.customData._tokenResponse=t,i}function DH(n,e){return S(this,null,function*(){return vf(n,"POST","/v1/accounts:delete",e)})}function pf(n,e){return S(this,null,function*(){return vf(n,"POST","/v1/accounts:lookup",e)})}function dl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tE(n,e=!1){return S(this,null,function*(){let t=wt(n),r=yield t.getIdToken(e),i=eP(r);Re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:dl(H_(i.auth_time)),issuedAtTime:dl(H_(i.iat)),expirationTime:dl(H_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function H_(n){return Number(n)*1e3}function eP(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jh(t);return i?JSON.parse(i):(lf("Failed to decode base64 JWT payload"),null)}catch(i){return lf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $R(n){let e=eP(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function G_(n,e,t=!1){return S(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Xt&&AH(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function AH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var W_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),t)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mf(n){return S(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield G_(n,pf(t,{idToken:r}));Re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tP(o.providerUserInfo):[],a=RH(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function nE(n){return S(this,null,function*(){let e=wt(n);yield mf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function RH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tP(n){return n.map(e=>{var{providerId:t}=e,r=Rm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function PH(n,e){return S(this,null,function*(){let t=yield JR(n,{},()=>S(this,null,function*(){let r=__({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield XR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ff.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function MH(n,e){return S(this,null,function*(){return vf(n,"POST","/v2/accounts:revokeToken",ZR(n,e))})}var hl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$R(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");let t=$R(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return S(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield PH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ul("not implemented")}};function Ai(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var So=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let t=yield G_(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return tE(this,e)}reload(){return nE(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield mf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(jn(this.auth.app))return Promise.reject(uf(this.auth));let e=yield this.getIdToken();return yield G_(this,DH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,V=(u=t.createdAt)!==null&&u!==void 0?u:void 0,Y=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:Z,isAnonymous:Fe,providerData:ie,stsTokenManager:I}=t;Re(G&&I,e,"internal-error");let v=hl.fromJSON(this.name,I);Re(typeof G=="string",e,"internal-error"),Ai(p,e.name),Ai(y,e.name),Re(typeof Z=="boolean",e,"internal-error"),Re(typeof Fe=="boolean",e,"internal-error"),Ai(g,e.name),Ai(w,e.name),Ai(A,e.name),Ai(M,e.name),Ai(V,e.name),Ai(Y,e.name);let _=new n({uid:G,auth:e,email:y,emailVerified:Z,displayName:p,isAnonymous:Fe,photoURL:w,phoneNumber:g,tenantId:A,stsTokenManager:v,createdAt:V,lastLoginAt:Y});return ie&&Array.isArray(ie)&&(_.providerData=ie.map(b=>Object.assign({},b))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,t,r=!1){return S(this,null,function*(){let i=new hl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield mf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return S(this,null,function*(){let i=t.users[0];Re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?tP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new hl;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var HR=new Map;function Do(n){hf(n instanceof Function,"Expected a class definition");let e=HR.get(n);return e?(hf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,HR.set(n,e),e)}var NH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(t,r){return S(this,null,function*(){this.storage[t]=r})}_get(t){return S(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return S(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),K_=NH;function z_(n,e,t){return`firebase:${n}:${e}:${t}`}var gf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=z_(this.userKey,i.apiKey,o),this.fullPersistenceKey=z_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield pf(this.auth,{idToken:e}).catch(()=>{});return t?So._fromGetAccountInfoResponse(this.auth,t,e):null}return So._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return S(this,null,function*(){if(!t.length)return new n(Do(K_),e,r);let i=(yield Promise.all(t.map(u=>S(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Do(K_),s=z_(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p;if(typeof h=="string"){let y=yield pf(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield So._fromGetAccountInfoResponse(e,y,h)}else p=So._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>S(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function zR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VH(e))return"Blackberry";if(jH(e))return"Webos";if(kH(e))return"Safari";if((e.includes("chrome/")||OH(e))&&!e.includes("edge/"))return"Chrome";if(LH(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function xH(n=un()){return/firefox\//i.test(n)}function kH(n=un()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OH(n=un()){return/crios\//i.test(n)}function FH(n=un()){return/iemobile/i.test(n)}function LH(n=un()){return/android/i.test(n)}function VH(n=un()){return/blackberry/i.test(n)}function jH(n=un()){return/webos/i.test(n)}function nP(n,e=[]){let t;switch(n){case"Browser":t=zR(un());break;case"Worker":t=`${zR(un())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ti}/${r}`}var Q_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function UH(t){return S(this,arguments,function*(n,e={}){return vf(n,"GET","/v2/passwordPolicy",ZR(n,e))})}var BH=6,Y_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:BH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Z_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yf(this),this.idTokenSubscription=new yf(this),this.beforeStateQueue=new Q_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Do(t)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield gf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let t=yield pf(this,{idToken:e}),r=yield So._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var t;if(jn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield mf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=IH()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(jn(this.app))return Promise.reject(uf(this));let t=e?wt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return S(this,null,function*(){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return jn(this.app)?Promise.reject(uf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return jn(this.app)?Promise.reject(uf(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Do(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield UH(this),t=new Y_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield MH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Do(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=yield gf.create(this,[Do(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return S(this,null,function*(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&_H(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function $H(n){return wt(n)}var yf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dR(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var HH={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zH(n){HH=n}function qH(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function GH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Do);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var mee=qH("rcb"),gee=new Ao(3e4,6e4);var yee=new Ao(2e3,1e4);var vee=10*60*1e3;var _ee=new Ao(3e4,6e4);var Eee=new Ao(5e3,15e3);var wee=encodeURIComponent("fac");var qR="@firebase/auth",GR="1.10.0";var J_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function WH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KH(n){dn(new It("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nP(n)},u=new Z_(r,i,o,l);return GH(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dn(new It("auth-internal",e=>{let t=$H(e.getProvider("auth").getImmediate());return(r=>new J_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(qR,GR,WH(n)),$e(qR,GR,"esm2017")}var QH=5*60,Iee=iR("authIdTokenMaxAge")||QH;function YH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=X_("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",YH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KH("Browser");var Kz="auth";var na=class{constructor(){return Si(Kz)}};var rP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iP={};var Hr,rE;(function(){var n;function e(I,v){function _(){}_.prototype=v.prototype,I.D=v.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(b,T,D){for(var E=Array(arguments.length-2),hn=2;hn<arguments.length;hn++)E[hn-2]=arguments[hn];return v.prototype[T].apply(b,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,_){_||(_=0);var b=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)b[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)b[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=I.g[0],_=I.g[1],T=I.g[2];var D=I.g[3],E=v+(D^_&(T^D))+b[0]+3614090360&4294967295;v=_+(E<<7&4294967295|E>>>25),E=D+(T^v&(_^T))+b[1]+3905402710&4294967295,D=v+(E<<12&4294967295|E>>>20),E=T+(_^D&(v^_))+b[2]+606105819&4294967295,T=D+(E<<17&4294967295|E>>>15),E=_+(v^T&(D^v))+b[3]+3250441966&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(D^_&(T^D))+b[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=D+(T^v&(_^T))+b[5]+1200080426&4294967295,D=v+(E<<12&4294967295|E>>>20),E=T+(_^D&(v^_))+b[6]+2821735955&4294967295,T=D+(E<<17&4294967295|E>>>15),E=_+(v^T&(D^v))+b[7]+4249261313&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(D^_&(T^D))+b[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=D+(T^v&(_^T))+b[9]+2336552879&4294967295,D=v+(E<<12&4294967295|E>>>20),E=T+(_^D&(v^_))+b[10]+4294925233&4294967295,T=D+(E<<17&4294967295|E>>>15),E=_+(v^T&(D^v))+b[11]+2304563134&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(D^_&(T^D))+b[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=D+(T^v&(_^T))+b[13]+4254626195&4294967295,D=v+(E<<12&4294967295|E>>>20),E=T+(_^D&(v^_))+b[14]+2792965006&4294967295,T=D+(E<<17&4294967295|E>>>15),E=_+(v^T&(D^v))+b[15]+1236535329&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(T^D&(_^T))+b[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=D+(_^T&(v^_))+b[6]+3225465664&4294967295,D=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(D^v))+b[11]+643717713&4294967295,T=D+(E<<14&4294967295|E>>>18),E=_+(D^v&(T^D))+b[0]+3921069994&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(T^D&(_^T))+b[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=D+(_^T&(v^_))+b[10]+38016083&4294967295,D=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(D^v))+b[15]+3634488961&4294967295,T=D+(E<<14&4294967295|E>>>18),E=_+(D^v&(T^D))+b[4]+3889429448&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(T^D&(_^T))+b[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=D+(_^T&(v^_))+b[14]+3275163606&4294967295,D=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(D^v))+b[3]+4107603335&4294967295,T=D+(E<<14&4294967295|E>>>18),E=_+(D^v&(T^D))+b[8]+1163531501&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(T^D&(_^T))+b[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=D+(_^T&(v^_))+b[2]+4243563512&4294967295,D=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(D^v))+b[7]+1735328473&4294967295,T=D+(E<<14&4294967295|E>>>18),E=_+(D^v&(T^D))+b[12]+2368359562&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(_^T^D)+b[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=D+(v^_^T)+b[8]+2272392833&4294967295,D=v+(E<<11&4294967295|E>>>21),E=T+(D^v^_)+b[11]+1839030562&4294967295,T=D+(E<<16&4294967295|E>>>16),E=_+(T^D^v)+b[14]+4259657740&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(_^T^D)+b[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=D+(v^_^T)+b[4]+1272893353&4294967295,D=v+(E<<11&4294967295|E>>>21),E=T+(D^v^_)+b[7]+4139469664&4294967295,T=D+(E<<16&4294967295|E>>>16),E=_+(T^D^v)+b[10]+3200236656&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(_^T^D)+b[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=D+(v^_^T)+b[0]+3936430074&4294967295,D=v+(E<<11&4294967295|E>>>21),E=T+(D^v^_)+b[3]+3572445317&4294967295,T=D+(E<<16&4294967295|E>>>16),E=_+(T^D^v)+b[6]+76029189&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(_^T^D)+b[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=D+(v^_^T)+b[12]+3873151461&4294967295,D=v+(E<<11&4294967295|E>>>21),E=T+(D^v^_)+b[15]+530742520&4294967295,T=D+(E<<16&4294967295|E>>>16),E=_+(T^D^v)+b[2]+3299628645&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(T^(_|~D))+b[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=D+(_^(v|~T))+b[7]+1126891415&4294967295,D=v+(E<<10&4294967295|E>>>22),E=T+(v^(D|~_))+b[14]+2878612391&4294967295,T=D+(E<<15&4294967295|E>>>17),E=_+(D^(T|~v))+b[5]+4237533241&4294967295,_=T+(E<<21&4294967295|E>>>11),E=v+(T^(_|~D))+b[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=D+(_^(v|~T))+b[3]+2399980690&4294967295,D=v+(E<<10&4294967295|E>>>22),E=T+(v^(D|~_))+b[10]+4293915773&4294967295,T=D+(E<<15&4294967295|E>>>17),E=_+(D^(T|~v))+b[1]+2240044497&4294967295,_=T+(E<<21&4294967295|E>>>11),E=v+(T^(_|~D))+b[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=D+(_^(v|~T))+b[15]+4264355552&4294967295,D=v+(E<<10&4294967295|E>>>22),E=T+(v^(D|~_))+b[6]+2734768916&4294967295,T=D+(E<<15&4294967295|E>>>17),E=_+(D^(T|~v))+b[13]+1309151649&4294967295,_=T+(E<<21&4294967295|E>>>11),E=v+(T^(_|~D))+b[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=D+(_^(v|~T))+b[11]+3174756917&4294967295,D=v+(E<<10&4294967295|E>>>22),E=T+(v^(D|~_))+b[2]+718787259&4294967295,T=D+(E<<15&4294967295|E>>>17),E=_+(D^(T|~v))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var _=v-this.blockSize,b=this.B,T=this.h,D=0;D<v;){if(T==0)for(;D<=_;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<v;)if(b[T++]=I.charCodeAt(D++),T==this.blockSize){i(this,b),T=0;break}}else for(;D<v;)if(b[T++]=I[D++],T==this.blockSize){i(this,b),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var _=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.u(I),I=Array(16),v=_=0;4>v;++v)for(var b=0;32>b;b+=8)I[_++]=this.g[v]>>>b&255;return I};function o(I,v){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=v(I)}function s(I,v){this.h=v;for(var _=[],b=!0,T=I.length-1;0<=T;T--){var D=I[T]|0;b&&D==v||(_[T]=D,b=!1)}this.g=_}var a={};function l(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return M(u(-I));for(var v=[],_=1,b=0;I>=_;b++)v[b]=I/_|0,_*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return M(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(v,8)),b=p,T=0;T<I.length;T+=8){var D=Math.min(8,I.length-T),E=parseInt(I.substring(T,T+D),v);8>D?(D=u(Math.pow(v,D)),b=b.j(D).add(u(E))):(b=b.j(_),b=b.add(u(E)))}return b}var p=l(0),y=l(1),g=l(16777216);n=s.prototype,n.m=function(){if(A(this))return-M(this).m();for(var I=0,v=1,_=0;_<this.g.length;_++){var b=this.i(_);I+=(0<=b?b:4294967296+b)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(A(this))return"-"+M(this).toString(I);for(var v=u(Math.pow(I,6)),_=this,b="";;){var T=Z(_,v).g;_=V(_,T.j(v));var D=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=T,w(_))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function A(I){return I.h==-1}n.l=function(I){return I=V(this,I),A(I)?-1:w(I)?0:1};function M(I){for(var v=I.g.length,_=[],b=0;b<v;b++)_[b]=~I.g[b];return new s(_,~I.h).add(y)}n.abs=function(){return A(this)?M(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],b=0,T=0;T<=v;T++){var D=b+(this.i(T)&65535)+(I.i(T)&65535),E=(D>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);b=E>>>16,D&=65535,E&=65535,_[T]=E<<16|D}return new s(_,_[_.length-1]&-2147483648?-1:0)};function V(I,v){return I.add(M(v))}n.j=function(I){if(w(this)||w(I))return p;if(A(this))return A(I)?M(this).j(M(I)):M(M(this).j(I));if(A(I))return M(this.j(M(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var v=this.g.length+I.g.length,_=[],b=0;b<2*v;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var T=0;T<I.g.length;T++){var D=this.i(b)>>>16,E=this.i(b)&65535,hn=I.i(T)>>>16,Zr=I.i(T)&65535;_[2*b+2*T]+=E*Zr,Y(_,2*b+2*T),_[2*b+2*T+1]+=D*Zr,Y(_,2*b+2*T+1),_[2*b+2*T+1]+=E*hn,Y(_,2*b+2*T+1),_[2*b+2*T+2]+=D*hn,Y(_,2*b+2*T+2)}for(b=0;b<v;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=v;b<2*v;b++)_[b]=0;return new s(_,0)};function Y(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function G(I,v){this.g=I,this.h=v}function Z(I,v){if(w(v))throw Error("division by zero");if(w(I))return new G(p,p);if(A(I))return v=Z(M(I),v),new G(M(v.g),M(v.h));if(A(v))return v=Z(I,M(v)),new G(M(v.g),v.h);if(30<I.g.length){if(A(I)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var _=y,b=v;0>=b.l(I);)_=Fe(_),b=Fe(b);var T=ie(_,1),D=ie(b,1);for(b=ie(b,2),_=ie(_,2);!w(b);){var E=D.add(b);0>=E.l(I)&&(T=T.add(_),D=E),b=ie(b,1),_=ie(_,1)}return v=V(I,T.j(v)),new G(T,v)}for(T=p;0<=I.l(v);){for(_=Math.max(1,Math.floor(I.m()/v.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=u(_),E=D.j(v);A(E)||0<E.l(I);)_-=b,D=u(_),E=D.j(v);w(D)&&(D=y),T=T.add(D),I=V(I,E)}return new G(T,I)}n.A=function(I){return Z(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)&I.i(b);return new s(_,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)|I.i(b);return new s(_,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)^I.i(b);return new s(_,this.h^I.h)};function Fe(I){for(var v=I.g.length+1,_=[],b=0;b<v;b++)_[b]=I.i(b)<<1|I.i(b-1)>>>31;return new s(_,I.h)}function ie(I,v){var _=v>>5;v%=32;for(var b=I.g.length-_,T=[],D=0;D<b;D++)T[D]=0<v?I.i(D+_)>>>v|I.i(D+_+1)<<32-v:I.i(D+_);return new s(T,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rE=iP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,Hr=iP.Integer=s}).apply(typeof rP<"u"?rP:typeof self<"u"?self:typeof window<"u"?window:{});var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zr={};var iE,Qz,ra,oE,pl,Ef,sE,aE,cE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _f=="object"&&_f];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function g(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function w(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,P){for(var j=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)j[Le-2]=arguments[Le];return d.prototype[C].apply(m,j)}}function A(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(l(m)){let C=c.length||0,P=m.length||0;c.length=C+P;for(let j=0;j<P;j++)c[C+j]=m[j]}else c.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var Fe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ie(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function I(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let P=0;P<_.length;P++)f=_[P],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function D(c){a.setTimeout(()=>{throw c},0)}function E(){var c=ve;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class hn{constructor(){this.h=this.g=null}add(d,f){let m=Zr.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Zr=new V(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let W,J=!1,ve=new hn,tt=()=>{let c=a.Promise.resolve(void 0);W=()=>{c.then(fn)}};var fn=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){D(f)}var d=Zr;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}J=!1};function Ze(){this.s=this.s,this.C=this.C}Ze.prototype.s=!1,Ze.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ze.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Jr(c,d){if(He.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Fe){e:{try{Z(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Op[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Jr.aa.h.call(this)}}w(Jr,He);var Op={2:"touch",3:"pen",4:"mouse"};Jr.prototype.h=function(){Jr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),vr=0;function $t(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++vr,this.da=this.fa=!1}function _r(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xr(c){this.src=c,this.g={},this.h=0}Xr.prototype.add=function(c,d,f,m,C){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var j=Lp(c,d,m,C);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new $t(d,this.src,P,!!m,C),d.fa=f,c.push(d)),d};function Fp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),P;(P=0<=C)&&Array.prototype.splice.call(m,C,1),P&&(_r(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Lp(c,d,f,m){for(var C=0;C<c.length;++C){var P=c[C];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==m)return C}return-1}var Vp="closure_lm_"+(1e6*Math.random()|0),jp={};function RI(c,d,f,m,C){if(m&&m.once)return MI(c,d,f,m,C);if(Array.isArray(d)){for(var P=0;P<d.length;P++)RI(c,d[P],f,m,C);return null}return f=Hp(f),c&&c[Je]?c.K(d,f,u(m)?!!m.capture:!!m,C):PI(c,d,f,!1,m,C)}function PI(c,d,f,m,C,P){if(!d)throw Error("Invalid event type");var j=u(C)?!!C.capture:!!C,Le=Bp(c);if(Le||(c[Vp]=Le=new Xr(c)),f=Le.add(d,f,m,j,P),f.proxy)return f;if(m=ix(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)ze||(C=j),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(xI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ix(){function c(f){return d.call(c.src,c.listener,f)}let d=ox;return c}function MI(c,d,f,m,C){if(Array.isArray(d)){for(var P=0;P<d.length;P++)MI(c,d[P],f,m,C);return null}return f=Hp(f),c&&c[Je]?c.L(d,f,u(m)?!!m.capture:!!m,C):PI(c,d,f,!0,m,C)}function NI(c,d,f,m,C){if(Array.isArray(d))for(var P=0;P<d.length;P++)NI(c,d[P],f,m,C);else m=u(m)?!!m.capture:!!m,f=Hp(f),c&&c[Je]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=Lp(P,f,m,C),-1<f&&(_r(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=Bp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Lp(d,f,m,C)),(f=-1<c?d[c]:null)&&Up(f))}function Up(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Je])Fp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(xI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Bp(d))?(Fp(f,c),f.h==0&&(f.src=null,d[Vp]=null)):_r(c)}}}function xI(c){return c in jp?jp[c]:jp[c]="on"+c}function ox(c,d){if(c.da)c=!0;else{d=new Jr(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Up(c),c=f.call(m,d)}return c}function Bp(c){return c=c[Vp],c instanceof Xr?c:null}var $p="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hp(c){return typeof c=="function"?c:(c[$p]||(c[$p]=function(d){return c.handleEvent(d)}),c[$p])}function Ct(){Ze.call(this),this.i=new Xr(this),this.M=this,this.F=null}w(Ct,Ze),Ct.prototype[Je]=!0,Ct.prototype.removeEventListener=function(c,d,f,m){NI(this,c,d,f,m)};function Lt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new He(d,c);else if(d instanceof He)d.target=d.target||c;else{var C=d;d=new He(m,c),b(d,C)}if(C=!0,f)for(var P=f.length-1;0<=P;P--){var j=d.g=f[P];C=Bl(j,m,!0,d)&&C}if(j=d.g=c,C=Bl(j,m,!0,d)&&C,C=Bl(j,m,!1,d)&&C,f)for(P=0;P<f.length;P++)j=d.g=f[P],C=Bl(j,m,!1,d)&&C}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)_r(f[m]);delete c.g[d],c.h--}}this.F=null},Ct.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Ct.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Bl(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,P=0;P<d.length;++P){var j=d[P];if(j&&!j.da&&j.capture==f){var Le=j.listener,Et=j.ha||j.src;j.fa&&Fp(c.i,j),C=Le.call(Et,m)!==!1&&C}}return C&&!m.defaultPrevented}function kI(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function OI(c){c.g=kI(()=>{c.g=null,c.i&&(c.i=!1,OI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class sx extends Ze{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:OI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(c){Ze.call(this),this.h=c,this.g={}}w(Ua,Ze);var FI=[];function LI(c){ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&Up(d)},c),c.g={}}Ua.prototype.N=function(){Ua.aa.N.call(this),LI(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zp=a.JSON.stringify,ax=a.JSON.parse,cx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function qp(){}qp.prototype.h=null;function VI(c){return c.h||(c.h=c.i())}function jI(){}var Ba={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gp(){He.call(this,"d")}w(Gp,He);function Wp(){He.call(this,"c")}w(Wp,He);var Oi={},UI=null;function $l(){return UI=UI||new Ct}Oi.La="serverreachability";function BI(c){He.call(this,Oi.La,c)}w(BI,He);function $a(c){let d=$l();Lt(d,new BI(d))}Oi.STAT_EVENT="statevent";function $I(c,d){He.call(this,Oi.STAT_EVENT,c),this.stat=d}w($I,He);function Vt(c){let d=$l();Lt(d,new $I(d,c))}Oi.Ma="timingevent";function HI(c,d){He.call(this,Oi.Ma,c),this.size=d}w(HI,He);function Ha(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function za(){this.g=!0}za.prototype.xa=function(){this.g=!1};function lx(c,d,f,m,C,P){c.info(function(){if(c.g)if(P)for(var j="",Le=P.split("&"),Et=0;Et<Le.length;Et++){var De=Le[Et].split("=");if(1<De.length){var St=De[0];De=De[1];var Dt=St.split("_");j=2<=Dt.length&&Dt[1]=="type"?j+(St+"="+De+"&"):j+(St+"=redacted&")}}else j=null;else j=P;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+j})}function ux(c,d,f,m,C,P,j){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+P+" "+j})}function jo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+hx(c,f)+(m?" "+m:"")})}function dx(c,d){c.info(function(){return"TIMEOUT: "+d})}za.prototype.info=function(){};function hx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var P=C[0];if(P!="noop"&&P!="stop"&&P!="close")for(var j=1;j<C.length;j++)C[j]=""}}}}return zp(f)}catch{return d}}var Hl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kp;function zl(){}w(zl,qp),zl.prototype.g=function(){return new XMLHttpRequest},zl.prototype.i=function(){return{}},Kp=new zl;function ei(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qI}function qI(){this.i=null,this.g="",this.h=!1}var GI={},Qp={};function Yp(c,d,f){c.L=1,c.v=Kl(Er(d)),c.m=f,c.P=!0,WI(c,null)}function WI(c,d){c.F=Date.now(),ql(c),c.A=Er(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),ab(f.i,"t",m),c.C=0,f=c.j.J,c.h=new qI,c.g=Cb(c.j,f?d:null,!c.m),0<c.O&&(c.M=new sx(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(FI[0]=C.toString()),C=FI);for(var P=0;P<C.length;P++){var j=RI(f,C[P],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),$a(),lx(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;let d=this.M;d&&wr(c)==3?d.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{let Dt=wr(this.g);var d=this.g.Ba();let $o=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||pb(this.g)))){this.J||Dt!=4||d==7||(d==8||0>=$o?$a(3):$a(2)),Zp(this);var f=this.g.Z();this.X=f;t:if(KI(this)){var m=pb(this.g);c="";var C=m.length,P=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),qa(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(P&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,ux(this.i,this.u,this.A,this.l,this.R,Dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Et=this.g;if((Le=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Le)){var De=Le;break t}}De=null}if(f=De)jo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jp(this,f);else{this.o=!1,this.s=3,Vt(12),Fi(this),qa(this);break e}}if(this.P){f=!0;let bn;for(;!this.J&&this.C<j.length;)if(bn=fx(this,j),bn==Qp){Dt==4&&(this.s=4,Vt(14),f=!1),jo(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==GI){this.s=4,Vt(15),jo(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else jo(this.i,this.l,bn,null),Jp(this,bn);if(KI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||j.length!=0||this.h.h||(this.s=1,Vt(16),f=!1),this.o=this.o&&f,!f)jo(this.i,this.l,j,"[Invalid Chunked Response]"),Fi(this),qa(this);else if(0<j.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),im(St),St.M=!0,Vt(11))}}else jo(this.i,this.l,j,null),Jp(this,j);Dt==4&&Fi(this),this.o&&!this.J&&(Dt==4?wb(this.j,this):(this.o=!1,ql(this)))}else Px(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Fi(this),qa(this)}}}catch{}finally{}};function KI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fx(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Qp:(f=Number(d.substring(f,m)),isNaN(f)?GI:(m+=1,m+f>d.length?Qp:(d=d.slice(m,m+f),c.C=m+f,d)))}ei.prototype.cancel=function(){this.J=!0,Fi(this)};function ql(c){c.S=Date.now()+c.I,QI(c,c.I)}function QI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ha(y(c.ba,c),d)}function Zp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(dx(this.i,this.A),this.L!=2&&($a(),Vt(17)),Fi(this),this.s=2,qa(this)):QI(this,this.S-c)};function qa(c){c.j.G==0||c.J||wb(c.j,c)}function Fi(c){Zp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,LI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Jp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Xp(f.h,c))){if(!c.K&&Xp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Xl(f),Zl(f);else break e;rm(f),Vt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ha(y(f.Za,f),6e3));if(1>=JI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Vi(f,11)}else if((c.K||f.g==c)&&Xl(f),!Y(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let De=C[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let St=De[3];St!=null&&(f.la=St,f.j.info("VER="+f.la));let Dt=De[4];Dt!=null&&(f.Aa=Dt,f.j.info("SVER="+f.Aa));let $o=De[5];$o!=null&&typeof $o=="number"&&0<$o&&(m=1.5*$o,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let bn=c.g;if(bn){let tu=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var P=m.h;P.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(em(P,P.h),P.h=null))}if(m.D){let om=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;om&&(m.ya=om,qe(m.I,m.D,om))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var j=c;if(m.qa=Tb(m,m.J?m.ia:null,m.W),j.K){XI(m.h,j);var Le=j,Et=m.L;Et&&(Le.I=Et),Le.B&&(Zp(Le),ql(Le)),m.g=j}else _b(m);0<f.i.length&&Jl(f)}else De[0]!="stop"&&De[0]!="close"||Vi(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Vi(f,7):nm(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}$a(4)}catch{}}var px=class{constructor(c,d){this.g=c,this.map=d}};function YI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ZI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function JI(c){return c.h?1:c.g?c.g.size:0}function Xp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function em(c,d){c.g?c.g.add(d):c.h=d}function XI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}YI.prototype.cancel=function(){if(this.i=eb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function eb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return A(c.i)}function mx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function gx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function tb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=gx(c),m=mx(c),C=m.length,P=0;P<C;P++)d.call(void 0,m[P],f&&f[P],c)}var nb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var P=c[f].substring(0,m);C=c[f].substring(m+1)}else P=c[f];d(P,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Li(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Li){this.h=c.h,Gl(this,c.j),this.o=c.o,this.g=c.g,Wl(this,c.s),this.l=c.l;var d=c.i,f=new Ka;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),rb(this,f),this.m=c.m}else c&&(d=String(c).match(nb))?(this.h=!1,Gl(this,d[1]||"",!0),this.o=Ga(d[2]||""),this.g=Ga(d[3]||"",!0),Wl(this,d[4]),this.l=Ga(d[5]||"",!0),rb(this,d[6]||"",!0),this.m=Ga(d[7]||"")):(this.h=!1,this.i=new Ka(null,this.h))}Li.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Wa(d,ib,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Wa(d,ib,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Wa(f,f.charAt(0)=="/"?Ex:_x,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Wa(f,Ix)),c.join("")};function Er(c){return new Li(c)}function Gl(c,d,f){c.j=f?Ga(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Wl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function rb(c,d,f){d instanceof Ka?(c.i=d,bx(c.i,c.h)):(f||(d=Wa(d,wx)),c.i=new Ka(d,c.h))}function qe(c,d,f){c.i.set(d,f)}function Kl(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ga(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,vx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ib=/[#\/\?@]/g,_x=/[#\?:]/g,Ex=/[#\?]/g,wx=/[#\?@]/g,Ix=/#/g;function Ka(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ti(c){c.g||(c.g=new Map,c.h=0,c.i&&yx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ka.prototype,n.add=function(c,d){ti(this),this.i=null,c=Uo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function ob(c,d){ti(c),d=Uo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function sb(c,d){return ti(c),d=Uo(c,d),c.g.has(d)}n.forEach=function(c,d){ti(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},n.na=function(){ti(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let P=0;P<C.length;P++)f.push(d[m])}return f},n.V=function(c){ti(this);let d=[];if(typeof c=="string")sb(this,c)&&(d=d.concat(this.g.get(Uo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return ti(this),this.i=null,c=Uo(this,c),sb(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function ab(c,d,f){ob(c,d),0<f.length&&(c.i=null,c.g.set(Uo(c,d),A(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let P=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var C=P;j[m]!==""&&(C+="="+encodeURIComponent(String(j[m]))),c.push(C)}}return this.i=c.join("&")};function Uo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function bx(c,d){d&&!c.j&&(ti(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(ob(this,m),ab(this,C,f))},c)),c.j=d}function Tx(c,d){let f=new za;if(a.Image){let m=new Image;m.onload=g(ni,f,"TestLoadImage: loaded",!0,d,m),m.onerror=g(ni,f,"TestLoadImage: error",!1,d,m),m.onabort=g(ni,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=g(ni,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Cx(c,d){let f=new za,m=new AbortController,C=setTimeout(()=>{m.abort(),ni(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(P=>{clearTimeout(C),P.ok?ni(f,"TestPingServer: ok",!0,d):ni(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),ni(f,"TestPingServer: error",!1,d)})}function ni(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function Sx(){this.g=new cx}function Dx(c,d,f){let m=f||"";try{tb(c,function(C,P){let j=C;u(C)&&(j=zp(C)),d.push(m+P+"="+encodeURIComponent(j))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Qa(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Qa,qp),Qa.prototype.g=function(){return new Ql(this.l,this.j)},Qa.prototype.i=function(c){return function(){return c}}({});function Ql(c,d){Ct.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ql,Ct),n=Ql.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Za(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ya(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ya(this):Za(this),this.readyState==3&&cb(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ya(this))},n.Qa=function(c){this.g&&(this.response=c,Ya(this))},n.ga=function(){this.g&&Ya(this)};function Ya(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Za(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Za(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function lb(c){let d="";return ie(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function tm(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=lb(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):qe(c,d,f))}function Xe(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Xe,Ct);var Ax=/^https?$/i,Rx=["POST","PUT"];n=Xe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kp.g(),this.v=this.o?VI(this.o):VI(Kp),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){ub(this,P);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let P of m.keys())f.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Rx,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,j]of f)this.g.setRequestHeader(P,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fb(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){ub(this,P)}};function ub(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,db(c),Yl(c)}function db(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),Yl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?hb(this):this.bb())},n.bb=function(){hb(this)};function hb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||wr(c)!=4||c.Z()!=2)){if(c.u&&wr(c)==4)kI(c.Ea,0,c);else if(Lt(c,"readystatechange"),wr(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=j===0){var C=String(c.D).match(nb)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!Ax.test(C?C.toLowerCase():"")}f=m}if(f)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var P=2<wr(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",db(c)}}finally{Yl(c)}}}}function Yl(c,d){if(c.g){fb(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Lt(c,"ready");try{f.onreadystatechange=m}catch{}}}function fb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function wr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),ax(d)}};function pb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Px(c){let d={};c=(c.g&&2<=wr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Y(c[m]))continue;var f=T(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[C]||[];d[C]=P,P.push(f)}I(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function mb(c){this.Aa=0,this.i=[],this.j=new za,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ja("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ja("baseRetryDelayMs",5e3,c),this.cb=Ja("retryDelaySeedMs",1e4,c),this.Wa=Ja("forwardChannelMaxRetries",2,c),this.wa=Ja("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new YI(c&&c.concurrentRequestLimit),this.Da=new Sx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=mb.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Vt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Tb(this,null,this.W),Jl(this)};function nm(c){if(gb(c),c.G==3){var d=c.U++,f=Er(c.I);if(qe(f,"SID",c.K),qe(f,"RID",d),qe(f,"TYPE","terminate"),Xa(c,f),d=new ei(c,c.j,d),d.L=2,d.v=Kl(Er(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Cb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ql(d)}bb(c)}function Zl(c){c.g&&(im(c),c.g.cancel(),c.g=null)}function gb(c){Zl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Xl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Jl(c){if(!ZI(c.h)&&!c.s){c.s=!0;var d=c.Ga;W||tt(),J||(W(),J=!0),ve.add(d,c),c.B=0}}function Mx(c,d){return JI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ha(y(c.Ga,c,d),Ib(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new ei(this,this.j,c),P=this.o;if(this.S&&(P?(P=v(P),b(P,this.S)):P=this.S),this.m!==null||this.O||(C.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=vb(this,C,d),f=Er(this.I),qe(f,"RID",c),qe(f,"CVER",22),this.D&&qe(f,"X-HTTP-Session-Id",this.D),Xa(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(lb(P)))+"&"+d:this.m&&tm(f,this.m,P)),em(this.h,C),this.Ua&&qe(f,"TYPE","init"),this.P?(qe(f,"$req",d),qe(f,"SID","null"),C.T=!0,Yp(C,f,null)):Yp(C,f,d),this.G=2}}else this.G==3&&(c?yb(this,c):this.i.length==0||ZI(this.h)||yb(this))};function yb(c,d){var f;d?f=d.l:f=c.U++;let m=Er(c.I);qe(m,"SID",c.K),qe(m,"RID",f),qe(m,"AID",c.T),Xa(c,m),c.m&&c.o&&tm(m,c.m,c.o),f=new ei(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=vb(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),em(c.h,f),Yp(f,m,d)}function Xa(c,d){c.H&&ie(c.H,function(f,m){qe(d,m,f)}),c.l&&tb({},function(f,m){qe(d,m,f)})}function vb(c,d,f){f=Math.min(c.i.length,f);var m=c.l?y(c.l.Na,c.l,c):null;e:{var C=c.i;let P=-1;for(;;){let j=["count="+f];P==-1?0<f?(P=C[0].g,j.push("ofs="+P)):P=0:j.push("ofs="+P);let Le=!0;for(let Et=0;Et<f;Et++){let De=C[Et].g,St=C[Et].map;if(De-=P,0>De)P=Math.max(0,C[Et].g-100),Le=!1;else try{Dx(St,j,"req"+De+"_")}catch{m&&m(St)}}if(Le){m=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function _b(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;W||tt(),J||(W(),J=!0),ve.add(d,c),c.v=0}}function rm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ha(y(c.Fa,c),Ib(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Eb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ha(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Zl(this),Eb(this))};function im(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Eb(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Er(c.qa);qe(d,"RID","rpc"),qe(d,"SID",c.K),qe(d,"AID",c.T),qe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(d,"TO",c.ja),qe(d,"TYPE","xmlhttp"),Xa(c,d),c.m&&c.o&&tm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Kl(Er(d)),f.m=null,f.P=!0,WI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Zl(this),rm(this),Vt(19))};function Xl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function wb(c,d){var f=null;if(c.g==d){Xl(c),im(c),c.g=null;var m=2}else if(Xp(c.h,d))f=d.D,XI(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=$l(),Lt(m,new HI(m,f)),Jl(c)}else _b(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&Mx(c,d)||m==2&&rm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Ib(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Vi(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),m=c.Xa;let C=!m;m=new Li(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gl(m,"https"),Kl(m),C?Tx(m.toString(),f):Cx(m.toString(),f)}else Vt(2);c.G=0,c.l&&c.l.sa(d),bb(c),gb(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function bb(c){if(c.G=0,c.ka=[],c.l){let d=eb(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function Tb(c,d,f){var m=f instanceof Li?Er(f):new Li(f);if(m.g!="")d&&(m.g=d+"."+m.g),Wl(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var P=new Li(null);m&&Gl(P,m),d&&(P.g=d),C&&Wl(P,C),f&&(P.l=f),m=P}return f=c.D,d=c.ya,f&&d&&qe(m,f,d),qe(m,"VER",c.la),Xa(c,m),m}function Cb(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Xe(new Qa({eb:f})):new Xe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sb(){}n=Sb.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eu(){}eu.prototype.g=function(c,d){return new nn(c,d)};function nn(c,d){Ct.call(this),this.g=new mb(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Y(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Bo(this)}w(nn,Ct),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){nm(this.g)},nn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=zp(c),c=f);d.i.push(new px(d.Ya++,c)),d.G==3&&Jl(d)},nn.prototype.N=function(){this.g.l=null,delete this.j,nm(this.g),delete this.g,nn.aa.N.call(this)};function Db(c){Gp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}w(Db,Gp);function Ab(){Wp.call(this),this.status=1}w(Ab,Wp);function Bo(c){this.g=c}w(Bo,Sb),Bo.prototype.ua=function(){Lt(this.g,"a")},Bo.prototype.ta=function(c){Lt(this.g,new Db(c))},Bo.prototype.sa=function(c){Lt(this.g,new Ab)},Bo.prototype.ra=function(){Lt(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,cE=zr.createWebChannelTransport=function(){return new eu},aE=zr.getStatEventTarget=function(){return $l()},sE=zr.Event=Oi,Ef=zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hl.NO_ERROR=0,Hl.TIMEOUT=8,Hl.HTTP_ERROR=6,pl=zr.ErrorCode=Hl,zI.COMPLETE="complete",oE=zr.EventType=zI,jI.EventType=Ba,Ba.OPEN="a",Ba.CLOSE="b",Ba.ERROR="c",Ba.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,ra=zr.WebChannel=jI,Qz=zr.FetchXmlHttpFactory=Qa,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,iE=zr.XhrIo=Xe}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});var oP="@firebase/firestore",sP="4.7.10";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var Da="11.5.0";var xo=new fr("@firebase/firestore");function ia(){return xo.logLevel}function H(n,...e){if(xo.logLevel<=_e.DEBUG){let t=e.map(Yw);xo.debug(`Firestore (${Da}): ${n}`,...t)}}function Wr(n,...e){if(xo.logLevel<=_e.ERROR){let t=e.map(Yw);xo.error(`Firestore (${Da}): ${n}`,...t)}}function fa(n,...e){if(xo.logLevel<=_e.WARN){let t=e.map(Yw);xo.warn(`Firestore (${Da}): ${n}`,...t)}}function Yw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ae(n="Unexpected state"){let e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function Ye(n,e){n||ae()}function Ce(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends Xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Sf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},pE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yt.UNAUTHENTICATED))}shutdown(){}},mE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},gE=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>S(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new Sf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new yt(e)}},yE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},vE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new yE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Df=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_E=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0);let r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Df(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string"),this.R=t.token,new Df(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Yz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function JP(){return new TextEncoder}var Af=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Yz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ye(n,e){return n<e?-1:n>e?1:0}function EE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ye(r,i);{let o=JP(),s=Zz(o.encode(aP(n,t)),o.encode(aP(e,t)));return s!==0?s:ye(r,i)}}t+=r>65535?2:1}return ye(n.length,e.length)}function aP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Zz(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ye(n[t],e[t]);return ye(n.length,e.length)}function pa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var cP=-62135596800,lP=1e6,Ot=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*lP);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cP)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lP}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-cP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ot(0,0))}static max(){return new n(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var uP="__name__",Rf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ae(),r===void 0?r=e.length-t:r>e.length-t&&ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ye(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):EE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}},Qe=class n extends Rf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Jz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,In=class n extends Rf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Jz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uP}static keyField(){return new n([uP])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ne=class n{constructor(e){this.path=e}static fromPath(e){return new n(Qe.fromString(e))}static fromName(e){return new n(Qe.fromString(e).popFirst(5))}static empty(){return new n(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Qe(e.slice()))}};var wl=-1,wE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};wE.UNKNOWN_ID=-1;function Xz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new Ot(t+1,0):new Ot(t,r));return new ko(i,ne.empty(),e)}function eq(n){return new ko(n.readTime,n.key,wl)}var ko=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(de.min(),ne.empty(),wl)}static max(){return new n(de.max(),ne.empty(),wl)}};function tq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ne.comparator(n.documentKey,e.documentKey),t!==0?t:ye(n.largestBatchId,e.largestBatchId))}var nq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",IE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function op(n){return S(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==nq)throw n;H("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function rq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Aa(n){return n.name==="IndexedDbTransactionError"}var Zw=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),iq=-1;function sp(n){return n==null}function Il(n){return n===0&&1/n==-1/0}function oq(n){return typeof n=="number"&&Number.isInteger(n)&&!Il(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var XP="";function sq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dP(e)),e=aq(n.get(t),e);return dP(e)}function aq(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case XP:t+="";break;default:t+=o}}return t}function dP(n){return n+XP+""}var cq="remoteDocuments",eM="owner";var tM="mutationQueues";var nM="mutations";var rM="documentMutations",lq="remoteDocumentsV14";var iM="remoteDocumentGlobal";var oM="targets";var sM="targetDocuments";var aM="targetGlobal",cM="collectionParents";var lM="clientMetadata";var uM="bundles";var dM="namedQueries";var uq="indexConfiguration";var dq="indexState";var hq="indexEntries";var hM="documentOverlays";var fq="globals";var pq=[tM,nM,rM,cq,oM,eM,aM,sM,lM,iM,cM,uM,dM],Cte=[...pq,hM],mq=[tM,nM,rM,lq,oM,eM,aM,sM,lM,iM,cM,uM,dM,hM],gq=mq,yq=[...gq,uq,dq,hq];var Ste=[...yq,fq];function hP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ra(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var at=class n{constructor(e,t){this.comparator=e,this.root=t||mr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ca(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ca(this.root,e,this.comparator,!1)}getReverseIterator(){return new ca(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ca(this.root,e,this.comparator,!0)}},ca=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,t,r,i,o){return this}insert(e,t,r){return new mr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vt=class n{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pf(this.data.getIterator())}getIteratorFrom(e){return new Pf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Pf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ro=class n{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new n([])}unionWith(e){let t=new vt(In.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Mf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Mf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var vq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if(Ye(!!n),typeof n=="string"){let e=0,t=vq.exec(n);if(Ye(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(n.seconds),nanos:Ke(n.nanos)}}function Ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qr(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}var pM="server_timestamp",mM="__type__",gM="__previous_value__",yM="__local_write_time__";function Jw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mM])===null||t===void 0?void 0:t.stringValue)===pM}function ap(n){let e=n.mapValue.fields[gM];return Jw(e)?ap(e):e}function bl(n){let e=Kr(n.mapValue.fields[yM].timestampValue);return new Ot(e.seconds,e.nanos)}var bE=class{constructor(e,t,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},Nf="(default)",xf=class n{constructor(e,t){this.projectId=e,this.database=t||Nf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Nf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Xw="__type__",vM="__max__",wf={mapValue:{fields:{__type__:{stringValue:vM}}}},eI="__vector__",ma="value";function Pi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jw(n)?4:EM(n)?9007199254740991:_M(n)?10:11:ae()}function yr(n,e){if(n===e)return!0;let t=Pi(n);if(t!==Pi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bl(n).isEqual(bl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kr(i.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Qr(i.bytesValue).isEqual(Qr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ke(i.geoPointValue.latitude)===Ke(o.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ke(i.integerValue)===Ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ke(i.doubleValue),a=Ke(o.doubleValue);return s===a?Il(s)===Il(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return pa(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(hP(s)!==hP(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!yr(s[l],a[l])))return!1;return!0}(n,e);default:return ae()}}function Tl(n,e){return(n.values||[]).find(t=>yr(t,e))!==void 0}function ga(n,e){if(n===e)return 0;let t=Pi(n),r=Pi(e);if(t!==r)return ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ye(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ke(o.integerValue||o.doubleValue),l=Ke(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return fP(n.timestampValue,e.timestampValue);case 4:return fP(bl(n),bl(e));case 5:return EE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Qr(o),l=Qr(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=ye(a[u],l[u]);if(h!==0)return h}return ye(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ye(Ke(o.latitude),Ke(s.latitude));return a!==0?a:ye(Ke(o.longitude),Ke(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return pP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let p=o.fields||{},y=s.fields||{},g=(a=p[ma])===null||a===void 0?void 0:a.arrayValue,w=(l=y[ma])===null||l===void 0?void 0:l.arrayValue,A=ye(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:pP(g,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===wf.mapValue&&s===wf.mapValue)return 0;if(o===wf.mapValue)return 1;if(s===wf.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let y=EE(l[p],h[p]);if(y!==0)return y;let g=ga(a[l[p]],u[h[p]]);if(g!==0)return g}return ye(l.length,h.length)}(n.mapValue,e.mapValue);default:throw ae()}}function fP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ye(n,e);let t=Kr(n),r=Kr(e),i=ye(t.seconds,r.seconds);return i!==0?i:ye(t.nanos,r.nanos)}function pP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ga(t[i],r[i]);if(o)return o}return ye(t.length,r.length)}function ya(n){return TE(n)}function TE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Kr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=TE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${TE(t.fields[s])}`;return i+"}"}(n.mapValue):ae()}function Tf(n){switch(Pi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ap(n);return e?16+Tf(e):16;case 5:return 2*n.stringValue.length;case 6:return Qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Tf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ra(r.fields,(o,s)=>{i+=o.length+Tf(s)}),i}(n.mapValue);default:throw ae()}}function mP(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function CE(n){return!!n&&"integerValue"in n}function tI(n){return!!n&&"arrayValue"in n}function gP(n){return!!n&&"nullValue"in n}function yP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lE(n){return!!n&&"mapValue"in n}function _M(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xw])===null||t===void 0?void 0:t.stringValue)===eI}function gl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ra(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vM}var Ate={mapValue:{fields:{[Xw]:{stringValue:eI},[ma]:{arrayValue:{}}}}};var qr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(t)}setAll(e){let t=In.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=gl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());lE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];lE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ra(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(gl(this.value))}};var Bn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,de.min(),de.min(),de.min(),qr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,de.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,de.min(),de.min(),qr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,de.min(),de.min(),qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var va=class{constructor(e,t){this.position=e,this.inclusive=t}};function vP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),t.key):r=ga(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _P(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}var Oo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function _q(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var kf=class{},dt=class n extends kf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new DE(e,t,r):t==="array-contains"?new PE(e,r):t==="in"?new ME(e,r):t==="not-in"?new NE(e,r):t==="array-contains-any"?new xE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new AE(e,r):new RE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ga(t,this.value)):t!==null&&Pi(this.value)===Pi(t)&&this.matchesComparison(ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$n=class n extends kf{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return wM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function wM(n){return n.op==="and"}function IM(n){return Eq(n)&&wM(n)}function Eq(n){for(let e of n.filters)if(e instanceof $n)return!1;return!0}function SE(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+ya(n.value);if(IM(n))return n.filters.map(e=>SE(e)).join(",");{let e=n.filters.map(t=>SE(t)).join(",");return`${n.op}(${e})`}}function bM(n,e){return n instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(n,e):n instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bM(s,i.filters[a]),!0):!1}(n,e):void ae()}function TM(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${ya(t.value)}`}(n):n instanceof $n?function(t){return t.op.toString()+" {"+t.getFilters().map(TM).join(" ,")+"}"}(n):"Filter"}var DE=class extends dt{constructor(e,t,r){super(e,t,r),this.key=ne.fromName(r.referenceValue)}matches(e){let t=ne.comparator(e.key,this.key);return this.matchesComparison(t)}},AE=class extends dt{constructor(e,t){super(e,"in",t),this.keys=CM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},RE=class extends dt{constructor(e,t){super(e,"not-in",t),this.keys=CM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function CM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ne.fromName(r.referenceValue))}var PE=class extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return tI(t)&&Tl(t.arrayValue,this.value)}},ME=class extends dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Tl(this.value.arrayValue,t)}},NE=class extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Tl(this.value.arrayValue,t)}},xE=class extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!tI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tl(this.value.arrayValue,r))}};var kE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}};function EP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new kE(n,e,t,r,i,o,s)}function nI(n){let e=Ce(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>SE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ya(r)).join(",")),e.le=t}return e.le}function rI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_q(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_P(n.startAt,e.startAt)&&_P(n.endAt,e.endAt)}function OE(n){return ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Mi=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function wq(n,e,t,r,i,o,s,a){return new Mi(n,e,t,r,i,o,s,a)}function cp(n){return new Mi(n)}function wP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SM(n){return n.collectionGroup!==null}function yl(n){let e=Ce(n);if(e.he===null){e.he=[];let t=new Set;for(let o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new vt(In.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Oo(o,r))}),t.has(In.keyField().canonicalString())||e.he.push(new Oo(In.keyField(),r))}return e.he}function gr(n){let e=Ce(n);return e.Pe||(e.Pe=Iq(e,yl(n))),e.Pe}function Iq(n,e){if(n.limitType==="F")return EP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Oo(i.field,o)});let t=n.endAt?new va(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new va(n.startAt.position,n.startAt.inclusive):null;return EP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function FE(n,e){let t=n.filters.concat([e]);return new Mi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function LE(n,e,t){return new Mi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lp(n,e){return rI(gr(n),gr(e))&&n.limitType===e.limitType}function DM(n){return`${nI(gr(n))}|lt:${n.limitType}`}function oa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>TM(i)).join(", ")}]`),sp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ya(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ya(i)).join(",")),`Target(${r})`}(gr(n))}; limitType=${n.limitType})`}function up(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of yl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=vP(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,yl(r),i)||r.endAt&&!function(s,a,l){let u=vP(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,yl(r),i))}(n,e)}function bq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AM(n){return(e,t)=>{let r=!1;for(let i of yl(n)){let o=Tq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Tq(n,e,t){let r=n.field.isKeyField()?ne.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ga(l,u):ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var Yr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return fM(this.inner)}size(){return this.innerSize}};var Cq=new at(ne.comparator);function Ni(){return Cq}var RM=new at(ne.comparator);function ml(...n){let e=RM;for(let t of n)e=e.insert(t.key,t);return e}function Sq(n){let e=RM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Po(){return vl()}function PM(){return vl()}function vl(){return new Yr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Rte=new at(ne.comparator),Dq=new vt(ne.comparator);function Se(...n){let e=Dq;for(let t of n)e=e.add(t);return e}var Aq=new vt(ye);function Rq(){return Aq}function iI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Il(e)?"-0":e}}function MM(n){return{integerValue:""+n}}function Pq(n,e){return oq(e)?MM(e):iI(n,e)}var _a=class{constructor(){this._=void 0}};function Mq(n,e,t){return n instanceof Cl?function(i,o){let s={fields:{[mM]:{stringValue:pM},[yM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Jw(o)&&(o=ap(o)),o&&(s.fields[gM]=o),{mapValue:s}}(t,e):n instanceof Ea?NM(n,e):n instanceof wa?xM(n,e):function(i,o){let s=xq(i,o),a=IP(s)+IP(i.Ie);return CE(s)&&CE(i.Ie)?MM(a):iI(i.serializer,a)}(n,e)}function Nq(n,e,t){return n instanceof Ea?NM(n,e):n instanceof wa?xM(n,e):t}function xq(n,e){return n instanceof Sl?function(r){return CE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Cl=class extends _a{},Ea=class extends _a{constructor(e){super(),this.elements=e}};function NM(n,e){let t=kM(e);for(let r of n.elements)t.some(i=>yr(i,r))||t.push(r);return{arrayValue:{values:t}}}var wa=class extends _a{constructor(e){super(),this.elements=e}};function xM(n,e){let t=kM(e);for(let r of n.elements)t=t.filter(i=>!yr(i,r));return{arrayValue:{values:t}}}var Sl=class extends _a{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function IP(n){return Ke(n.integerValue||n.doubleValue)}function kM(n){return tI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ea&&i instanceof Ea||r instanceof wa&&i instanceof wa?pa(r.elements,i.elements,yr):r instanceof Sl&&i instanceof Sl?yr(r.Ie,i.Ie):r instanceof Cl&&i instanceof Cl}(n.transform,e.transform)}var _l=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Cf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Dl=class{};function OM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new VE(n.key,_l.none()):new Al(n.key,n.data,_l.none());{let t=n.data,r=qr.empty(),i=new vt(In.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ia(n.key,r,new Ro(i.toArray()),_l.none())}}function Oq(n,e,t){n instanceof Al?function(i,o,s){let a=i.value.clone(),l=TP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ia?function(i,o,s){if(!Cf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=TP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(FM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function El(n,e,t,r){return n instanceof Al?function(o,s,a,l){if(!Cf(o.precondition,s))return a;let u=o.value.clone(),h=CP(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ia?function(o,s,a,l){if(!Cf(o.precondition,s))return a;let u=CP(o.fieldTransforms,l,s),h=s.data;return h.setAll(FM(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Cf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function bP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pa(r,i,(o,s)=>kq(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Al=class extends Dl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ia=class extends Dl{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function FM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function TP(n,e,t){let r=new Map;Ye(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Nq(s,a,t[i]))}return r}function CP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Mq(o,s,e))}return r}var VE=class extends Dl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var jE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Oq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=El(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=El(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=PM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=OM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Se())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(t,r)=>bP(t,r))&&pa(this.baseMutations,e.baseMutations,(t,r)=>bP(t,r))}};var UE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var BE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var lt,Te;function LM(n){if(n===void 0)return Wr("GRPC error has no .code"),L.UNKNOWN;switch(n){case lt.OK:return L.OK;case lt.CANCELLED:return L.CANCELLED;case lt.UNKNOWN:return L.UNKNOWN;case lt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case lt.INTERNAL:return L.INTERNAL;case lt.UNAVAILABLE:return L.UNAVAILABLE;case lt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case lt.NOT_FOUND:return L.NOT_FOUND;case lt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case lt.ABORTED:return L.ABORTED;case lt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case lt.DATA_LOSS:return L.DATA_LOSS;default:return ae()}}(Te=lt||(lt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var SP=null;var Fq=new Hr([4294967295,4294967295],0);function DP(n){let e=JP().encode(n),t=new rE;return t.update(e),new Uint8Array(t.digest())}function AP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hr([t,r],0),new Hr([i,o],0)]}var $E=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mo(`Invalid padding: ${t}`);if(r<0)throw new Mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Hr.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Hr.fromNumber(r)));return i.compare(Fq)===1&&(i=new Hr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=DP(e),[r,i]=AP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;let t=DP(e),[r,i]=AP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Mo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Of=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(de.min(),i,new at(ye),Ni(),Se())}},Rl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Se(),Se(),Se())}};var la=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},Ff=class{constructor(e,t){this.targetId=e,this.ge=t}},Lf=class{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Vf=class{constructor(){this.pe=0,this.ye=RP(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Se(),t=Se(),r=Se();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Rl(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=RP()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},HE=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ni(),this.$e=If(),this.Ue=If(),this.Ke=new at(ye)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let o=i.target;if(OE(o))if(r===0){let s=new ne(o.path);this.ze(t,s,Bn.newNoDocument(s,de.min()))}else Ye(r===1);else{let s=this.et(t);if(s!==r){let a=this.tt(e),l=a?this.nt(a,e,s):1;if(l!==0){this.Ye(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,u)}SP?.rt(function(h,p,y,g,w){var A,M,V,Y,G,Z;let Fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},ie=p.unchangedNames;return ie&&(Fe.bloomFilter={applied:w===0,hashCount:(A=ie?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(Y=(V=(M=ie?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&Y!==void 0?Y:0,padding:(Z=(G=ie?.bits)===null||G===void 0?void 0:G.padding)!==null&&Z!==void 0?Z:0,mightContain:I=>{var v;return(v=g?.mightContain(I))!==null&&v!==void 0&&v}}),Fe}(s,e.ge,this.ke.it(),a,l))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Qr(r).toUint8Array()}catch(l){if(l instanceof Mf)return fa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $E(s,i,o)}catch(l){return fa(l instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,o,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((o,s)=>{let a=this.Xe(s);if(a){if(o.current&&OE(a.target)){let l=new ne(a.target.path);this._t(l).has(s)||this.ut(s,l)||this.ze(s,l,Bn.newNoDocument(l,e))}o.ve&&(t.set(s,o.Fe()),o.Me())}});let r=Se();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));let i=new Of(e,t,this.Ke,this.Qe,r);return this.Qe=Ni(),this.$e=If(),this.Ue=If(),this.Ke=new at(ye),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Vf,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new vt(ye),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new vt(ye),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||H("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Vf),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function If(){return new at(ne.comparator)}function RP(){return new at(ne.comparator)}var Lq={asc:"ASCENDING",desc:"DESCENDING"},Vq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jq={and:"AND",or:"OR"},zE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function qE(n,e){return n.useProto3Json||sp(e)?e:{value:e}}function GE(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ua(n){return Ye(!!n),de.fromTimestamp(function(t){let r=Kr(t);return new Ot(r.seconds,r.nanos)}(n))}function jM(n,e){return WE(n,e).canonicalString()}function WE(n,e){let t=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UM(n){let e=Qe.fromString(n);return Ye(qM(e)),e}function uE(n,e){let t=UM(e);if(t.get(1)!==n.databaseId.projectId)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ne($M(t))}function BM(n,e){return jM(n.databaseId,e)}function Uq(n){let e=UM(n);return e.length===4?Qe.emptyPath():$M(e)}function PP(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $M(n){return Ye(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Bq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Ye(h===void 0||typeof h=="string"),Ft.fromBase64String(h||"")):(Ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ft.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?L.UNKNOWN:LM(u.code);return new z(h,u.message||"")}(s);t=new Lf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=uE(n,r.document.name),o=ua(r.document.updateTime),s=r.document.createTime?ua(r.document.createTime):de.min(),a=new qr({mapValue:{fields:r.document.fields}}),l=Bn.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new la(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=uE(n,r.document),o=r.readTime?ua(r.readTime):de.min(),s=Bn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new la([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=uE(n,r.document),o=r.removedTargetIds||[];t=new la([],o,i,null)}else{if(!("filter"in e))return ae();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new BE(i,o),a=r.targetId;t=new Ff(a,s)}}return t}function $q(n,e){return{documents:[BM(n,e.path)]}}function Hq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=BM(n,i);let o=function(u){if(u.length!==0)return zM($n.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(y){return{field:sa(y.field),direction:Gq(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=qE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:t,parent:i}}function zq(n){let e=Uq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ye(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=HM(p);return y instanceof $n&&IM(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(w){return new Oo(aa(w.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,sp(y)?null:y}(t.limit));let l=null;t.startAt&&(l=function(p){let y=!!p.before,g=p.values||[];return new va(g,y)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let y=!p.before,g=p.values||[];return new va(g,y)}(t.endAt)),wq(e,i,s,o,a,"F",l,u)}function qq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=aa(t.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=aa(t.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=aa(t.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=aa(t.unaryFilter.field);return dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(n):n.fieldFilter!==void 0?function(t){return dt.create(aa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return $n.create(t.compositeFilter.filters.map(r=>HM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(t.compositeFilter.op))}(n):ae()}function Gq(n){return Lq[n]}function Wq(n){return Vq[n]}function Kq(n){return jq[n]}function sa(n){return{fieldPath:n.canonicalString()}}function aa(n){return In.fromServerFormat(n.fieldPath)}function zM(n){return n instanceof dt?function(t){if(t.op==="=="){if(yP(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NAN"}};if(gP(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yP(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NOT_NAN"}};if(gP(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(t.field),op:Wq(t.op),value:t.value}}}(n):n instanceof $n?function(t){let r=t.getFilters().map(i=>zM(i));return r.length===1?r[0]:{compositeFilter:{op:Kq(t.op),filters:r}}}(n):ae()}function qM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Pl=class n{constructor(e,t,r,i,o=de.min(),s=de.min(),a=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var KE=class{constructor(e){this.Tt=e}};function Qq(n){let e=zq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?LE(e,e.limit,"L"):e}var jf=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Ke(e.integerValue));else if("doubleValue"in e){let r=Ke(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Il(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Kr(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Qr(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?EM(e)?this.ft(t,Number.MAX_SAFE_INTEGER):_M(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):ae()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=ma,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Ke(a)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),ne.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};jf.xt=new jf;var QE=class{constructor(){this.Tn=new YE}addToCollectionParentIndex(e,t){return this.Tn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(ko.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},YE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vt(Qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Qe.comparator)).toArray()}};var Pte=new Uint8Array(0);var MP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GM=41943040,wn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(GM,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);var Ml=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new n(0)}static Kn(){return new n(-1)}};var NP="LruGarbageCollector",Yq=1048576;function xP([n,e],[t,r]){let i=ye(n,t);return i===0?ye(e,r):i}var ZE=class{constructor(e){this.Hn=e,this.buffer=new vt(xP),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();xP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},JE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){H(NP,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>S(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Aa(t)?H(NP,"Ignoring IndexedDB error during garbage collection: ",t):yield op(t)}yield this.er(3e5)}))}},XE=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(Zw.ae);let r=new ZE(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(MP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MP):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,s,a,l,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),ia()<=_e.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Zq(n,e){return new XE(n,e)}var ew=class{constructor(){this.changes=new Yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var tw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var nw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&El(r.mutation,i,Ro.empty(),Ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Se()){let i=Po();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ml();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Po();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Se()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ni(),s=vl(),a=function(){return vl()}();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Ia)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),El(h.mutation,u,h.mutation.getFieldMask(),Ot.now())):s.set(u.key,Ro.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new tw(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=vl(),i=new at((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||Ro.empty();h=a.applyToLocalView(u,h),r.set(l,h);let p=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=PM();h.forEach(y=>{if(!o.has(y)){let g=OM(t.get(y),r.get(y));g!==null&&p.set(y,g),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(Po()),a=wl,l=o;return s.next(u=>x.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{l=l.insert(h,y)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Se())).next(h=>({batchId:a,changes:Sq(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ne(t)).next(r=>{let i=ml();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ml();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,l=>{let u=function(p,y){return new Mi(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,Bn.newInvalidDocument(h)))});let a=ml();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&El(h.mutation,u,Ro.empty(),Ot.now()),up(t,u)&&(a=a.insert(l,u))}),a})}};var rw=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return x.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ua(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Qq(i.bundledQuery),readTime:ua(i.readTime)}}(t)),x.resolve()}};var iw=class{constructor(){this.overlays=new at(ne.comparator),this.Rr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Po();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Po(),o=t.length+1,s=new ne(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new at((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Po(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Po(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return x.resolve(a)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new UE(t,r));let o=this.Rr.get(t);o===void 0&&(o=Se(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}};var ow=class{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Nl=class{constructor(){this.Vr=new vt(ut.mr),this.gr=new vt(ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new ut(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new ut(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new ne(new Qe([])),r=new ut(t,e),i=new ut(t,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new ne(new Qe([])),r=new ut(t,e),i=new ut(t,e+1),o=Se();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ut(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ut=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ne.comparator(e.key,t.key)||ye(e.Cr,t.Cr)}static pr(e,t){return ye(e.Cr,t.Cr)||ne.comparator(e.key,t.key)}};var sw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new vt(ut.mr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new jE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Mr=this.Mr.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?iq:this.Fr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ut(t,0),i=new ut(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let a=this.Or(s.Cr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vt(ye);return t.forEach(i=>{let o=new ut(i,0),s=new ut(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),x.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ne.isDocumentKey(o)||(o=o.child(""));let s=new ut(new ne(o),0),a=new vt(ye);return this.Mr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)},s),x.resolve(this.Br(a))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ye(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return x.forEach(t.mutations,i=>{let o=new ut(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new ut(t,0),i=this.Mr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var aw=class{constructor(e){this.kr=e,this.docs=function(){return new at(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=Ni();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ni(),s=t.path,a=new ne(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||tq(eq(h),r)<=0||(i.has(h.key)||up(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ae()}qr(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cw(this)}getSize(e){return x.resolve(this.size)}},cw=class extends ew{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var lw=class{constructor(e){this.persistence=e,this.Qr=new Yr(t=>nI(t),rI),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Nl,this.targetCount=0,this.Kr=Ml.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),x.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Kr=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.zn(t),x.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ur.vr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.Ur.containsKey(t))}};var Uf=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Zw(0),this.zr=!1,this.zr=!0,this.jr=new ow,this.referenceDelegate=e(this),this.Hr=new lw(this),this.indexManager=new QE,this.remoteDocumentCache=function(i){return new aw(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new KE(t),this.Yr=new rw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new sw(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){H("MemoryPersistence","Starting transaction:",e);let i=new uw(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return x.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},uw=class extends IE{constructor(e){super(),this.currentSequenceNumber=e}},dw=class n{constructor(e){this.persistence=e,this.ti=new Nl,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw ae()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),x.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.ii,r=>{let i=ne.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,de.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return x.or([()=>x.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},Bf=class n{constructor(e,t){this.persistence=e,this.oi=new Yr(r=>sq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Zq(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return x.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,t).next(a=>{a||(r++,o.removeEntry(s,de.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),x.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tf(e.data.value)),t}ar(e,t,r){return x.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var hw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Se(),i=Se();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var fw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var pw=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lR()?8:rq(un())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new fw;return this._s(e,t,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,t,s,a.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(ia()<=_e.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",oa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),x.resolve()):(ia()<=_e.DEBUG&&H("QueryEngine","Query:",oa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ia()<=_e.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",oa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):x.resolve())}rs(e,t){if(wP(t))return x.resolve(null);let r=gr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=LE(t,null,"F"),r=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Se(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.cs(t,a);return this.ls(t,u,s,l.readTime)?this.rs(e,LE(t,null,"F")):this.hs(e,u,t,l)}))})))}ss(e,t,r,i){return wP(t)||i.isEqual(de.min())?x.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(t,o);return this.ls(t,s,r,i)?x.resolve(null):(ia()<=_e.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(t)),this.hs(e,s,t,Xz(i,wl)).next(a=>a))})}cs(e,t){let r=new vt(AM(e));return t.forEach((i,o)=>{up(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return ia()<=_e.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",oa(t)),this.ns.getDocumentsMatchingQuery(e,t,ko.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var oI="LocalStore",Jq=3e8,mw=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new at(ye),this.Is=new Yr(o=>nI(o),rI),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function Xq(n,e,t,r){return new mw(n,e,t,r)}function WM(n,e){return S(this,null,function*(){let t=Ce(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Se();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function KM(n){let e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function e4(n,e){let t=Ce(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.Hr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Hr.addMatchingKeys(o,h.addedDocuments,p)));let g=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Ft.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(p,g),function(A,M,V){return A.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Jq?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(y,g,h)&&a.push(t.Hr.updateTargetData(o,g))});let l=Ni(),u=Se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(t4(o,s,e.documentUpdates).next(h=>{l=h.Vs,u=h.fs})),!r.isEqual(de.min())){let h=t.Hr.getLastRemoteSnapshotVersion(o).next(p=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.Ts=i,o))}function t4(n,e,t){let r=Se(),i=Se();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ni();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):H(oI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:s,fs:i}})}function n4(n,e){let t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Hr.allocateTargetId(r).next(s=>(i=new Pl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function gw(n,e,t){return S(this,null,function*(){let r=Ce(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Aa(s))throw s;H(oI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function kP(n,e,t){let r=Ce(n),i=de.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=Ce(l),y=p.Is.get(h);return y!==void 0?x.resolve(p.Ts.get(y)):p.Hr.getTargetData(u,h)}(r,s,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,t?i:de.min(),t?o:Se())).next(a=>(r4(r,bq(e),a),{documents:a,gs:o})))}function r4(n,e,t){let r=n.Es.get(e)||de.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}var $f=class{constructor(){this.activeTargetIds=Rq()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var yw=class{constructor(){this.ho=new $f,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $f,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vw=class{To(e){}shutdown(){}};var OP="ConnectivityMonitor",Hf=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){H(OP,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){H(OP,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bf=null;function _w(){return bf===null?bf=function(){return 268435456+Math.round(2147483648*Math.random())}():bf++,"0x"+bf.toString(16)}var dE="RestConnection",i4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ew=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Nf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){let s=_w(),a=this.bo(e,t.toUriEncodedString());H(dE,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(u=>(H(dE,`Received RPC '${e}' ${s}: `,u),u),u=>{throw fa(dE,`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,t,r,i,o,s){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){let r=i4[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var ww=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var kt="WebChannelConnection",Iw=class extends Ew{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let o=_w();return new Promise((s,a)=>{let l=new iE;l.setWithCredentials(!0),l.listenOnce(oE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pl.NO_ERROR:let h=l.getResponseJson();H(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case pl.TIMEOUT:H(kt,`RPC '${e}' ${o} timed out`),a(new z(L.DEADLINE_EXCEEDED,"Request time out"));break;case pl.HTTP_ERROR:let p=l.getStatus();if(H(kt,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let g=y?.error;if(g&&g.status&&g.message){let w=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(V)>=0?V:L.UNKNOWN}(g.status);a(new z(w,g.message))}else a(new z(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(L.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{H(kt,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);H(kt,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",u,r,15)})}Wo(e,t,r){let i=_w(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cE(),a=aE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");H(kt,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l),y=!1,g=!1,w=new ww({Fo:M=>{g?H(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(H(kt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),H(kt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Mo:()=>p.close()}),A=(M,V,Y)=>{M.listen(V,G=>{try{Y(G)}catch(Z){setTimeout(()=>{throw Z},0)}})};return A(p,ra.EventType.OPEN,()=>{g||(H(kt,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),A(p,ra.EventType.CLOSE,()=>{g||(g=!0,H(kt,`RPC '${e}' stream ${i} transport closed`),w.Uo())}),A(p,ra.EventType.ERROR,M=>{g||(g=!0,fa(kt,`RPC '${e}' stream ${i} transport errored:`,M),w.Uo(new z(L.UNAVAILABLE,"The operation could not be completed")))}),A(p,ra.EventType.MESSAGE,M=>{var V;if(!g){let Y=M.data[0];Ye(!!Y);let G=Y,Z=G?.error||((V=G[0])===null||V===void 0?void 0:V.error);if(Z){H(kt,`RPC '${e}' stream ${i} received error:`,Z);let Fe=Z.status,ie=function(_){let b=lt[_];if(b!==void 0)return LM(b)}(Fe),I=Z.message;ie===void 0&&(ie=L.INTERNAL,I="Unknown error status: "+Fe+" with message "+Z.message),g=!0,w.Uo(new z(ie,I)),p.close()}else H(kt,`RPC '${e}' stream ${i} received:`,Y),w.Ko(Y)}}),A(a,sE.STAT_EVENT,M=>{M.stat===Ef.PROXY?H(kt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Ef.NOPROXY&&H(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}};function hE(){return typeof document<"u"?document:null}function dp(n){return new zE(n,!0)}var zf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var FP="PersistentStream",bw=class{constructor(e,t,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zf(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return S(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return S(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return S(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new z(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>S(this,null,function*(){this.state=0,this.start()}))}m_(e){return H(FP,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(H(FP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Tw=class extends bw{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=Bq(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?ua(s.readTime):de.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=PP(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=OE(l)?{documents:$q(o,l)}:{query:Hq(o,l).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=VM(o,s.resumeToken);let u=qE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(de.min())>0){a.readTime=GE(o,s.snapshotVersion.toTimestamp());let u=qE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=qq(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=PP(this.serializer),t.removeTarget=e,this.I_(t)}};var Cw=class{},Sw=class extends Cw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,WE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(L.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,WE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(L.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},Dw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Wr(t),this.N_=!1):H("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var ba="RemoteStore",Aw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>S(this,null,function*(){Vl(this)&&(H(ba,"Restarting streams for network reachability change."),yield function(l){return S(this,null,function*(){let u=Ce(l);u.W_.add(4),yield Ll(u),u.j_.set("Unknown"),u.W_.delete(4),yield hp(u)})}(this))}))}),this.j_=new Dw(r,i)}};function hp(n){return S(this,null,function*(){if(Vl(n))for(let e of n.G_)yield e(!0)})}function Ll(n){return S(this,null,function*(){for(let e of n.G_)yield e(!1)})}function QM(n,e){let t=Ce(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),lI(t)?cI(t):Pa(t).c_()&&aI(t,e))}function sI(n,e){let t=Ce(n),r=Pa(t);t.K_.delete(e),r.c_()&&YM(t,e),t.K_.size===0&&(r.c_()?r.P_():Vl(t)&&t.j_.set("Unknown"))}function aI(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pa(n).y_(e)}function YM(n,e){n.H_.Ne(e),Pa(n).w_(e)}function cI(n){n.H_=new HE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Pa(n).start(),n.j_.B_()}function lI(n){return Vl(n)&&!Pa(n).u_()&&n.K_.size>0}function Vl(n){return Ce(n).W_.size===0}function ZM(n){n.H_=void 0}function o4(n){return S(this,null,function*(){n.j_.set("Online")})}function s4(n){return S(this,null,function*(){n.K_.forEach((e,t)=>{aI(n,e)})})}function a4(n,e){return S(this,null,function*(){ZM(n),lI(n)?(n.j_.q_(e),cI(n)):n.j_.set("Unknown")})}function c4(n,e,t){return S(this,null,function*(){if(n.j_.set("Online"),e instanceof Lf&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.K_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.K_.delete(a),i.H_.removeTarget(a))})}(n,e)}catch(r){H(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield LP(n,r)}else if(e instanceof la?n.H_.We(e):e instanceof Ff?n.H_.Ze(e):n.H_.je(e),!t.isEqual(de.min()))try{let r=yield KM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.H_.ot(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.K_.get(u);h&&o.K_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.K_.get(l);if(!h)return;o.K_.set(l,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),YM(o,l);let p=new Pl(h.target,l,u,h.sequenceNumber);aI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){H(ba,"Failed to raise snapshot:",r),yield LP(n,r)}})}function LP(n,e,t){return S(this,null,function*(){if(!Aa(e))throw e;n.W_.add(1),yield Ll(n),n.j_.set("Offline"),t||(t=()=>KM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){H(ba,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield hp(n)}))})}function VP(n,e){return S(this,null,function*(){let t=Ce(n);t.asyncQueue.verifyOperationInProgress(),H(ba,"RemoteStore received new credentials");let r=Vl(t);t.W_.add(3),yield Ll(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield hp(t)})}function l4(n,e){return S(this,null,function*(){let t=Ce(n);e?(t.W_.delete(2),yield hp(t)):e||(t.W_.add(2),yield Ll(t),t.j_.set("Unknown"))})}function Pa(n){return n.J_||(n.J_=function(t,r,i){let o=Ce(t);return o.M_(),new Tw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:o4.bind(null,n),No:s4.bind(null,n),Lo:a4.bind(null,n),p_:c4.bind(null,n)}),n.G_.push(e=>S(this,null,function*(){e?(n.J_.h_(),lI(n)?cI(n):n.j_.set("Unknown")):(yield n.J_.stop(),ZM(n))}))),n.J_}var Rw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function JM(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),Aa(n))return new z(L.UNAVAILABLE,`${e}: ${n}`);throw n}var qf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ne.comparator(t.key,r.key):(t,r)=>ne.comparator(t.key,r.key),this.keyedMap=ml(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Gf=class{constructor(){this.Z_=new at(ne.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ae():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ta=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,qf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Pw=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},Mw=class{constructor(){this.queries=jP(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=Ce(t),o=i.queries;i.queries=jP(),o.forEach((s,a)=>{for(let l of a.ta)l.onError(r)})})(this,new z(L.ABORTED,"Firestore shutting down"))}};function jP(){return new Yr(n=>DM(n),lp)}function XM(n,e){return S(this,null,function*(){let t=Ce(n),r=3,i=e.query,o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new Pw,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield t.onListen(i,!0);break;case 1:o.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=JM(s,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&uI(t)})}function eN(n,e){return S(this,null,function*(){let t=Ce(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function u4(n,e){let t=Ce(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&uI(t)}function d4(n,e,t){let r=Ce(n),i=r.queries.get(e);if(i)for(let o of i.ta)o.onError(t);r.queries.delete(e)}function uI(n){n.ia.forEach(e=>{e.next()})}var Nw,UP;(UP=Nw||(Nw={}))._a="default",UP.Cache="cache";var Wf=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Nw.Cache}};var Kf=class{constructor(e){this.key=e}},Qf=class{constructor(e){this.key=e}},xw=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Se(),this.mutatedKeys=Se(),this.ya=AM(e),this.wa=new qf(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new Gf,i=t?t.wa:this.wa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),g=up(this.query,p)?p:null,w=!!y&&this.mutatedKeys.has(y.key),A=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),M=!1;y&&g?y.data.isEqual(g.data)?w!==A&&(r.track({type:3,doc:g}),M=!0):this.va(y,g)||(r.track({type:2,doc:g}),M=!0,(l&&this.ya(g,l)>0||u&&this.ya(g,u)<0)&&(a=!0)):!y&&g?(r.track({type:0,doc:g}),M=!0):y&&!g&&(r.track({type:1,doc:y}),M=!0,(l||u)&&(a=!0)),M&&(g?(s=s.add(g),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((h,p)=>function(g,w){let A=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return A(g)-A(w)}(h.type,p.type)||this.ya(h.doc,p.doc)),this.Ca(r),i=i!=null&&i;let a=t&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,s.length!==0||u?{snapshot:new Ta(this.query,e.wa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Gf,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=Se(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Qf(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Kf(r))}),t}Oa(e){this.fa=e.gs,this.pa=Se();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ta.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},dI="SyncEngine",kw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Ow=class{constructor(e){this.key=e,this.Ba=!1}},Fw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Yr(a=>DM(a),lp),this.qa=new Map,this.Qa=new Set,this.$a=new at(ne.comparator),this.Ua=new Map,this.Ka=new Nl,this.Wa={},this.Ga=new Map,this.za=Ml.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function h4(n,e,t=!0){return S(this,null,function*(){let r=oN(n),i,o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield tN(r,e,t,!0),i})}function f4(n,e){return S(this,null,function*(){let t=oN(n);yield tN(t,e,!0,!1)})}function tN(n,e,t,r){return S(this,null,function*(){let i=yield n4(n.localStore,gr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield p4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&QM(n.remoteStore,i),a})}function p4(n,e,t,r,i){return S(this,null,function*(){n.Ha=(p,y,g)=>function(A,M,V,Y){return S(this,null,function*(){let G=M.view.ba(V);G.ls&&(G=yield kP(A.localStore,M.query,!1).then(({documents:I})=>M.view.ba(I,G)));let Z=Y&&Y.targetChanges.get(M.targetId),Fe=Y&&Y.targetMismatches.get(M.targetId)!=null,ie=M.view.applyChanges(G,A.isPrimaryClient,Z,Fe);return $P(A,M.targetId,ie.Ma),ie.snapshot})}(n,p,y,g);let o=yield kP(n.localStore,e,!0),s=new xw(e,o.gs),a=s.ba(o.documents),l=Rl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);$P(n,t,u.Ma);let h=new kw(e,t,s);return n.ka.set(e,h),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),u.snapshot})}function m4(n,e,t){return S(this,null,function*(){let r=Ce(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!lp(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&sI(r.remoteStore,i.targetId),Lw(r,i.targetId)}).catch(op))):(Lw(r,i.targetId),yield gw(r.localStore,i.targetId,!0))})}function g4(n,e){return S(this,null,function*(){let t=Ce(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sI(t.remoteStore,r.targetId))})}function nN(n,e){return S(this,null,function*(){let t=Ce(n);try{let r=yield e4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ua.get(o);s&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Ye(s.Ba):i.removedDocuments.size>0&&(Ye(s.Ba),s.Ba=!1))}),yield iN(t,r,e)}catch(r){yield op(r)}})}function BP(n,e,t){let r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((o,s)=>{let a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=Ce(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let y of p.ta)y.sa(a)&&(u=!0)}),u&&uI(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function y4(n,e,t){return S(this,null,function*(){let r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ua.get(e),o=i&&i.key;if(o){let s=new at(ne.comparator);s=s.insert(o,Bn.newNoDocument(o,de.min()));let a=Se().add(o),l=new Of(de.min(),new Map,new at(ye),s,a);yield nN(r,l),r.$a=r.$a.remove(o),r.Ua.delete(e),hI(r)}else yield gw(r.localStore,e,!1).then(()=>Lw(r,e,t)).catch(op)})}function Lw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||rN(n,r)})}function rN(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(sI(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),hI(n))}function $P(n,e,t){for(let r of t)r instanceof Kf?(n.Ka.addReference(r.key,e),v4(n,r)):r instanceof Qf?(H(dI,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||rN(n,r.key)):ae()}function v4(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(H(dI,"New document in limbo: "+t),n.Qa.add(r),hI(n))}function hI(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new ne(Qe.fromString(e)),r=n.za.next();n.Ua.set(r,new Ow(t)),n.$a=n.$a.insert(t,r),QM(n.remoteStore,new Pl(gr(cp(t.path)),r,"TargetPurposeLimboResolution",Zw.ae))}}function iN(n,e,t){return S(this,null,function*(){let r=Ce(n),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=hw.Yi(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.La.p_(i),yield function(l,u){return S(this,null,function*(){let h=Ce(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(u,y=>x.forEach(y.Hi,g=>h.persistence.referenceDelegate.addReference(p,y.targetId,g)).next(()=>x.forEach(y.Ji,g=>h.persistence.referenceDelegate.removeReference(p,y.targetId,g)))))}catch(p){if(!Aa(p))throw p;H(oI,"Failed to update sequence numbers: "+p)}for(let p of u){let y=p.targetId;if(!p.fromCache){let g=h.Ts.get(y),w=g.snapshotVersion,A=g.withLastLimboFreeSnapshotVersion(w);h.Ts=h.Ts.insert(y,A)}}})}(r.localStore,o))})}function _4(n,e){return S(this,null,function*(){let t=Ce(n);if(!t.currentUser.isEqual(e)){H(dI,"User change. New user:",e.toKey());let r=yield WM(t.localStore,e);t.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new z(L.CANCELLED,s))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield iN(t,r.Rs)}})}function E4(n,e){let t=Ce(n),r=t.Ua.get(e);if(r&&r.Ba)return Se().add(r.key);{let i=Se(),o=t.qa.get(e);if(!o)return i;for(let s of o){let a=t.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function oN(n){let e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y4.bind(null,e),e.La.p_=u4.bind(null,e.eventManager),e.La.Ja=d4.bind(null,e.eventManager),e}var sN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return S(this,null,function*(){this.serializer=dp(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return Xq(this.persistence,new pw,t.initialUser,this.serializer)}Xa(t){return new Uf(dw.ri,this.serializer)}Za(t){return new yw}terminate(){return S(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Vw=class extends sN{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ye(this.persistence.referenceDelegate instanceof Bf);let r=this.persistence.referenceDelegate.garbageCollector;return new JE(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new Uf(r=>Bf.ri(r,t),this.serializer)}};var w4=(()=>{class n{initialize(t,r){return S(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_4.bind(null,this.syncEngine),yield l4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Mw}()}createDatastore(t){let r=dp(t.databaseInfo.databaseId),i=function(s){return new Iw(s)}(t.databaseInfo);return function(s,a,l,u){return new Sw(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new Aw(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>BP(this.syncEngine,r,0),function(){return Hf.D()?new Hf:new vw}())}createSyncEngine(t,r){return function(o,s,a,l,u,h,p){let y=new Fw(o,s,a,l,u,h);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var t,r;yield function(o){return S(this,null,function*(){let s=Ce(o);H(ba,"RemoteStore shutting down."),s.W_.add(5),yield Ll(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Yf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var xi="FirestoreClient",jw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=Af.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){H(xi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(H(xi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=JM(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function fE(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),H(xi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield WM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function HP(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield I4(n);H(xi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>VP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>VP(e.remoteStore,i)),n._onlineComponents=e})}function I4(n){return S(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){H(xi,"Using user provided OfflineComponentProvider");try{yield fE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;fa("Error using user provided cache. Falling back to memory cache: "+t),yield fE(n,new sN)}}else H(xi,"Using default OfflineComponentProvider"),yield fE(n,new Vw(void 0));return n._offlineComponents})}function b4(n){return S(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(H(xi,"Using user provided OnlineComponentProvider"),yield HP(n,n._uninitializedComponentsProvider._online)):(H(xi,"Using default OnlineComponentProvider"),yield HP(n,new w4))),n._onlineComponents})}function Uw(n){return S(this,null,function*(){let e=yield b4(n),t=e.eventManager;return t.onListen=h4.bind(null,e.syncEngine),t.onUnlisten=m4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=g4.bind(null,e.syncEngine),t})}function T4(n,e,t={}){let r=new Gr;return n.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(o,s,a,l,u){let h=new Yf({next:y=>{h.su(),s.enqueueAndForget(()=>eN(o,p));let g=y.docs.has(a);!g&&y.fromCache?u.reject(new z(L.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&y.fromCache&&l&&l.source==="server"?u.reject(new z(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new Wf(cp(a.path),h,{includeMetadataChanges:!0,Ta:!0});return XM(o,p)}(yield Uw(n),n.asyncQueue,e,t,r)})),r.promise}function aN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var zP=new Map;function cN(n,e,t){if(!t)throw new z(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C4(n,e,t,r){if(e===!0&&r===!0)throw new z(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qP(n){if(!ne.isDocumentKey(n))throw new z(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GP(n){if(ne.isDocumentKey(n))throw new z(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ae()}function da(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=fp(n);throw new z(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var lN="firestore.googleapis.com",WP=!0,Zf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lN,this.ssl=WP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:WP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Yq)throw new z(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ca=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pE;switch(r.type){case"firstParty":return new vE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=zP.get(t);r&&(H("ComponentProvider","Removing Datastore"),zP.delete(t),r.terminate())}(this),Promise.resolve()}};function uN(n,e,t,r={}){var i;let o=(n=da(n,Ca))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;o.host!==lN&&o.host!==a&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Io(l,s)&&(n._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=yt.MOCK_USER;else{u=tf(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new z(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new yt(p)}n._authCredentials=new mE(new Sf(u,h))}}var Fo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},en=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ri=class n extends Fo{constructor(e,t,r){super(e,t,cp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ne(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function dN(n,e,...t){if(n=wt(n),cN("collection","path",e),n instanceof Ca){let r=Qe.fromString(e,...t);return GP(r),new Ri(n,null,r)}{if(!(n instanceof en||n instanceof Ri))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return GP(r),new Ri(n.firestore,null,r)}}function hN(n,e,...t){if(n=wt(n),arguments.length===1&&(e=Af.newId()),cN("doc","path",e),n instanceof Ca){let r=Qe.fromString(e,...t);return qP(r),new en(n,null,new ne(r))}{if(!(n instanceof en||n instanceof Ri))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return qP(r),new en(n.firestore,n instanceof Ri?n.converter:null,new ne(r))}}var KP="AsyncQueue",Jf=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zf(this,"async_queue_retry"),this.Su=()=>{let r=hE();r&&H(KP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=hE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=hE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new Gr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return S(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Aa(e))throw e;H(KP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=Rw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&ae()}verifyOperationInProgress(){}Mu(){return S(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};function QP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Sa=class extends Ca{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Jf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Jf(e),this._firestoreClient=void 0,yield e}})}};function fN(n,e){let t=typeof n=="object"?n:Ci(),r=typeof n=="string"?n:e||Nf,i=Js(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ef("firestore");o&&uN(i,...o)}return i}function pN(n){if(n._terminated)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||S4(n),n._firestoreClient}function S4(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,h){return new bE(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aN(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new jw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var xl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ft.fromBase64String(e))}catch(t){throw new z(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ep=class{constructor(e){this._methodName=e}};var kl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var Ol=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var D4=/^__.*__$/;function mN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var Bw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Hw(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(mN(this.Lu)&&D4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},$w=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dp(e)}ju(e,t,r,i=!1){return new Bw({Lu:e,methodName:t,zu:r,path:In.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function A4(n){let e=n._freezeSettings(),t=dp(n._databaseId);return new $w(n._databaseId,!!e.ignoreUndefinedProperties,t)}function R4(n,e,t,r=!1){return fI(t,n.ju(r?4:3,e))}function fI(n,e){if(gN(n=wt(n)))return M4("Unsupported field value:",e,n),P4(n,e);if(n instanceof ep)return function(r,i){if(!mN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=fI(a,i.Ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Pq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ot.fromDate(r);return{timestampValue:GE(i.serializer,o)}}if(r instanceof Ot){let o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:GE(i.serializer,o)}}if(r instanceof kl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xl)return{bytesValue:VM(i.serializer,r._byteString)};if(r instanceof en){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jM(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ol)return function(s,a){return{mapValue:{fields:{[Xw]:{stringValue:eI},[ma]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return iI(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${fp(r)}`)}(n,e)}function P4(n,e){let t={};return fM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(n,(r,i)=>{let o=fI(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function gN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof kl||n instanceof xl||n instanceof en||n instanceof ep||n instanceof Ol)}function M4(n,e,t){if(!gN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=fp(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}var N4=new RegExp("[~\\*/\\[\\]]");function x4(n,e,t){if(e.search(N4)>=0)throw Hw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xf(...e.split("."))._internalPath}catch{throw Hw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hw(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new z(L.INVALID_ARGUMENT,a+n+l)}var tp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(pI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},zw=class extends tp{data(){return super.data()}};function pI(n,e){return typeof e=="string"?x4(n,e):e instanceof Xf?e._internalPath:e._delegate._internalPath}function k4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fl=class{},np=class extends Fl{};function yN(n,e,...t){let r=[];e instanceof Fl&&r.push(e),r=r.concat(t),function(o){let s=o.filter(l=>l instanceof Gw).length,a=o.filter(l=>l instanceof qw).length;if(s>1||s>0&&a>0)throw new z(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var qw=class n extends np{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return _N(e._query,t),new Fo(e.firestore,e.converter,FE(e._query,t))}_parse(e){let t=A4(e.firestore);return function(o,s,a,l,u,h,p){let y;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new z(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ZP(p,h);let w=[];for(let A of p)w.push(YP(l,o,A));y={arrayValue:{values:w}}}else y=YP(l,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ZP(p,h),y=R4(a,s,p,h==="in"||h==="not-in");return dt.create(u,h,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var Gw=class n extends Fl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:$n.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)_N(s,l),s=FE(s,l)}(e._query,t),new Fo(e.firestore,e.converter,FE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Ww=class n extends np{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oo(o,s)}(e._query,this._field,this._direction);return new Fo(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Mi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function vN(n,e="asc"){let t=e,r=pI("orderBy",n);return Ww._create(r,t)}function YP(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SM(e)&&t.indexOf("/")!==-1)throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Qe.fromString(t));if(!ne.isDocumentKey(r))throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mP(n,new ne(r))}if(t instanceof en)return mP(n,t._key);throw new z(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fp(t)}.`)}function ZP(n,e){if(!Array.isArray(n)||n.length===0)throw new z(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _N(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new z(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Kw=class{convertValue(e,t="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ra(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ma].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ke(s.doubleValue));return new Ol(o)}convertGeoPoint(e){return new kl(Ke(e.latitude),Ke(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ap(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){let t=Kr(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Qe.fromString(e);Ye(qM(r));let i=new xf(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(t)||Wr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var No=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},rp=class extends tp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ha(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(pI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ha=class extends rp{data(e={}){return super.data(e)}},Qw=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new No(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ha(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:O4(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function O4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}function EN(n){n=da(n,en);let e=da(n.firestore,Sa);return T4(pN(e),n._key).then(t=>wN(e,n,t))}var ip=class extends Kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new xl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}};function mI(n,...e){var t,r,i;n=wt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||QP(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QP(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,h;if(n instanceof en)u=da(n.firestore,Sa),h=cp(n._key.path),l={next:p=>{e[s]&&e[s](wN(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=da(n,Fo);u=da(p.firestore,Sa),h=p._query;let y=new ip(u);l={next:g=>{e[s]&&e[s](new Qw(u,y,p,g))},error:e[s+1],complete:e[s+2]},k4(n._query)}return function(y,g,w,A){let M=new Yf(A),V=new Wf(g,M,w);return y.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return XM(yield Uw(y),V)})),()=>{M.su(),y.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return eN(yield Uw(y),V)}))}}(pN(u),h,a,l)}function wN(n,e,t){let r=t.docs.get(e._key),i=new ip(n);return new rp(n,i,e._key,r,new No(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Da=i})(Ti),dn(new It("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Sa(new gE(r.getProvider("auth-internal")),new _E(s,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$e(oP,sP,e),$e(oP,sP,"esm2017")})();var pp=function(){return pp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},pp.apply(this,arguments)};var V4={includeMetadataChanges:!1};function IN(n,e){return e===void 0&&(e=V4),new le(function(t){var r=mI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function bN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:pp(pp({},r),(t={},t[e.idField]=n.id,t))}function TN(n){return IN(n,{includeMetadataChanges:!0}).pipe(K(function(e){return e.docs}))}function CN(n,e){return e===void 0&&(e={}),TN(n).pipe(K(function(t){return t.map(function(r){return bN(r,e)})}))}var Lo=class{constructor(e){return e}},SN="firestore",gI=class{constructor(){return Si(SN)}};var yI=new Q("angularfire2.firestore-instances");function j4(n,e){let t=ea(SN,n,e);return t&&new Lo(t)}function U4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Lo(r)}}var B4={provide:gI,deps:[[new jt,yI]]},$4={provide:Lo,useFactory:j4,deps:[[new jt,yI],$r]};function DN(n,...e){return $e("angularfire",Ur.full,"fst"),Yn([$4,B4,{provide:yI,useFactory:U4(n),multi:!0,deps:[Ie,ct,Br,Co,[new jt,na],[new jt,ta],...e]}])}var mp=xt(CN,!0);var gp=xt(dN,!0,2);var vI=xt(hN,!0,2);var _I=xt(EN,!0);var AN=xt(fN,!0);var RN=xt(vN,!0,2),yp=xt(yN,!0,2);var tn=class n{firestore=R(Lo);converter;name;constructor(e){this.name=e}getByDocumentId(e){return S(this,null,function*(){if(this.converter){let t=vI(this.firestore,this.name+"/"+e).withConverter(this.converter),r=yield _I(t);if(r.exists()){let i=this.convertToOrigin(r.data());if(i)return i}}else{let t=vI(this.firestore,this.name+"/"+e),r=yield _I(t);if(r.exists())return r.data()}throw Error(`No existe documento ${e} en ${this.name}`)})}convertToOrigin(e){}getCollection(){let e=gp(this.firestore,this.name),t=yp(e);return mp(t,{idField:"id"})}getFirst(){return this.getCollection().pipe(K(e=>e[0]))}fecthAll(){return S(this,null,function*(){return yield on(this.getColection())})}static \u0275fac=function(t){Ld()};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var vp=class n{isDataLoadedSubject=new We(!1);isFooterDataLoadedSubject=new We(!1);isHeaderDataLoadedSubject=new We(!1);emitLoadedDta(e){this.isDataLoadedSubject.next(e)}emitHeaderLoadedDta(e){this.isHeaderDataLoadedSubject.next(e)}emitFooterLoadedDta(e){this.isFooterDataLoadedSubject.next(e)}get showSpinner$(){return Hi([this.isDataLoadedSubject.asObservable(),this.isFooterDataLoadedSubject.asObservable(),this.isHeaderDataLoadedSubject.asObservable()]).pipe(K(([e,t,r])=>!(t&&e&&r)))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var _p=class n extends tn{spinnerService=R(vp);getColection(){return this.data$}getSingle(){return this.data$.pipe(K(e=>e[0]))}fecthAll(){return S(this,null,function*(){return yield on(this.getColection())})}constructor(){super("indexElements")}get data$(){return this.getCollection().pipe(K(e=>e.map(t=>{let r=t;return r.url=r.url.replace("embed/","watch?v="),r})),Be(e=>this.spinnerService.emitLoadedDta(!0)))}getCollection(){this.spinnerService.emitLoadedDta(!1);let e=gp(this.firestore,"indexElements"),t=yp(e,RN("order","asc"));return mp(t,{idField:"id"})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ma=class n extends En{constructor(){super(R(_p))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ep=class n extends tn{getColection(){return this.getCollection().pipe(K(e=>e.map(t=>t)))}getSingle(){return this.getFirst()}fecthAll(){return S(this,null,function*(){return yield on(this.getColection())})}constructor(){super("header")}get headerInfo$(){return this.getFirst()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var ki=class n extends En{menuRefs=new Ue;constructor(){super(R(Ep))}get getMenuRefs$(){return this.menuRefs.asObservable()}pushMenuRefs(e){this.menuRefs.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};function H4(n,e){if(n&1&&(rt(0),te(1,"app-project-element",3),it()),n&2){let t=e.$implicit,r=e.index,i=Pe(2);$(),ee("projectElement",t)("expand",i.expandedIndex===r)}}function z4(n,e){if(n&1&&(N(0,"main",1),be(1,H4,2,2,"ng-container",2),k()),n&2){let t=e.ngIf;$(),ee("ngForOf",t)}}var wp=class n{itemExpanded=!1;prevItemExpanded=!1;expandedIndex;elementsList;indexArray$;loadedData=!1;indexElementsService=R(Ma);expandElementService=R(hr);headerService=R(ki);subscription=new Ve;subscriptionElementRef=new Ve;projectElements;projectElementRefs;getAllElementRefs(){return this.projectElementRefs.toArray()}getAllProjectElements(){return this.projectElements.toArray()}ngOnInit(){this.loadedData=!0;let e=this.headerService.data$.pipe(K(t=>t.listado));this.indexArray$=this.indexElementsService.list$.pipe(Be(t=>{this.subscriptionElementRef=Mm(e,this.projectElementRefs.changes).subscribe(r=>{let i=[],o=r[0],s=this.getAllElementRefs();if(t.length!=s.length)throw console.error("elementos diferentes"),new Error("Error en indice.");let a=0;for(let l=0;l<t.length;l++){let u=t[l].keywords.toLowerCase().trim();if(a===o.length)break;let h=this.extractValueSafe(o[a].toLowerCase());u===h&&a<o.length&&(i.push(s[l]),a++)}this.headerService.pushMenuRefs(i)})})),this.subscription=this.expandElementService.events$.subscribe(t=>{this.toggleExpand(t)})}ngOnDestroy(){this.subscription.unsubscribe(),this.subscriptionElementRef.unsubscribe()}toggleExpand(e){return S(this,null,function*(){let t=e.id,r=e.elementRef;this.expandedIndex=this.expandedIndex===t&&!e.isActive?void 0:t,yield new Promise(i=>setTimeout(i,300)),this.expandElementService.focusOnElement(r)})}extractValueSafe(e){let t=e.match(/^\([a-zA-Z]\)\s+(.*)/);return t?t[1].trim():e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-indice"]],viewQuery:function(t,r){if(t&1&&(kr(Zs,5),kr(Zs,5,Xn)),t&2){let i;nr(i=rr())&&(r.projectElements=i),nr(i=rr())&&(r.projectElementRefs=i)}},decls:2,vars:3,consts:[["class","mainIndex",4,"ngIf"],[1,"mainIndex"],[4,"ngFor","ngForOf"],[3,"projectElement","expand"]],template:function(t,r){t&1&&(be(0,z4,2,1,"main",0),ir(1,"async")),t&2&&ee("ngIf",or(1,1,r.indexArray$))},dependencies:[Qt,st,Zs,Nn],styles:["main[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;margin-top:28px;padding-left:10px;padding-right:10px}","@media only screen and (max-width: 932px){[class*=mobile][_ngcontent-%COMP%]{display:block!important}main[_ngcontent-%COMP%]{margin-top:15px}}","@media only screen and ((min-width: 768px) and (max-width: 1024px)){main[_ngcontent-%COMP%]{margin-top:10px}}"]})};var Ip=class n{email="info@gmartnewmedia.com";location="Ometusco 96, Colonia Hip\xF3dromo Condesa, C.P 01600, Ciudad de M\xE9xico.";phone="+52 331-1336-736";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-privacy"]],decls:108,vars:3,template:function(t,r){t&1&&(N(0,"section")(1,"p"),B(2,"En GM aArt New Media valoramos y respetamos tu privacidad. Esta Pol\xEDtica de Privacidad describe c\xF3mo recopilamos, utilizamos, compartimos y protegemos la informaci\xF3n personal que obtenemos a trav\xE9s de nuestro sitio web www.gmartnewmedia.com. Al utilizar nuestro sitio, aceptas las pr\xE1cticas descritas en esta pol\xEDtica. "),k(),te(3,"br"),N(4,"h1"),B(5,"1. Informaci\xF3n que Recopilamos"),k(),N(6,"p"),B(7,"Podemos recopilar los siguientes tipos de informaci\xF3n:"),k(),te(8,"br"),N(9,"ul")(10,"li")(11,"p"),B(12,"Informaci\xF3n personal: Nombre, direcci\xF3n de correo electr\xF3nico, n\xFAmero de tel\xE9fono y otra informaci\xF3n que nos proporciones voluntariamente al registrarte, suscribirte a nuestro bolet\xEDn, o contactarnos. "),k()(),N(13,"li")(14,"p"),B(15,"Informaci\xF3n de uso: Datos sobre c\xF3mo interact\xFAas con nuestro sitio, como tu direcci\xF3n IP, tipo de navegador, p\xE1ginas visitadas, tiempo de visita y otros datos anal\xEDticos."),k()(),N(16,"li")(17,"p"),B(18,"Cookies y tecnolog\xEDas similares: Utilizamos cookies y tecnolog\xEDas similares para mejorar la experiencia del usuario y analizar el tr\xE1fico del sitio. Puedes gestionar tus preferencias de cookies a trav\xE9s de la configuraci\xF3n de tu navegador."),k()()(),te(19,"br"),N(20,"h1"),B(21,"2. Uso de la Informaci\xF3n"),k(),N(22,"p"),B(23,"Utilizamos la informaci\xF3n recopilada para los siguientes fines:"),k(),te(24,"br"),N(25,"ul")(26,"li")(27,"p"),B(28,"Proporcionar, operar y mantener nuestro sitio."),k()(),te(29,"li"),N(30,"li")(31,"p"),B(32,"Mejorar, personalizar y expandir las funcionalidades del sitio."),k()(),N(33,"li")(34,"p"),B(35,"Comunicarnos contigo, incluyendo el env\xEDo de boletines, actualizaciones y respuestas a consultas."),k()(),N(36,"li")(37,"p"),B(38,"Analizar el uso del sitio y realizar investigaciones para mejorar nuestros servicios."),k()(),N(39,"li")(40,"p"),B(41,"Cumplir con obligaciones legales y proteger nuestros derechos."),k()()(),te(42,"br"),N(43,"h1"),B(44,"3. Compartir Informaci\xF3n"),k(),N(45,"p"),B(46,"No vendemos, comercializamos ni transferimos tu informaci\xF3n personal a terceros sin tu consentimiento, excepto en los siguientes casos:"),k(),te(47,"br"),N(48,"ul")(49,"li")(50,"p"),B(51,"Proveedores de servicios: Podemos compartir informaci\xF3n con terceros que nos ayudan a operar nuestro sitio (por ejemplo, proveedores de hosting, herramientas de an\xE1lisis y servicios de marketing)."),k()(),N(52,"li")(53,"p"),B(54,"Cumplimiento legal: Podemos divulgar informaci\xF3n si es requerido por ley o para proteger nuestros derechos, propiedad o seguridad, o los de otros usuarios."),k()(),N(55,"li")(56,"p"),B(57,"Transferencias empresariales: En caso de fusi\xF3n, adquisici\xF3n o venta de activos, tu informaci\xF3n podr\xEDa ser transferida al nuevo propietario. "),k()()(),te(58,"br"),N(59,"h1"),B(60,"4. Seguridad de la Informaci\xF3n"),k(),N(61,"p"),B(62,"Implementamos medidas de seguridad t\xE9cnicas y organizativas para proteger tu informaci\xF3n personal contra accesos no autorizados, alteraciones, divulgaciones o destrucci\xF3n. Sin embargo, ning\xFAn sistema es completamente seguro, por lo que no podemos garantizar la seguridad absoluta de tus datos."),k(),te(63,"br"),N(64,"h1"),B(65,"5. Tus Derechos "),k(),N(66,"p"),B(67,"Dependiendo de tu jurisdicci\xF3n, puedes tener los siguientes derechos respecto a tu informaci\xF3n personal:"),k(),te(68,"br"),N(69,"ul")(70,"li")(71,"p"),B(72,"Acceso: Solicitar una copia de la informaci\xF3n que tenemos sobre ti."),k()(),N(73,"p"),B(74,"Rectificaci\xF3n: Solicitar la correcci\xF3n de informaci\xF3n inexacta o incompleta."),k(),N(75,"li")(76,"p"),B(77,"Eliminaci\xF3n: Solicitar la eliminaci\xF3n de tus datos personales."),k()(),N(78,"p"),B(79,"Oposici\xF3n: Oponerte al procesamiento de tus datos en ciertas circunstancias."),k(),N(80,"li")(81,"p"),B(82,"Retiro del consentimiento: Retirar tu consentimiento para el uso de tus datos, cuando corresponda."),k()(),N(83,"li")(84,"p"),B(85,"Para ejercer estos derechos, cont\xE1ctanos a trav\xE9s de la informaci\xF3n proporcionada al final de esta pol\xEDtica."),k()()(),te(86,"br"),N(87,"h1"),B(88,"6. Enlaces a Terceros"),k(),N(89,"p"),B(90,"Nuestro sitio puede contener enlaces a sitios web de terceros. No somos responsables de las pr\xE1cticas de privacidad o el contenido de estos sitios. Te recomendamos revisar sus pol\xEDticas de privacidad antes de proporcionarles cualquier informaci\xF3n personal."),k(),te(91,"br"),N(92,"h1"),B(93,"7. Cambios a esta Pol\xEDtica"),k(),N(94,"p"),B(95,"Podemos actualizar esta Pol\xEDtica de Privacidad ocasionalmente. Cualquier cambio ser\xE1 publicado en esta p\xE1gina con la fecha de la \xFAltima actualizaci\xF3n. Te recomendamos revisar esta pol\xEDtica peri\xF3dicamente para estar informado sobre c\xF3mo protegemos tu informaci\xF3n."),k(),te(96,"br"),N(97,"h1"),B(98,"8. Contacto"),k(),N(99,"p"),B(100,"Si tienes preguntas, comentarios o inquietudes sobre esta Pol\xEDtica de Privacidad o el manejo de tus datos personales, no dudes en contactarnos a:"),k(),te(101,"br"),N(102,"p"),B(103),k(),N(104,"p"),B(105),k(),N(106,"p"),B(107),k()()),t&2&&($(103),Bt("Correo electr\xF3nico: ",r.email,""),$(2),Bt("Direcci\xF3n: ",r.location,""),$(2),Bt("Tel\xE9fono: ",r.phone,""))},encapsulation:2})};var PN=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:wp},{path:"privacy",component:Ip},{path:"**",redirectTo:"index"}];var MN={firebaseConfig:{production:!0,apiKey:"AIzaSyAVzD198amuR8UIZ5Zu-XqCWUritGxW9k8",authDomain:"gmapp-f6d70.firebaseapp.com",databaseURL:"https://gmapp-f6d70-default-rtdb.firebaseio.com",projectId:"gmapp-f6d70",storageBucket:"gmapp-f6d70.firebasestorage.app",messagingSenderId:"999905388732",appId:"1:999905388732:web:8a671ff9e202ba59ac08b9",measurementId:"G-JDYRP554XE"}};var LN="firebasestorage.googleapis.com",VN="storageBucket",q4=2*60*1e3,G4=10*60*1e3;var _t=class n extends Xt{constructor(e,t,r=0){super(EI(e),`Firebase Storage: ${t} (${EI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return EI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Tt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Tt||{});function EI(n){return"storage/"+n}function jN(){let n="An unknown error occurred, please check the error payload for server response.";return new _t(Tt.UNKNOWN,n)}function W4(n){return new _t(Tt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function K4(n){return new _t(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Q4(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(Tt.UNAUTHENTICATED,n)}function Y4(){return new _t(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z4(n){return new _t(Tt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function J4(){return new _t(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function X4(){return new _t(Tt.CANCELED,"User canceled the upload/download.")}function e3(n){return new _t(Tt.INVALID_URL,"Invalid URL '"+n+"'.")}function t3(n){return new _t(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function n3(){return new _t(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VN+"' property when initializing the app?")}function r3(){return new _t(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wI(n){return new _t(Tt.INVALID_ARGUMENT,n)}function UN(){return new _t(Tt.APP_DELETED,"The Firebase app was deleted.")}function i3(n){return new _t(Tt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jl(n){throw new _t(Tt.INTERNAL_ERROR,"Internal error: "+n)}var Hn=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw t3(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(Z){Z.path_=decodeURIComponent(Z.path)}let h="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",g=new RegExp(`^https?://${p}/${h}/b/${i}/o${y}`,"i"),w={bucket:1,path:3},A=t===LN?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",V=new RegExp(`^https?://${A}/${i}/${M}`,"i"),G=[{regex:a,indices:l,postModify:o},{regex:g,indices:w,postModify:u},{regex:V,indices:{bucket:1,path:2},postModify:u}];for(let Z=0;Z<G.length;Z++){let Fe=G[Z],ie=Fe.regex.exec(e);if(ie){let I=ie[Fe.indices.bucket],v=ie[Fe.indices.path];v||(v=""),r=new n(I,v),Fe.postModify(r);break}}if(r==null)throw e3(e);return r}},II=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function o3(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function h(...M){u||(u=!0,e.apply(null,M))}function p(M){i=setTimeout(()=>{i=null,n(g,l())},M)}function y(){o&&clearTimeout(o)}function g(M,...V){if(u){y();return}if(M){y(),h.call(null,M,...V);return}if(l()||s){y(),h.call(null,M,...V);return}r<64&&(r*=2);let G;a===1?(a=2,G=0):G=(r+Math.random())*1e3,p(G)}let w=!1;function A(M){w||(w=!0,y(),!u&&(i!==null?(M||(a=2),clearTimeout(i),p(0)):M||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,A(!0)},t),A}function s3(n){n(!1)}function a3(n){return n!==void 0}function c3(n){return typeof n=="object"&&!Array.isArray(n)}function BN(n){return typeof n=="string"||n instanceof String}function NN(n,e,t,r){if(r<e)throw wI(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw wI(`Invalid value for '${n}'. Expected ${t} or less.`)}function $N(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function HN(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var xa=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(xa||{});function l3(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var bI=class{constructor(e,t,r,i,o,s,a,l,u,h,p,y=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Na(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===xa.NO_ERROR,l=o.getStatus();if(!a||l3(l,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===xa.ABORT;r(!1,new Na(!1,null,h));return}let u=this.successCodes_.indexOf(l)!==-1;r(!0,new Na(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());a3(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=jN();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){let l=this.appDelete_?UN():X4();s(l)}else{let l=J4();s(l)}};this.canceled_?t(!1,new Na(!1,null,!0)):this.backoffId_=o3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Na=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function u3(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function d3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function h3(n,e){e&&(n["X-Firebase-GMPID"]=e)}function f3(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function p3(n,e,t,r,i,o,s=!0){let a=HN(n.urlParams),l=n.url+a,u=Object.assign({},n.headers);return h3(u,e),u3(u,t),d3(u,o),f3(u,r),new bI(l,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function zN(n){let e;try{e=JSON.parse(n)}catch{return null}return c3(e)?e:null}function m3(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function g3(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function qN(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function y3(n,e){return e}var bt=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||y3}},bp=null;function v3(n){return!BN(n)||n.length<2?n:qN(n)}function _3(){if(bp)return bp;let n=[];n.push(new bt("bucket")),n.push(new bt("generation")),n.push(new bt("metageneration")),n.push(new bt("name","fullPath",!0));function e(o,s){return v3(s)}let t=new bt("name");t.xform=e,n.push(t);function r(o,s){return s!==void 0?Number(s):s}let i=new bt("size");return i.xform=r,n.push(i),n.push(new bt("timeCreated")),n.push(new bt("updated")),n.push(new bt("md5Hash",null,!0)),n.push(new bt("cacheControl",null,!0)),n.push(new bt("contentDisposition",null,!0)),n.push(new bt("contentEncoding",null,!0)),n.push(new bt("contentLanguage",null,!0)),n.push(new bt("contentType",null,!0)),n.push(new bt("metadata","customMetadata",!0)),bp=n,bp}function E3(n,e){function t(){let r=n.bucket,i=n.fullPath,o=new Hn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function w3(n,e,t){let r={};r.type="file";let i=t.length;for(let o=0;o<i;o++){let s=t[o];r[s.local]=s.xform(r,e[s.server])}return E3(r,n),r}function I3(n,e,t){let r=zN(e);return r===null?null:w3(n,r,t)}function b3(n,e,t,r){let i=zN(e);if(i===null||!BN(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(u=>{let h=n.bucket,p=n.fullPath,y="/b/"+s(h)+"/o/"+s(p),g=$N(y,t,r),w=HN({alt:"media",token:u});return g+w})[0]}var TI=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function T3(n){if(!n)throw jN()}function C3(n,e){function t(r,i){let o=I3(n,i,e);return T3(o!==null),b3(o,i,n.host,n._protocol)}return t}function S3(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Y4():i=Q4():t.getStatus()===402?i=K4(n.bucket):t.getStatus()===403?i=Z4(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function D3(n){let e=S3(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=W4(n.path)),o.serverResponse=i.serverResponse,o}return t}function A3(n,e,t){let r=e.fullServerUrl(),i=$N(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new TI(i,o,C3(n,t),s);return a.errorHandler=D3(e),a}var uie=256*1024;var xN=null,CI=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw jl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},SI=class extends CI{initXhr(){this.xhr_.responseType="text"}};function R3(){return xN?xN():new SI}var ka=class n{constructor(e,t){this._service=e,t instanceof Hn?this._location=t:this._location=Hn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qN(this._location.path)}get storage(){return this._service}get parent(){let e=m3(this._location.path);if(e===null)return null;let t=new Hn(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw i3(e)}};function P3(n){n._throwIfRoot("getDownloadURL");let e=A3(n.storage,n._location,_3());return n.storage.makeRequestWithTokens(e,R3).then(t=>{if(t===null)throw r3();return t})}function M3(n,e){let t=g3(n._location.path,e),r=new Hn(n._location.bucket,t);return new ka(n.storage,r)}function N3(n){return/^[A-Za-z]+:\/\//.test(n)}function x3(n,e){return new ka(n,e)}function GN(n,e){if(n instanceof Ul){let t=n;if(t._bucket==null)throw n3();let r=new ka(t,t._bucket);return e!=null?GN(r,e):r}else return e!==void 0?M3(n,e):n}function k3(n,e){if(e&&N3(e)){if(n instanceof Ul)return x3(n,e);throw wI("To use ref(service, url), the first argument must be a Storage instance.")}else return GN(n,e)}function kN(n,e){let t=e?.[VN];return t==null?null:Hn.makeFromBucketSpec(t,n)}function O3(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:tf(i,n.app.options.projectId))}var Ul=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=LN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q4,this._maxUploadRetryTime=G4,this._requests=new Set,i!=null?this._bucket=Hn.makeFromBucketSpec(i,this._host):this._bucket=kN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=kN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return S(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return S(this,null,function*(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ka(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new II(UN());{let s=p3(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return S(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},ON="@firebase/storage",FN="0.13.7";var WN="storage";function KN(n){return n=wt(n),P3(n)}function QN(n,e){return n=wt(n),k3(n,e)}function YN(n=Ci(),e){n=wt(n);let r=Js(n,WN).getImmediate({identifier:e}),i=ef("storage");return i&&ZN(r,...i),r}function ZN(n,e,t,r={}){O3(n,e,t,r)}function F3(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Ul(t,r,i,e,Ti)}function L3(){dn(new It(WN,F3,"PUBLIC").setMultipleInstances(!0)),$e(ON,FN,""),$e(ON,FN,"esm2017")}L3();var Vo=class{constructor(e){return e}},JN="storage",DI=class{constructor(){return Si(JN)}};var AI=new Q("angularfire2.storage-instances");function V3(n,e){let t=ea(JN,n,e);return t&&new Vo(t)}function j3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Vo(r)}}var U3={provide:DI,deps:[[new jt,AI]]},B3={provide:Vo,useFactory:V3,deps:[[new jt,AI],$r]};function XN(n,...e){return $e("angularfire",Ur.full,"gcs"),Yn([B3,U3,{provide:AI,useFactory:j3(n),multi:!0,deps:[Ie,ct,Br,Co,[new jt,na],[new jt,ta],...e]}])}var ex=xt(KN,!0);var tx=xt(YN,!0);var nx=xt(QN,!0,2);var rx={providers:[JA(),xS({eventCoalescing:!0}),kv(PN),AR(()=>RR(MN.firebaseConfig)),XN(()=>tx()),DN(()=>AN())]};var Oa=class n extends tn{getColection(){return this.getCollection().pipe(K(e=>e.map(t=>t)))}getSingle(){return this.getFirst()}fecthAll(){return S(this,null,function*(){return yield on(this.getColection())})}constructor(){super("links")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Tp=class n extends tn{getColection(){return this.getContacts().pipe(K(e=>[e]))}getSingle(){return this.getContacts()}linkService=R(Oa);converter={toFirestore(e){return{email:e.email,instagram:e.instagram,whatsApp:e.whatsApp}},fromFirestore(e,t){let r=e.data(t);return{email:r.email,instagram:r.instagram,whatsApp:r.whatsApp}}};convertToOrigin(e){return S(this,null,function*(){let t=yield this.linkService.getByDocumentId(e.email.id),r=yield this.linkService.getByDocumentId(e.whatsApp.id),i=yield this.linkService.getByDocumentId(e.instagram.id);return{email:t,whatsApp:r,instagram:i}})}constructor(){super("contact")}getContacts(){return this.getFirst().pipe(mt(e=>this.forkJoinFireData(e)))}forkJoinFireData(e){let t=Ne(this.linkService.getByDocumentId(e.email.id)),r=Ne(this.linkService.getByDocumentId(e.whatsApp.id)),i=Ne(this.linkService.getByDocumentId(e.instagram.id));return sc([t,r,i]).pipe(K(([o,s,a])=>({email:o,whatsApp:s,instagram:a})))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fa=class n extends En{constructor(){super(R(Tp))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};function $3(n,e){if(n&1){let t=gi();rt(0),N(1,"p")(2,"a",1),Ut("click",function(){let i=Zn(t).ngIf,o=Pe();return Jn(o.handleContact(i.email.url))}),B(3),k()(),N(4,"p")(5,"a",1),Ut("click",function(){let i=Zn(t).ngIf,o=Pe();return Jn(o.handleContact(i.instagram.url))}),B(6),k()(),N(7,"p")(8,"a",1),Ut("click",function(){let i=Zn(t).ngIf,o=Pe();return Jn(o.handleContact(i.whatsApp.url))}),B(9),k()(),it()}if(n&2){let t=e.ngIf;$(3),et(t.email.title),$(3),et(t.instagram.title),$(3),et(t.whatsApp.title)}}var La=class n{contactService=R(Fa);contacto$;ngOnInit(){this.contacto$=this.contactService.data$}handleContact(e){e!=null&&window.open(e,"_blanks")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-contact"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"click"]],template:function(t,r){t&1&&(be(0,$3,10,3,"ng-container",0),ir(1,"async")),t&2&&ee("ngIf",or(1,1,r.contacto$))},dependencies:[Nn,st],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word;overflow-wrap:break-word}"]})};var H3=["videoElement"];function z3(n,e){if(n&1&&(N(0,"p"),B(1),k()),n&2){let t=e.$implicit;$(),Bt(" ",t," ")}}function q3(n,e){if(n&1){let t=gi();rt(0),N(1,"a",10),Ut("click",function(){let i=Zn(t).index,o=Pe(2);return Jn(o.handleElementMenu(o.menuList[i]))}),N(2,"p"),B(3),k()(),it()}if(n&2){let t=e.$implicit;$(3),Bt(" ",t,"")}}function G3(n,e){if(n&1&&(N(0,"header",3)(1,"div",4)(2,"div",5),be(3,z3,2,1,"p",6),k(),N(4,"div",7),be(5,q3,4,1,"ng-container",6),k(),te(6,"app-contact"),N(7,"div",8),te(8,"img",9),k()()()),n&2){let t=e.ngIf;$(3),ee("ngForOf",t.detalles),$(2),ee("ngForOf",t.listado)}}var Cp=class n{heeaderService=R(ki);router=R(On);expandElementService=R(hr);subscription=new Ve;videoSource;headerInfo$;menuList;hasExpanded=!1;videoRef;ngOnInit(){this.headerInfo$=this.heeaderService.data$.pipe(Be(e=>this.videoSource=e.videoPlayBack)),this.subscription=this.heeaderService.getMenuRefs$.subscribe(e=>this.menuList=e)}ngOnDestroy(){this.subscription.unsubscribe()}onIndex(){console.log("index"),this.router.navigateByUrl("index")}onImages(){console.log("images"),this.router.navigateByUrl("images")}handleContact(e){e!=null&&window.open(e,"_blanks")}handleElementMenu(e){this.expandElementService.focusOnElement(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-header"]],viewQuery:function(t,r){if(t&1&&kr(H3,5),t&2){let i;nr(i=rr())&&(r.videoRef=i.first)}},decls:4,vars:4,consts:[["videoElement",""],["class","video-container-desktop",4,"ngIf"],["alt","Background GIF",1,"video-background",3,"src"],[1,"video-container-desktop"],[1,"content-over-video"],[1,"detalles"],[4,"ngFor","ngForOf"],[1,"listado"],[1,"logo"],["src","https://firebasestorage.googleapis.com/v0/b/gmapp-f6d70.firebasestorage.app/o/logo.png?alt=media&token=e25e6eb8-f15c-43fe-a6ee-1f0b7a708a2a"],[1,"menuElement",3,"click"]],template:function(t,r){t&1&&(be(0,G3,9,2,"header",1),ir(1,"async"),te(2,"img",2,0)),t&2&&(ee("ngIf",or(1,2,r.headerInfo$)),$(2),ee("src",r.videoSource,oo))},dependencies:[Qt,Fv,st,La,Nn],styles:['@charset "UTF-8";[class*=mobile][_ngcontent-%COMP%]{display:none!important}.video-background[_ngcontent-%COMP%]{position:relative;z-index:-1;width:100%;max-height:100vh}header.video-container-desktop[_ngcontent-%COMP%]{width:100%;z-index:1;overflow:hidden;height:auto;background-color:#fff;position:fixed;top:0;left:0;box-shadow:0 2px 5px #0000001a}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]{margin:10px;display:grid;grid-template-columns:20% 60% 19% 1%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{justify-self:left}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child:after{content:"\\ae";margin-left:-5px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .listado[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{justify-self:right;display:block;width:50px;height:50px}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.menuElement[_ngcontent-%COMP%]{cursor:pointer}',"@media only screen and (max-width: 932px){[class*=mobile][_ngcontent-%COMP%]{display:block!important}header.video-container-desktop[_ngcontent-%COMP%]{position:sticky}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]{margin:8px;grid-template-columns:25% 60% 15%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{width:80%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:auto}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   app-contact[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 932px) and (max-height: 767px) and (orientation: landscape){[class*=mobile][_ngcontent-%COMP%]{display:block!important}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]{grid-template-columns:25% 60% 15%}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{font-size:14px!important}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:70px!important;height:70px!important;height:auto}}","@media only screen and ((min-width: 768px) and (max-width: 1024px)){header.video-container-desktop[_ngcontent-%COMP%]   .content-over-video[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px}app-contact[_ngcontent-%COMP%]{display:block;max-width:70%}}"]})};var Sp=class n{storage=R(Vo);getDownloadUrl(e){!e.includes("png")&&!e.includes("jpg")&&!e.includes("jpeg")&&(e=`${e}.png`);let t=nx(this.storage,e);return new le(r=>{ex(t).then(i=>{r.next(i),r.complete()}).catch(i=>r.error(i))})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Dp=class n extends tn{linkService=R(Oa);storage=R(Sp);getColection(){return this.clinets$.pipe(K(e=>[e]))}getSingle(){return this.clinets$}converter={toFirestore(e){return{clients:e.clients,title:e.title}},fromFirestore(e,t){let r=e.data(t);return{clients:r.clients,title:r.title}}};constructor(){super("clients")}get clinets$(){return this.getFirst().pipe(mt(e=>{let t=e.clients.map(r=>Ne(this.linkService.getByDocumentId(r.id)).pipe(mt(i=>i.url?this.storage.getDownloadUrl(i.url).pipe(K(o=>Me(U({},i),{url:o}))):[i])));return sc(t).pipe(K(r=>({title:e.title,clients:r})))}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Va=class n extends En{constructor(){super(R(Dp))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};function W3(n,e){if(n&1&&te(0,"img",6),n&2){let t=e.$implicit;Vy("src",t.url,oo)}}function K3(n,e){if(n&1&&(rt(0),N(1,"div",1)(2,"p"),B(3),k()(),N(4,"div",2)(5,"div",3),be(6,W3,1,1,"img",4),k(),N(7,"div",5)(8,"p"),B(9),k()()(),it()),n&2){let t=e.ngIf,r=Pe();$(3),et(t.title),$(3),ee("ngForOf",t.clients),$(3),Bt("",r.clientsInfo,".")}}var Ap=class n{clientes$;clientsInfo;clientService=R(Va);ngOnInit(){this.clientes$=this.clientService.data$.pipe(Be(e=>{this.clientsInfo=e.clients.map(t=>t.title).join(", ")}))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-clients"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"title"],[1,"info"],[1,"clientImages"],[3,"src",4,"ngFor","ngForOf"],[1,"clientInfo"],[3,"src"]],template:function(t,r){t&1&&(be(0,K3,10,3,"ng-container",0),ir(1,"async")),t&2&&ee("ngIf",or(1,1,r.clientes$))},dependencies:[Qt,st,Nn],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:40% 1fr;grid-template-rows:100%;margin-bottom:10px}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .clientInfo[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:rows}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:left}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(1);opacity:.25;max-height:70px;max-width:120px;margin:5px}","@media only screen and (max-width: 932px){[class*=mobile][_ngcontent-%COMP%]{display:block!important}[_nghost-%COMP%]{grid-template-columns:23% 77%;max-width:100%;display:grid}[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;max-width:50px}}@media only screen and (max-width: 932px) and (max-height: 767px) and (orientation: landscape){[class*=mobile][_ngcontent-%COMP%]{display:block!important}[_nghost-%COMP%]{display:flex!important;font-size:14px}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{width:23%!important}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{width:77%!important}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:75px;max-width:90px}}","@media only screen and ((min-width: 768px) and (max-width: 1024px)){[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{width:40%}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{width:60%}}"]})};var Rp=class n extends tn{getColection(){return this.getCollection().pipe(K(e=>e.map(t=>t)))}getSingle(){return this.getFirst()}fecthAll(){return S(this,null,function*(){return yield on(this.getColection())})}constructor(){super("nosotros")}get clinets$(){return this.getFirst()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var ja=class n extends En{constructor(){super(R(Rp))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};function Q3(n,e){if(n&1&&(N(0,"span")(1,"p"),B(2),k()()),n&2){let t=e.$implicit;$(2),et(t)}}function Y3(n,e){if(n&1&&(rt(0),N(1,"div",1)(2,"p"),B(3),k(),N(4,"p"),B(5,"Contact"),k()(),te(6,"app-contact"),N(7,"div",2),be(8,Q3,3,1,"span",3),N(9,"div",4),te(10,"app-contact"),k()(),it()),n&2){let t=e.ngIf;$(3),et(t.title),$(5),ee("ngForOf",t.descriptions)}}var Pp=class n{nosotros$;nosotrosService=R(ja);ngOnInit(){this.nosotros$=this.nosotrosService.data$}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-nosotros"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"title"],[1,"descripcion"],[4,"ngFor","ngForOf"],[1,"contactDevice"]],template:function(t,r){t&1&&(be(0,Y3,11,2,"ng-container",0),ir(1,"async")),t&2&&ee("ngIf",or(1,1,r.nosotros$))},dependencies:[st,Qt,La,Nn],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:20% 20% 60%;grid-template-rows:100%}[_nghost-%COMP%]   .descripcion[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;overflow-wrap:break-word;padding-bottom:60px;line-height:1.2}[_nghost-%COMP%]   .descripcion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .contactDevice[_ngcontent-%COMP%]   app-contact[_ngcontent-%COMP%]{display:none}","@media only screen and (max-width: 932px){[class*=mobile][_ngcontent-%COMP%]{display:block!important}[_nghost-%COMP%]{grid-template-columns:25% 75%}[_nghost-%COMP%]   .contactDevice[_ngcontent-%COMP%]   app-contact[_ngcontent-%COMP%]{display:block;padding-top:10px}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{justify-self:start;width:60%}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}[_nghost-%COMP%]   app-contact[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .descripcion[_ngcontent-%COMP%]{padding:0;margin:0 0 10px}}@media only screen and (max-width: 932px) and (max-height: 767px) and (orientation: landscape){[class*=mobile][_ngcontent-%COMP%]{display:block!important}[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{width:25%;font-size:14px}[_nghost-%COMP%]   .descripcion[_ngcontent-%COMP%]{width:75%}[_nghost-%COMP%]   .contactDevice[_ngcontent-%COMP%]{font-size:14px}}"]})};var Mp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-footer"]],decls:3,vars:0,template:function(t,r){t&1&&(N(0,"footer"),te(1,"app-nosotros")(2,"app-clients"),k())},dependencies:[Ap,Pp],styles:["footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.5;margin-left:10px;margin-right:10px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:1px}footer[_ngcontent-%COMP%]:first-child{border-top:.5mm solid rgb(207,207,207)}footer[_ngcontent-%COMP%]:last-child{border-bottom:none}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]{padding-left:0;padding-top:5px}footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]{border-top:.5mm solid rgb(207,207,207);padding:10px 10px 10px 0}","@media only screen and (max-width: 932px){[class*=mobile][_ngcontent-%COMP%]{display:block!important}footer[_ngcontent-%COMP%]{padding-bottom:20px}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]{padding:5px 5px 5px 0;grid-template-columns:26% 1fr}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   .contactDevice[_ngcontent-%COMP%]{display:block}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{justify-self:start;width:60%}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{display:none}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   app-contact[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   app-nosotros[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{padding:0;margin:0 0 10px}footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]{padding:5px;padding-top:50;grid-template-columns:25% 75%}footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .clientImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;max-width:50px}}","@media only screen and ((min-width: 768px) and (max-width: 1024px)){footer[_ngcontent-%COMP%]   app-clients[_ngcontent-%COMP%]{grid-template-columns:20% 0% 80%;padding-top:0}}"]})};function Z3(n,e){n&1&&(N(0,"div",1)(1,"div",2),te(2,"div",3),k()())}var Np=class n{isLoading=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-spinner"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner-container"],[1,"spinner"]],template:function(t,r){t&1&&be(0,Z3,3,0,"div",0),t&2&&ee("ngIf",r.isLoading)},dependencies:[st],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#fff;display:flex;justify-content:center;align-items:center;z-index:9999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top-color:#000;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}.spinner-text[_ngcontent-%COMP%]{color:#333;font-size:1rem;font-weight:500}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};var xp=class n{isVisible=!1;inactivityTimer;INACTIVITY_DELAY=5e3;hasScrolled=!1;ngOnInit(){this.startInactivityTimer()}elementToScroll;expandeElement=R(hr);onUserActivity(){window.scrollY===0?(this.hasScrolled=!1,this.startInactivityTimer()):(clearTimeout(this.inactivityTimer),this.hasScrolled=!0,this.hideArrow())}startInactivityTimer(){clearTimeout(this.inactivityTimer),this.inactivityTimer=setTimeout(()=>{this.showArrow()},this.INACTIVITY_DELAY)}showArrow(){this.isVisible=!0}hideArrow(){this.isVisible=!1}scrollToMain(){this.expandeElement.focusOnElement(this.elementToScroll)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-scroll-arrow"]],hostBindings:function(t,r){t&1&&Ut("scroll",function(){return r.onUserActivity()},!1,$0)},inputs:{elementToScroll:"elementToScroll"},decls:3,vars:2,consts:[[1,"scroll-arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M12 5v14M19 12l-7 7-7-7"]],template:function(t,r){t&1&&(N(0,"div",0),Ut("click",function(){return r.scrollToMain()}),JC(),N(1,"svg",1),te(2,"path",2),k()()),t&2&&bc("visible",r.isVisible)},styles:[".scroll-arrow[_ngcontent-%COMP%]{width:40px;height:40px;background:#0009;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transition:opacity 2s ease;z-index:1000;border-style:solid;border-color:#fff;border-width:1px}.scroll-arrow.visible[_ngcontent-%COMP%]{opacity:1}.scroll-arrow[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;width:60%;height:60%}"]})};function J3(n,e){if(n&1&&(rt(0),te(1,"app-scroll-arrow",2),it()),n&2){let t=Pe();$(),ee("elementToScroll",t.elementReference)}}var kp=class n{title="gm-web";shouldShowSpinner=!0;elementReference;clientService=R(Va);contactService=R(Fa);headerService=R(ki);indexService=R(Ma);nosotrosService=R(ja);ngOnInit(){this.ejecutarPromesas(),this.headerService.getMenuRefs$.subscribe(e=>{setTimeout(()=>{this.elementReference=e[0]})})}ejecutarPromesas(){return S(this,null,function*(){try{yield Promise.all([this.clientService.fetch(),this.contactService.fetch(),this.headerService.fetch(),this.indexService.fetchAll(),this.nosotrosService.fetch()]),setTimeout(()=>this.shouldShowSpinner=!1,Math.random()*800)}catch(e){console.error("Error en ejecucion de promesas:",e)}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Oe({type:n,selectors:[["app-root"]],decls:5,vars:2,consts:[[4,"ngIf"],[3,"isLoading"],[3,"elementToScroll"]],template:function(t,r){t&1&&(te(0,"app-header")(1,"router-outlet")(2,"app-footer"),be(3,J3,2,1,"ng-container",0),te(4,"app-spinner",1)),t&2&&($(3),ee("ngIf",r.elementReference),$(),ee("isLoading",r.shouldShowSpinner))},dependencies:[st,Gc,Cp,Mp,Np,xp],styles:["app-scroll-arrow[_ngcontent-%COMP%]{position:fixed;left:50%;right:50%;bottom:20px}"]})};ov(kp,rx).catch(n=>console.error(n));
